{"version":3,"sources":["image/defaultImg.jpg","mybase.js","components/ImageModal.js","components/EditJweet.js","components/ReplyFactory.js","reducers/user.js","components/JweetBlock.js","components/JweetFactory.js","routes/Home.js","components/LikeJweets.js","components/MyJweets.js","image/bgimg.jpg","components/EditProfile.js","routes/Profile.js","components/AuthForm.js","image/background.jpg","image/github.jpg","image/google.png","image/logo.png","routes/Login.js","routes/Leftbar.js","components/SearchUserBlock.js","components/SearchJweetBlock.js","components/RecommendJweet.js","components/RecommendJweetBlock.js","components/RecommendUser.js","components/RecommendUserBlock.js","routes/Rightbar.js","routes/Bookmark.js","routes/Popular.js","components/ExploreJweets.js","components/UserBlock.js","components/ExploreUsers.js","routes/Explore.js","components/DetailBlock.js","components/EditReply.js","components/ReplyBlock.js","routes/JweetDetail.js","components/Router.js","routes/App.js","reducers/index.js","app/store.js","index.js"],"names":["auth","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getFirestore","storage","getStorage","ImageModal","photoURL","photoOpen","handlePhotoClose","handlePhotoOpen","Modal","open","onClose","class","src","alt","onClick","size","Alert","React","forwardRef","props","ref","elevation","variant","EditJweet","_jweet","handleJweetClose","currentUser","useSelector","state","user","useState","text","jweet","setJweet","attachmentUrl","attachment","setAttachment","textareaRef","useRef","fileRef","emojiRef","emojiClick","setEmojiClick","onSubmit","e","a","preventDefault","updateDoc","doc","id","useEffect","current","style","height","scrollHeight","window","addEventListener","handleClick","removeEventListener","contains","target","handleResizeHeight","useCallback","editSnack","setEditSnack","editClose","reason","defaultImg","type","value","onChange","placeholder","onInput","click","onEmojiClick","event","emojiObject","cp","emoji","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","currentTarget","result","readAsDataURL","Snackbar","autoHideDuration","severity","color","sx","width","ReplyFactory","isModal","handleReplyClose","replyText","setReplyText","over","setOver","focusOn","setFocusOn","onSnapshot","data","alert","attachmentRef","uid","uuidv4","uploadString","response","getDownloadURL","createdAt","Date","now","creatorId","like","parent","addDoc","collection","reply","console","log","substring","length","innerHeight","onFocus","SET_LOGIN_TOKEN","SET_CURRENT_USER","SET_MODE","setLoginToken","loginToken","payload","setCurrentUser","initialState","displayName","email","mode","action","JweetBlock","history","useHistory","dispatch","useDispatch","loading","setLoading","funcRef","func","setFunc","setLike","bookmark","setBookmark","creatorInfo","setCreatorInfo","jweetOpen","setJweetOpen","replyOpen","setReplyOpen","checkOpen","setCheckOpen","handleCheckClose","bookmarkSnack","setBookmarkSnack","bookmarkClose","likeSnack","setLikeSnack","likeClose","onDeleteClick","deleteDoc","deleteObject","includes","toggleBookmark","splice","indexOf","push","toggleLike","setPhotoOpen","exceptRef","modalRef","dotRef","profileRef","replyRef","reJweetRef","likeRef","bookmarkRef","tagName","innerText","Avatar","Skeleton","split","JweetFactory","Home","jweets","setJweets","query","orderBy","snapshot","nweetArray","docs","map","index","CircularProgress","LikeJweets","match","params","likeJweets","setLikeJweets","where","_likeJweets","isOwner","MyJweets","myJweets","setMyJweets","q","querySnapshot","forEach","EditProfile","editModal","editModalClose","editModalOpen","toggleEditState","description","info","setInfo","focused","setFocused","onChangeInfo","editClick","bgimg","onBlur","Profile","editState","setEditState","setEditModal","getMyInfo","getJweets","goBack","to","location","href","path","component","AuthForm","isLogin","password","error","setError","signInWithEmailAndPassword","then","docRef","getDoc","snap","exists","createUserWithEmailAndPassword","usersRef","setDoc","message","required","Login","login","setLogin","setOpen","handleOpen","toggleLogin","onSocialClick","name","provider","GoogleAuthProvider","signInWithPopup","credentialFromResult","accessToken","catch","GithubAuthProvider","profileURL","logo","google","github","background","Leftbar","selected","setSelected","profileOpen","setProfileOpen","handleProfileClose","profile","setProfile","discardCheck","onSelected","num","scrollTo","signOut","SearchUserBlock","setFocus","SearchJweetBlock","users","filteredUser","setFilteredUser","_filteredUser","filter","element","RecommendJweet","RecommendBlock","settingRef","show","setShow","sortedJweets","setSortedJweets","setUsers","randomIndex","setRandomIndex","modalOpen","setModalOpen","handleModalClose","likeList","setLikeList","randomList","setRandomList","setType","selectType","_user","_myJweet","getLikeList","getRandomList","sort","b","Array","from","v","i","shuffle","_randomArray","array","randomPosition","Math","floor","random","temporary","RecommendUser","RecommendUserBlock","refresh","setRefresh","Rightbar","search","setSearch","focus","filteredJweets","setFilteredJweets","filteredUsers","setFilteredUsers","inputRef","getFiltered","_filteredUsers","_filteredJweets","RecommendJweetBlock","Bookmark","Popular","myJweetArray","ExploreJweets","UserBlock","ExploreUser","userArray","_randomList","refreshJweets","refreshUsers","ExploreUsers","DetailBlock","EditReply","_reply","setReply","ReplyBlock","docu","JweetDetail","replies","setReplies","getJweet","getReplies","AppRouter","isLoggedIn","exact","Explore","App","USER_LOGOUT","appReducer","combineReducers","rootReducer","undefined","persistConfig","key","persistedReducer","persistReducer","reducers","store","createStore","composeWithDevTools","persistor","persistStore","configureStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab68c2db.chunk.js","sourcesContent":["export default \"data:image/jpeg;base64,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\"","import { initializeApp } from \"@firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n\tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\r\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n\tappId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nconst firebase = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\nexport const storage = getStorage();\r\nexport default firebase;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { IoClose } from \"react-icons/io5\";\r\n\r\nconst ImageModal = ({\r\n\tphotoURL,\r\n\tphotoOpen,\r\n\thandlePhotoOpen,\r\n\thandlePhotoClose,\r\n}) => {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={photoOpen}\r\n\t\t\tonClose={handlePhotoClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"outline-none absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center h-auto py-1/3 rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<img src={photoURL} alt=\"imgURL\" class=\"object-cover\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={handlePhotoClose}\r\n\t\t\t\t\tclass=\"absolute left-4 top-4 rounded-full text-white p-2 bg-gray-700 hover:bg-gray-400 \"\r\n\t\t\t\t>\r\n\t\t\t\t\t<IoClose size={24} />\r\n\t\t\t\t</button>\r\n\t\t\t</>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ImageModal;\r\n","import Picker from \"emoji-picker-react\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport ImageModal from \"components/ImageModal\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst EditJweet = ({ _jweet, handleJweetClose }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [jweet, setJweet] = useState(_jweet.text);\r\n\tconst [attachment, setAttachment] = useState(_jweet.attachmentUrl);\r\n\tconst textareaRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst emojiRef = useRef();\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst toggleEmoji = () => setEmojiClick(!emojiClick);\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\t// setChosenEmoji(emojiObject);\r\n\t\tconst cp = jweet + emojiObject.emoji;\r\n\t\tsetJweet(cp);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\thandleJweetClose();\r\n\t\tawait updateDoc(doc(db, \"jweets\", _jweet.id), {\r\n\t\t\ttext: jweet,\r\n\t\t\tattachmentUrl: attachment === null ? \"\" : attachment,\r\n\t\t});\r\n\t};\r\n\tconst onChange = (e) => {\r\n\t\tsetJweet(e.target.value);\r\n\t};\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t});\r\n\r\n\tconst [editSnack, setEditSnack] = useState();\r\n\tconst editClick = () => setEditSnack(true);\r\n\tconst editClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetEditSnack(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex flex-row px-2 pt-2 border-b border-gray-200\">\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col px-4 pb-2\">\r\n\t\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={jweet}\r\n\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"What's happening?\"\r\n\t\t\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\t\t\tclass=\"w-full py-3 resize-none h-10 overflow-hidden scroll leading-7 outline-none text-lg text-purple-300 focus:text-purple-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{attachment && (\r\n\t\t\t\t\t\t\t<div class=\"w-full h-96 relative\">\r\n\t\t\t\t\t\t\t\t<img src={attachment} class=\"h-60 object-cover\" alt=\"preview\" />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"absolute left-0 top-0 w-auto h-auto opacity-70 cursor-pointer\"\r\n\t\t\t\t\t\t\t\t\tonClick={clearAttachment}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MdCancel size={28} alt=\"remove\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-row justify-between items-center pr-2\">\r\n\t\t\t\t\t\t{/* 좌측 아이콘 */}\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-300 relative\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{emojiClick && (\r\n\t\t\t\t\t\t\t\t<div ref={emojiRef} class=\"absolute top-10\">\r\n\t\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 우측 submit */}\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-full text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\t\tvalue=\"Jweet\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<Snackbar open={editSnack} autoHideDuration={2000} onClose={editClose}>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={editClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{editSnack ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditJweet;\r\n","import React, { useEffect, useCallback, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { db, storage } from \"mybase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadString } from \"firebase/storage\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\taddDoc,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tupdateDoc,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\n\r\nconst ReplyFactory = ({ id, isModal, handleReplyClose }) => {\r\n\tconst [jweet, setJweet] = useState({});\r\n\tconst [replyText, setReplyText] = useState(\"\");\r\n\tconst [over, setOver] = useState(false);\r\n\tconst [focusOn, setFocusOn] = useState(false);\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst [attachment, setAttachment] = useState(\"\");\r\n\tconst emojiRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst toggleEmoji = () => setEmojiClick(!emojiClick);\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\tconst cp = replyText + emojiObject.emoji;\r\n\t\tsetReplyText(cp);\r\n\t};\r\n\tconst textareaRef = useRef();\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst onChange = (e) => {\r\n\t\tsetReplyText(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(doc(db, \"jweets\", id), (doc) => {\r\n\t\t\tsetJweet({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t});\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet attachmentUrl = \"\";\r\n\r\n\t\tconst text = replyText;\r\n\t\tif (text === \"\") {\r\n\t\t\talert(\"글자를 입력해주세요\");\r\n\t\t} else {\r\n\t\t\tif (attachment !== \"\") {\r\n\t\t\t\tconst attachmentRef = ref(storage, `${currentUser.uid}/${uuidv4()}`);\r\n\t\t\t\tconst response = await uploadString(\r\n\t\t\t\t\tattachmentRef,\r\n\t\t\t\t\tattachment,\r\n\t\t\t\t\t\"data_url\"\r\n\t\t\t\t);\r\n\t\t\t\tattachmentUrl = await getDownloadURL(response.ref);\r\n\t\t\t}\r\n\t\t\tconst _jweet = {\r\n\t\t\t\ttext: text,\r\n\t\t\t\tcreatedAt: Date.now(),\r\n\t\t\t\tcreatorId: currentUser.uid,\r\n\t\t\t\tlike: [],\r\n\t\t\t\tattachmentUrl,\r\n\t\t\t\tparent: id,\r\n\t\t\t};\r\n\t\t\tsetReplyText(\"\");\r\n\t\t\tsetAttachment(\"\");\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\tif (isModal) {\r\n\t\t\t\thandleReplyClose();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tsetOver(false);\r\n\t\t\t\tsetFocusOn(false);\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t\tsetReplyText(\"\");\r\n\t\t\t\tsetAttachment(\"\");\r\n\t\t\t\tconst reply = await addDoc(collection(db, \"replies\"), _jweet);\r\n\t\t\t\tawait updateDoc(doc(db, \"jweets\", id), {\r\n\t\t\t\t\treply: [...jweet.reply, reply.id],\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttextareaRef.current.style.height.substring(\r\n\t\t\t\t0,\r\n\t\t\t\ttextareaRef.current.style.height.length - 2\r\n\t\t\t) *\r\n\t\t\t\t1 >\r\n\t\t\twindow.innerHeight - 200\r\n\t\t) {\r\n\t\t\tsetOver(true);\r\n\t\t\tif (replyText === \"\") textareaRef.current.style.height = \"40px\";\r\n\t\t} else {\r\n\t\t\tsetOver(false);\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\ttextareaRef.current.style.height =\r\n\t\t\t\ttextareaRef.current.scrollHeight + \"px\";\r\n\t\t}\r\n\t});\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclass={\r\n\t\t\t\t\"flex flex-row h-auto border-t py-2 px-2 \" +\r\n\t\t\t\t(isModal ? \"\" : \"border-b border-gray-200\")\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div class=\"p-2 h-16\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\talt=\"img\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"flex-1 flex items-end \" +\r\n\t\t\t\t\t(focusOn ? \"flex-col\" : \"flex-row items-center \")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={replyText}\r\n\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder=\"Jweet Your reply?\"\r\n\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\tonFocus={() => setFocusOn(true)}\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"w-full py-3 pl-2 pr-4 resize-none h-10 scroll leading-7 outline-none text-xl text-purple-300 focus:text-purple-500 \" +\r\n\t\t\t\t\t\t(over ? \"overflow-y-scroll\" : \"overflow-hidden\")\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\" h-16 flex flex-row items-center \" +\r\n\t\t\t\t\t\t(focusOn ? \"justify-between w-full\" : \"\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{focusOn && (\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-500 relative\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{emojiClick && (\r\n\t\t\t\t\t\t\t\t<div ref={emojiRef} class=\"absolute top-10\">\r\n\t\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-2xl text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\tvalue=\"Reply\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ReplyFactory;\r\n","export const SET_LOGIN_TOKEN = \"SET_LOGIN_TOKEN\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const SET_MODE = \"SET_MODE\";\r\n\r\nexport const setLoginToken = (loginToken) => ({\r\n\ttype: SET_LOGIN_TOKEN,\r\n\tpayload: loginToken,\r\n});\r\n\r\nexport const setCurrentUser = (currentUser) => ({\r\n\ttype: SET_CURRENT_USER,\r\n\tpayload: currentUser,\r\n});\r\n\r\nexport const setMode = (mode) => ({\r\n\ttype: SET_MODE,\r\n\tpayload: mode,\r\n});\r\n\r\nconst initialState = {\r\n\tloginToken: \"logout\",\r\n\tcurrentUser: {\r\n\t\tuid: \"\",\r\n\t\tphotoURL: \"\",\r\n\t\tdisplayName: \"\",\r\n\t\temail: \"\",\r\n\t},\r\n\tmode: \"white\",\r\n};\r\n\r\nconst user = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_LOGIN_TOKEN: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginToken: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_CURRENT_USER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_MODE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default user;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport EditJweet from \"components/EditJweet\";\r\nimport ImageModal from \"components/ImageModal\";\r\nimport ReplyFactory from \"components/ReplyFactory\";\r\nimport { deleteDoc, doc, onSnapshot, updateDoc } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n\tAiOutlineHeart,\r\n\tAiOutlineRetweet,\r\n\tAiTwotoneDelete,\r\n\tAiTwotoneHeart,\r\n} from \"react-icons/ai\";\r\nimport { BsChat } from \"react-icons/bs\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { MdBookmark, MdBookmarkBorder } from \"react-icons/md\";\r\nimport { RiEdit2Line } from \"react-icons/ri\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst JweetBlock = (props) => {\r\n\tconst jweet = props.jweet;\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [func, setFunc] = useState(false);\r\n\tconst [like, setLike] = useState(false);\r\n\tconst [bookmark, setBookmark] = useState(false);\r\n\r\n\tconst [creatorInfo, setCreatorInfo] = useState({});\r\n\tconst toggleFunc = () => {\r\n\t\tif (jweet.creatorId === currentUser.uid) setFunc(!func);\r\n\t};\r\n\r\n\t// jweet 모달\r\n\tconst [jweetOpen, setJweetOpen] = useState(false);\r\n\tconst handleJweetOpen = () => setJweetOpen(true);\r\n\tconst handleJweetClose = () => {\r\n\t\tsetJweetOpen(false);\r\n\t};\r\n\r\n\t// jweet 모달\r\n\tconst [replyOpen, setReplyOpen] = useState(false);\r\n\tconst handleReplyOpen = () => setReplyOpen(true);\r\n\tconst handleReplyClose = () => {\r\n\t\tsetReplyOpen(false);\r\n\t};\r\n\r\n\tconst [checkOpen, setCheckOpen] = useState(false);\r\n\tconst handleCheckOpen = () => setCheckOpen(true);\r\n\tconst handleCheckClose = () => {\r\n\t\tsetCheckOpen(false);\r\n\t};\r\n\r\n\t// Snack bar\r\n\tconst [bookmarkSnack, setBookmarkSnack] = useState();\r\n\tconst bookmarkClick = () => setBookmarkSnack(true);\r\n\tconst bookmarkClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetBookmarkSnack(false);\r\n\t};\r\n\r\n\tconst [likeSnack, setLikeSnack] = useState();\r\n\tconst likeClick = () => setLikeSnack(true);\r\n\tconst likeClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLikeSnack(false);\r\n\t};\r\n\r\n\tconst onDeleteClick = async () => {\r\n\t\tawait deleteDoc(doc(db, \"jweets\", jweet.id));\r\n\t\tif (jweet.attachmentUrl !== \"\")\r\n\t\t\tawait deleteObject(ref(storage, jweet.attachmentUrl));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!func) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (funcRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!funcRef.current.contains(e.target)) {\r\n\t\t\t\tsetFunc(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [func]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLike(jweet.like.includes(currentUser.uid));\r\n\t\tsetBookmark(currentUser.bookmark.includes(jweet.id));\r\n\t\tonSnapshot(doc(db, \"users\", jweet.creatorId), (doc) => {\r\n\t\t\tsetCreatorInfo(doc.data());\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst toggleBookmark = async () => {\r\n\t\tbookmarkClick();\r\n\t\tif (currentUser.bookmark.includes(jweet.id)) {\r\n\t\t\tsetBookmark(false);\r\n\t\t\tconst cp = [...currentUser.bookmark];\r\n\t\t\tcp.splice(currentUser.bookmark.indexOf(jweet.id), 1);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\tbookmark: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\tbookmark: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetBookmark(true);\r\n\t\t\tconst cp = [...currentUser.bookmark];\r\n\t\t\tcp.push(jweet.id);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\tbookmark: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\tbookmark: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleLike = async () => {\r\n\t\tlikeClick();\r\n\t\tif (jweet.like.includes(currentUser.uid)) {\r\n\t\t\tsetLike(false);\r\n\t\t\tconst cp = [...jweet.like];\r\n\t\t\tcp.splice(jweet.like.indexOf(currentUser.uid), 1);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLike(true);\r\n\t\t\tconst cp = [...jweet.like];\r\n\t\t\tcp.push(currentUser.uid);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst [photoOpen, setPhotoOpen] = useState(false);\r\n\tconst handlePhotoOpen = () => setPhotoOpen(true);\r\n\tconst handlePhotoClose = () => {\r\n\t\tsetPhotoOpen(false);\r\n\t};\r\n\r\n\tconst exceptRef = useRef();\r\n\tconst modalRef = useRef();\r\n\tconst dotRef = useRef();\r\n\tconst profileRef = useRef();\r\n\tconst replyRef = useRef();\r\n\tconst reJweetRef = useRef();\r\n\tconst likeRef = useRef();\r\n\tconst bookmarkRef = useRef();\r\n\r\n\tconst goJweet = (e) => {\r\n\t\tif (\r\n\t\t\te.target !== exceptRef.current &&\r\n\t\t\te.target !== profileRef.current &&\r\n\t\t\te.target !== replyRef.current &&\r\n\t\t\te.target !== reJweetRef.current &&\r\n\t\t\te.target !== likeRef.current &&\r\n\t\t\te.target !== bookmarkRef.current &&\r\n\t\t\te.target.tagName !== \"svg\" &&\r\n\t\t\te.target.tagName !== \"path\" &&\r\n\t\t\te.target.id !== \"except\" &&\r\n\t\t\te.target.innerText !== \"Edit Jweet\" &&\r\n\t\t\te.target.innerText !== \"Delete Jweet\" &&\r\n\t\t\t!photoOpen &&\r\n\t\t\t!jweetOpen &&\r\n\t\t\t!replyOpen &&\r\n\t\t\t!checkOpen\r\n\t\t) {\r\n\t\t\thistory.push(\"/jweet/\" + jweet.id);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goJweet}\r\n\t\t\tclass=\"w-full select-none z-30 cursor-pointer hover:bg-gray-100 transition delay-50 duration-300 flex flex-row px-2 pt-2 pb-4  border-b border-gray-200\"\r\n\t\t>\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2 pt-4\">\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsrc={creatorInfo.photoURL}\r\n\t\t\t\t\t\t\t\tsx={{ width: 48, height: 48 }}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t{/* <img\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t\t\t<Avatar sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">\r\n\t\t\t\t\t\t\t\t\t{creatorInfo.displayName}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<p class=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t@{creatorInfo.email ? creatorInfo.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{props.type !== \"explore\" ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tref={funcRef}\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"cursor-pointer transition delay-50 duration-300 rounded-full p-2 relative \" +\r\n\t\t\t\t\t\t\t\t\t\t(jweet.creatorId === currentUser.uid\r\n\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-purple-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HiOutlineDotsHorizontal\r\n\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={toggleFunc}\r\n\t\t\t\t\t\t\t\t\t\tsize={28}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{func && (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tref={dotRef}\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-white border border-gray-200 z-40 absolute flex flex-col top-2 right-2 w-60 rounded-md shadow-xl\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleJweetOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-t-md\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<RiEdit2Line class=\"w-12\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">Edit Jweet</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleCheckOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-b-md\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AiTwotoneDelete class=\"w-12\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">Delete Jweet</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"h-8\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* <div class=\"w-full h-auto \">{jweet.text}</div> */}\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div class=\"break-all w-full h-auto\">\r\n\t\t\t\t\t\t\t\t<p class=\"w-full h-auto resize-none outline-none cursor-pointer bg-transparent whitespace-pre-wrap\t\">\r\n\t\t\t\t\t\t\t\t\t{jweet.text}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{jweet.attachmentUrl !== \"\" && (\r\n\t\t\t\t\t\t\t\t<div class=\"w-full mt-4 mb-2 pr-4 \">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tonClick={handlePhotoOpen}\r\n\t\t\t\t\t\t\t\t\t\tref={exceptRef}\r\n\t\t\t\t\t\t\t\t\t\tsrc={jweet.attachmentUrl}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"max-h-80 w-full object-cover rounded-xl border border-gray-200 shadow-lg\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"attachment\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-24  resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{loading && props.type !== \"explore\" ? (\r\n\t\t\t\t\t\t<div id=\"except\" class=\"w-full flex flex-row items-center mt-4 \">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={handleReplyOpen}\r\n\t\t\t\t\t\t\t\tref={replyRef}\r\n\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/4 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-purple-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full transition delay-50 duration-300 hover:bg-purple-100 mt-1 mr-1 p-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<BsChat size={16} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t\t{jweet.reply.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tref={reJweetRef}\r\n\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/4 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-green-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full transition delay-50 duration-300 hover:bg-green-100 mt-1 mr-1 p-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<AiOutlineRetweet size={16} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleLike}\r\n\t\t\t\t\t\t\t\tref={likeRef}\r\n\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/4 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-red-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full transition delay-50 duration-300 hover:bg-red-100 mt-1 mr-1 p-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{like ? (\r\n\t\t\t\t\t\t\t\t\t\t<AiTwotoneHeart size={16} class=\"text-red-500\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<AiOutlineHeart size={16} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t\t{jweet.like.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleBookmark}\r\n\t\t\t\t\t\t\t\tref={bookmarkRef}\r\n\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/4 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-blue-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full transition delay-50 duration-300 hover:bg-blue-100 mt-1 mr-1 p-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{bookmark ? (\r\n\t\t\t\t\t\t\t\t\t\t<MdBookmark size={16} class=\"text-blue-500\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<MdBookmarkBorder size={16} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : props.type !== \"explore\" ? (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-12  resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={replyOpen}\r\n\t\t\t\t\tref={modalRef}\r\n\t\t\t\t\tonClose={handleReplyClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleReplyClose}\r\n\t\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<ReplyFactory\r\n\t\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\t\thandleReplyClose={handleReplyClose}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={jweetOpen}\r\n\t\t\t\t\tref={modalRef}\r\n\t\t\t\t\tonClose={handleJweetClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleJweetClose}\r\n\t\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<EditJweet\r\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\t\t_jweet={jweet}\r\n\t\t\t\t\t\t\t\thandleJweetClose={handleJweetClose}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={checkOpen}\r\n\t\t\t\t\tonClose={handleCheckClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Delete Jweet?</h1>\r\n\t\t\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\t\t\tThis can’t be undone and it will be removed from your profile,\r\n\t\t\t\t\t\t\t\tthe timeline of any accounts that follow you, and from Jwitter\r\n\t\t\t\t\t\t\t\tsearch results.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={onDeleteClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={handleCheckClose}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={bookmarkSnack}\r\n\t\t\t\t\tautoHideDuration={2000}\r\n\t\t\t\t\tonClose={bookmarkClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tonClose={bookmarkClose}\r\n\t\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{bookmark ? \"북마크 저장\" : \"북마크 취소\"}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t\t<Snackbar open={likeSnack} autoHideDuration={2000} onClose={likeClose}>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tonClose={likeClose}\r\n\t\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{like ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t\t<ImageModal\r\n\t\t\t\t\tmodalRef={modalRef}\r\n\t\t\t\t\tphotoURL={jweet.attachmentUrl}\r\n\t\t\t\t\tphotoOpen={photoOpen}\r\n\t\t\t\t\thandlePhotoOpen={handlePhotoOpen}\r\n\t\t\t\t\thandlePhotoClose={handlePhotoClose}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default JweetBlock;\r\n","import Picker from \"emoji-picker-react\";\r\nimport { addDoc, collection } from \"firebase/firestore\";\r\nimport { getDownloadURL, ref, uploadString } from \"firebase/storage\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst JweetFactory = ({ isModal, handleJweetClose }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst [jweet, setJweet] = useState(\"\");\r\n\tconst [over, setOver] = useState(false);\r\n\tconst [attachment, setAttachment] = useState(\"\");\r\n\tconst textareaRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst emojiRef = useRef();\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst toggleEmoji = () => {\r\n\t\tsetEmojiClick(!emojiClick);\r\n\t};\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\t// setChosenEmoji(emojiObject);\r\n\t\tconst cp = jweet + emojiObject.emoji;\r\n\t\tsetJweet(cp);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet attachmentUrl = \"\";\r\n\r\n\t\tconst text = jweet;\r\n\t\tif (text === \"\") {\r\n\t\t\talert(\"글자를 입력해주세요\");\r\n\t\t} else {\r\n\t\t\tif (attachment !== \"\") {\r\n\t\t\t\tconst attachmentRef = ref(storage, `${currentUser.uid}/${uuidv4()}`);\r\n\t\t\t\tconst response = await uploadString(\r\n\t\t\t\t\tattachmentRef,\r\n\t\t\t\t\tattachment,\r\n\t\t\t\t\t\"data_url\"\r\n\t\t\t\t);\r\n\t\t\t\tattachmentUrl = await getDownloadURL(response.ref);\r\n\t\t\t}\r\n\t\t\tconst _jweet = {\r\n\t\t\t\ttext: text,\r\n\t\t\t\tcreatedAt: Date.now(),\r\n\t\t\t\tcreatorId: currentUser.uid,\r\n\t\t\t\tlike: [],\r\n\t\t\t\treply: [],\r\n\t\t\t\tattachmentUrl,\r\n\t\t\t};\r\n\t\t\tsetJweet(\"\");\r\n\t\t\tsetAttachment(\"\");\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\tif (isModal) {\r\n\t\t\t\thandleJweetClose();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait addDoc(collection(db, \"jweets\"), _jweet);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst onChange = (e) => {\r\n\t\tsetJweet(e.target.value);\r\n\t};\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tconsole.log(\"check??\");\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttextareaRef.current.style.height.substring(\r\n\t\t\t\t0,\r\n\t\t\t\ttextareaRef.current.style.height.length - 2\r\n\t\t\t) *\r\n\t\t\t\t1 >\r\n\t\t\twindow.innerHeight - 200\r\n\t\t) {\r\n\t\t\tsetOver(true);\r\n\t\t\tif (jweet === \"\") textareaRef.current.style.height = \"40px\";\r\n\t\t} else {\r\n\t\t\tsetOver(false);\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\ttextareaRef.current.style.height =\r\n\t\t\t\ttextareaRef.current.scrollHeight + \"px\";\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclass={\r\n\t\t\t\t\"flex flex-row px-2 pt-2 \" + (isModal ? \"\" : \"border-b border-gray-200\")\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col pl-2 pb-2\">\r\n\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={jweet}\r\n\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tplaceholder=\"What's happening?\"\r\n\t\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\"w-full py-3 resize-none h-14 scroll leading-7 outline-none text-lg text-purple-300 focus:text-purple-500 \" +\r\n\t\t\t\t\t\t\t(over ? \"overflow-y-scroll\" : \"overflow-hidden\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{attachment && (\r\n\t\t\t\t\t\t<div class=\"w-full h-96 relative\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={attachment}\r\n\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\talt=\"preview\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"absolute left-0 top-0 w-auto h-auto opacity-70 cursor-pointer\"\r\n\t\t\t\t\t\t\t\tonClick={clearAttachment}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MdCancel size={28} alt=\"remove\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-row justify-between items-center pr-2\">\r\n\t\t\t\t\t{/* 좌측 아이콘 */}\r\n\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-500 relative\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ref={emojiRef}>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"absolute top-10 select-none \" +\r\n\t\t\t\t\t\t\t\t\t(emojiClick ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* 우측 submit */}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-full text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\tvalue=\"Jweet\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t/>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default JweetFactory;\r\n","import JweetBlock from \"components/JweetBlock\";\r\nimport JweetFactory from \"components/JweetFactory\";\r\nimport {\r\n\tcollection,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { MdSettings } from \"react-icons/md\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst Home = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst [jweets, setJweets] = useState([]);\r\n\r\n\tuseEffect(() => {}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst nweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetJweets(nweetArray);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t// const q = query(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\"));\r\n\t\t// onSnapshot(q, (querySnapshot) => {\r\n\t\t// \tconst cp = [];\r\n\t\t// \tquerySnapshot.forEach((doc) => {\r\n\t\t// \t\tcp.push({\r\n\t\t// \t\t\tid: doc.id,\r\n\t\t// \t\t\t...doc.data(),\r\n\t\t// \t\t});\r\n\t\t// \t});\r\n\t\t// \tsetJweets(cp);\r\n\t\t// });\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t<div class=\"px-4 py-2 font-bold text-xl flex justify-between items-center border-b border-gray-200\">\r\n\t\t\t\t<h1 class=\"cursor-pointer\">Home</h1>\r\n\t\t\t\t<div class=\"hover:bg-gray-200 transition delay-50 duration-300 rounded-full p-2\">\r\n\t\t\t\t\t<MdSettings size={24} class=\"cursor-pointer\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<JweetFactory isModal={false} />\r\n\t\t\t<div>\r\n\t\t\t\t{jweets.length !== 0 ? (\r\n\t\t\t\t\tjweets.map((jweet, index) => {\r\n\t\t\t\t\t\treturn <JweetBlock key={jweet.id} jweet={jweet} id={jweet.id} />;\r\n\t\t\t\t\t})\r\n\t\t\t\t) : loading ? (\r\n\t\t\t\t\t<div class=\"w-full flex-1 flex justify-center items-center mt-8\">\r\n\t\t\t\t\t\t등록된 Jweet이 없습니다.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport { auth, db } from \"mybase\";\r\n\r\nconst LikeJweets = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [likeJweets, setLikeJweets] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(\r\n\t\t\t\tcollection(db, \"jweets\"),\r\n\t\t\t\twhere(\"like\", \"array-contains\", uid),\r\n\t\t\t\torderBy(\"createdAt\", \"desc\")\r\n\t\t\t),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst _likeJweets = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetLikeJweets(_likeJweets);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [uid]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{likeJweets.length !== 0 ? (\r\n\t\t\t\tlikeJweets.map((jweet, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<JweetBlock\r\n\t\t\t\t\t\t\tkey={jweet.id}\r\n\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-16\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou don’t have any likes yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tTap the heart on any Jweet to show it some love. When you do, it’ll\r\n\t\t\t\t\t\tshow up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LikeJweets;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport { auth, db } from \"mybase\";\r\n\r\nconst MyJweets = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [myJweets, setMyJweets] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\t// useEffect(() => {\r\n\t// \tonSnapshot(\r\n\t// \t\tquery(\r\n\t// \t\t\tcollection(db, \"jweets\"),\r\n\t// \t\t\torderBy(\"createdAt\", \"desc\"),\r\n\t// \t\t\twhere(\"creatorId\", \"==\", uid)\r\n\t// \t\t),\r\n\t// \t\t(snapshot) => {\r\n\t// \t\t\tsnapshot.docChanges().forEach((change) => {\r\n\t// \t\t\t\tconsole.log(change);\r\n\t// \t\t\t});\r\n\t// \t\t}\r\n\t// \t);\r\n\t// }, []);\r\n\r\n\tuseEffect(() => {\r\n\t\t// onSnapshot(\r\n\t\t// \tquery(\r\n\t\t// \t\tcollection(db, \"jweets\"),\r\n\t\t// \t\torderBy(\"createdAt\", \"desc\"),\r\n\t\t// \t\twhere(\"creatorId\", \"==\", uid)\r\n\t\t// \t),\r\n\t\t// \t(snapshot) => {\r\n\t\t// \t\tconst _myJweet = snapshot.docs.map((doc) => ({\r\n\t\t// \t\t\tid: doc.id,\r\n\t\t// \t\t\t...doc.data(),\r\n\t\t// \t\t}));\r\n\t\t// \t\tsetMyJweets(_myJweet);\r\n\t\t// \t\tsetLoading(true);\r\n\t\t// \t}\r\n\t\t// );\r\n\t\tconst q = query(\r\n\t\t\tcollection(db, \"jweets\"),\r\n\t\t\torderBy(\"createdAt\", \"desc\"),\r\n\t\t\twhere(\"creatorId\", \"==\", uid)\r\n\t\t);\r\n\t\tonSnapshot(q, (querySnapshot) => {\r\n\t\t\tconst cp = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tcp.push({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tsetMyJweets(cp);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [uid]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{myJweets.length !== 0 ? (\r\n\t\t\t\tmyJweets.map((jweet, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<JweetBlock\r\n\t\t\t\t\t\t\tkey={jweet.id}\r\n\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"flex flex-col justify-center items-center mt-16\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou don’t have any Jweet yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tWrite a Jweet. When you do, it’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MyJweets;\r\n","export default __webpack_public_path__ + \"static/media/bgimg.b52d269e.jpg\";","import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { auth, db } from \"mybase\";\r\nimport { useHistory, Switch, Route, Link } from \"react-router-dom\";\r\nimport { updateProfile } from \"firebase/auth\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\tupdateDoc,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { IoArrowBackOutline } from \"react-icons/io5\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport LikeJweets from \"components/LikeJweets\";\r\nimport MyJweets from \"components/MyJweets\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { MdCameraEnhance } from \"react-icons/md\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst EditProfile = ({\r\n\teditModal,\r\n\teditModalOpen,\r\n\teditModalClose,\r\n\ttoggleEditState,\r\n}) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [info, setInfo] = useState({\r\n\t\tdisplayName: currentUser.displayName,\r\n\t\temail: currentUser.email,\r\n\t\tphotoURL: currentUser.photoURL,\r\n\t\tdescription: currentUser.description,\r\n\t});\r\n\tconst fileRef = useRef();\r\n\tconst textareaRef = useRef();\r\n\tconst [focused, setFocused] = useState(\"\");\r\n\r\n\tconst [attachment, setAttachment] = useState(currentUser.photoURL);\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAttachment(currentUser.photoURL);\r\n\t}, []);\r\n\r\n\tconst onChangeInfo = (e, type) => {\r\n\t\tconst cp = { ...info };\r\n\t\tcp[type] = e.target.value;\r\n\t\tsetInfo(cp);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\teditClick();\r\n\t\teditModalClose();\r\n\t\ttoggleEditState();\r\n\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\tdisplayName: info.displayName,\r\n\t\t\tphotoURL:\r\n\t\t\t\tattachment === \"\"\r\n\t\t\t\t\t? \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\"\r\n\t\t\t\t\t: attachment,\r\n\t\t\tdescription: info.description,\r\n\t\t});\r\n\t\tawait dispatch(\r\n\t\t\tsetCurrentUser({\r\n\t\t\t\tuid: currentUser.uid,\r\n\t\t\t\tphotoURL:\r\n\t\t\t\t\tattachment === \"\"\r\n\t\t\t\t\t\t? \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\"\r\n\t\t\t\t\t\t: attachment,\r\n\t\t\t\temail: currentUser.email,\r\n\t\t\t\tdisplayName: info.displayName,\r\n\t\t\t\tbookmark: currentUser.bookmark,\r\n\t\t\t\tdescription: info.description,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst [editSnack, setEditSnack] = useState();\r\n\tconst editClick = () => setEditSnack(true);\r\n\tconst editClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetEditSnack(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\topen={editModal}\r\n\t\t\t\tonClose={editModalClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"select-none outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t<div class=\"h-full w-full flex justify-between items-center pb-1 \">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\t\tonClick={editModalClose}\r\n\t\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer mx-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<p class=\"text-xl font-bold\">Edit Profile</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row justify-center items-center\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer font-bold bg-black px-3 mr-2 py-1 rounded-full text-white hover:opacity-60\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"Save\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col relative\">\r\n\t\t\t\t\t\t\t<div class=\"h-36 w-full bg-purple-100\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={bgimg}\r\n\t\t\t\t\t\t\t\t\talt=\"bgimg\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"h-16 w-full flex flex-row-reverse items-center pr-4\">\r\n\t\t\t\t\t\t\t\t<div class=\"cursor-pointer font-bold text-base flex justify-center items-center px-4 py-2\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"absolute w-28 h-28 left-4 bottom-2 \">\r\n\t\t\t\t\t\t\t\t<div class=\"w-28 h-28 border-4 border-white rounded-full\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={attachment}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-28 h-full object-cover rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer absolute p-1 top-0 w-full h-full object-cover rounded-full\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full h-full object-cover rounded-full opacity-20 bg-black flex justify-center items-center\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full h-full absolute top-0 left-0 flex justify-center text-white items-center opacity-70\">\r\n\t\t\t\t\t\t\t\t\t\t<MdCameraEnhance size={24} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col px-4 mt-2 mb-2\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"mt-2 select-none w-full h-14 rounded-md transition delay-50 duration-300 flex flex-col px-2 py-1 relative \" +\r\n\t\t\t\t\t\t\t\t\t(info.displayName === \"\"\r\n\t\t\t\t\t\t\t\t\t\t? \"border-2 border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t: focused === \"name\"\r\n\t\t\t\t\t\t\t\t\t\t? \"border-2 border-blue-500 shadow-sm \"\r\n\t\t\t\t\t\t\t\t\t\t: \"border-2 border-gray-200\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"w-full h-4 text-xs transition delay-50 duration-300  \" +\r\n\t\t\t\t\t\t\t\t\t\t(info.displayName === \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"text-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: focused === \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"text-blue-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-500\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={info.displayName}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setFocused(\"name\")}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => setFocused(\"\")}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeInfo(e, \"displayName\")}\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full outline-none text-sm mt-1\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"text-red-500 mb-2 text-xs px-1 transition delay-50 duration-300 \" +\r\n\t\t\t\t\t\t\t\t\t(info.displayName === \"\" ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tName can't be blank\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"my-2 select-none w-full h-auto rounded-md border border-gray-300 flex flex-col px-2 py-1 \" +\r\n\t\t\t\t\t\t\t\t\t(focused === \"description\"\r\n\t\t\t\t\t\t\t\t\t\t? \"border-2 border-blue-500 shadow-sm \"\r\n\t\t\t\t\t\t\t\t\t\t: \"border-2 border-gray-200\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"w-full h-4 text-xs text-gray-500 mb-1 \" +\r\n\t\t\t\t\t\t\t\t\t\t(focused === \"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"text-blue-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-500\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDescription\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\t\t\tvalue={info.description}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setFocused(\"description\")}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => setFocused(\"\")}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeInfo(e, \"description\")}\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 resize-none overflow-hidden scroll leading-5 outline-none text-sm \"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<Snackbar open={editSnack} autoHideDuration={2000} onClose={editClose}>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={editClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{editSnack ? \"프로필 변경!\" : \"\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditProfile;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { auth, db } from \"mybase\";\r\nimport { useHistory, Switch, Route, Link } from \"react-router-dom\";\r\nimport { updateProfile } from \"firebase/auth\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { IoArrowBackOutline } from \"react-icons/io5\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport LikeJweets from \"components/LikeJweets\";\r\nimport MyJweets from \"components/MyJweets\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { MdCameraEnhance } from \"react-icons/md\";\r\nimport EditProfile from \"components/EditProfile\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\n\r\nconst Profile = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst [info, setInfo] = useState({});\r\n\tconst [myJweets, setMyJweets] = useState([]);\r\n\tconst [editState, setEditState] = useState(false);\r\n\tconst toggleEditState = () => setEditState(!editState);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst [editModal, setEditModal] = useState(false);\r\n\tconst editModalOpen = () => setEditModal(true);\r\n\tconst editModalClose = () => {\r\n\t\tsetEditModal(false);\r\n\t};\r\n\r\n\tconst getMyInfo = async () => {\r\n\t\tawait onSnapshot(doc(db, \"users\", uid), (doc) => {\r\n\t\t\tsetInfo(doc.data());\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getJweets = async () => {\r\n\t\tconst q = query(collection(db, \"jweets\"), where(\"creatorId\", \"==\", uid));\r\n\t\tonSnapshot(q, (querySnapshot) => {\r\n\t\t\tconst cp = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tcp.push(doc.data());\r\n\t\t\t});\r\n\t\t\tsetMyJweets(cp);\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMyInfo();\r\n\t\tgetJweets();\r\n\t}, [uid, editState]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t\t\t<div class=\"h-16 w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\r\n\t\t\t\t\t\t\t\tclass=\"mr-4 cursor-pointer p-2 rounded-full hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoArrowBackOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t<div class=\"font-bold text-xl\">{info.displayName}</div>\r\n\t\t\t\t\t\t\t\t<div>{myJweets.length} Jweets</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col relative\">\r\n\t\t\t\t\t\t\t<div class=\"h-48 w-full \">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={bgimg}\r\n\t\t\t\t\t\t\t\t\talt=\"bgimg\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{uid === currentUser.uid ? (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={editModalOpen}\r\n\t\t\t\t\t\t\t\t\tclass=\"h-16 w-full flex flex-row-reverse items-center pr-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"cursor-pointer font-bold text-base border transition delay-50 duration-300 border-gray-300 text-gray-600 rounded-full flex justify-center items-center px-4 py-2 hover:bg-gray-200\">\r\n\t\t\t\t\t\t\t\t\t\tEdit Profile\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div class=\"h-16 w-full flex flex-row-reverse items-center pr-4\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"cursor-pointer font-bold text-base rounded-full flex justify-center items-center px-4 py-2 \"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div class=\"absolute w-32 h-32 left-4 bottom-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"border-4 border-white rounded-full\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={info.photoURL}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full h-32 object-cover rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col pl-4 pr-4 mb-4\">\r\n\t\t\t\t\t\t\t<h1 class=\"font-bold text-xl\">{info.displayName}</h1>\r\n\t\t\t\t\t\t\t<p class=\"text-gray-400 mb-2\">@{info.email.split(\"@\")[0]}</p>\r\n\t\t\t\t\t\t\t<p class=\"py-8 px-4 text-sm text-gray-500 border-t border-b border-gray-200\">\r\n\t\t\t\t\t\t\t\t{info.description === \"\"\r\n\t\t\t\t\t\t\t\t\t? \"소개글이 없습니다.\"\r\n\t\t\t\t\t\t\t\t\t: info.description}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-row \">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/jweet/\" + uid}\r\n\t\t\t\t\t\t\t\tclass=\"w-1/2 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"py-3 \" +\r\n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes(\"jweet\")\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-b-4 border-purple-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tJweets\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/like/\" + uid}\r\n\t\t\t\t\t\t\t\tclass=\"w-1/2 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"py-3 \" +\r\n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes(\"like\")\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-b-4 border-purple-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLikes\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route path=\"/profile/jweet/:id\" component={MyJweets} />\r\n\t\t\t\t\t\t\t<Route path=\"/profile/like/:id\" component={LikeJweets} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<div class=\"pl-64 h-full py-4 flex-1 flex flex-row justify-center items-center\">\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<EditProfile\r\n\t\t\t\teditModal={editModal}\r\n\t\t\t\teditModalOpen={editModalOpen}\r\n\t\t\t\teditModalClose={editModalClose}\r\n\t\t\t\ttoggleEditState={toggleEditState}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n\tcreateUserWithEmailAndPassword,\r\n\tsignInWithEmailAndPassword,\r\n\tGoogleAuthProvider,\r\n\tGithubAuthProvider,\r\n\tsignInWithPopup,\r\n\tupdateProfile,\r\n} from \"firebase/auth\";\r\nimport { db, app, auth } from \"mybase\";\r\nimport { doc, getDoc, addDoc, collection, setDoc } from \"firebase/firestore\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\n\r\nconst AuthForm = ({ isLogin }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [info, setInfo] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t});\r\n\tconst [error, setError] = useState(\"\");\r\n\r\n\tconst onChange = (e, type) => {\r\n\t\tconst cp = { ...info };\r\n\t\tcp[type] = e.target.value;\r\n\t\tsetInfo(cp);\r\n\t\tsetError(\"\");\r\n\t};\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet data;\r\n\t\t\tif (isLogin) {\r\n\t\t\t\tconsole.log(auth, info.email, info.password);\r\n\t\t\t\t// Log In\r\n\t\t\t\tdata = await signInWithEmailAndPassword(\r\n\t\t\t\t\tauth,\r\n\t\t\t\t\tinfo.email,\r\n\t\t\t\t\tinfo.password\r\n\t\t\t\t).then(() => {\r\n\t\t\t\t\tconst docRef = doc(db, \"users\", auth.currentUser.uid);\r\n\t\t\t\t\tgetDoc(docRef).then(async (snap) => {\r\n\t\t\t\t\t\tif (snap.exists()) {\r\n\t\t\t\t\t\t\tconsole.log(\"Document data:\", snap.data());\r\n\t\t\t\t\t\t\tawait dispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t\t...snap.data(),\r\n\t\t\t\t\t\t\t\t\tuid: auth.currentUser.uid,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// create account\r\n\t\t\t\tdata = await createUserWithEmailAndPassword(\r\n\t\t\t\t\tauth,\r\n\t\t\t\t\tinfo.email,\r\n\t\t\t\t\tinfo.password\r\n\t\t\t\t).then(async () => {\r\n\t\t\t\t\tif (auth.currentUser.displayName === null) {\r\n\t\t\t\t\t\tlet displayName = auth.currentUser.email.split(\"@\");\r\n\t\t\t\t\t\tconst usersRef = await collection(db, \"users\");\r\n\t\t\t\t\t\tdispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\tuid: auth.currentUser.uid,\r\n\t\t\t\t\t\t\t\tphotoURL:\r\n\t\t\t\t\t\t\t\t\t\"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\t\temail: auth.currentUser.email,\r\n\t\t\t\t\t\t\t\tdisplayName: displayName[0],\r\n\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tawait setDoc(doc(usersRef, auth.currentUser.uid), {\r\n\t\t\t\t\t\t\tphotoURL:\r\n\t\t\t\t\t\t\t\t\"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\temail: auth.currentUser.email,\r\n\t\t\t\t\t\t\tdisplayName: displayName[0],\r\n\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.message);\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col py-3\">\r\n\t\t\t\t<div class=\"w-full mb-4\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={info.email}\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg border border-gray-300 outline-none px-4 py-3 text-lg\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"email\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full mb-4\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={info.password}\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg border border-gray-300 outline-none px-4 py-3 text-lg\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"password\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"cursor-pointer w-full rounded-xl bg-purple-300 py-2 font-bold\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tvalue={isLogin ? \"Log In\" : \"Create Account\"}\r\n\t\t\t\t/>\r\n\t\t\t\t{error ? (\r\n\t\t\t\t\t<p class=\"text-xs font-bold mt-1\">\r\n\t\t\t\t\t\t올바른 이메일과 패스워드를 입력해주세요.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t\"\"\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AuthForm;\r\n","export default __webpack_public_path__ + \"static/media/background.294149b7.jpg\";","export default \"data:image/jpeg;base64,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\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/logo.5c22847b.png\";","import Modal from \"@mui/material/Modal\";\r\nimport AuthForm from \"components/AuthForm\";\r\nimport {\r\n\tGithubAuthProvider,\r\n\tGoogleAuthProvider,\r\n\tsignInWithPopup,\r\n} from \"firebase/auth\";\r\nimport { collection, doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport background from \"image/background.jpg\";\r\nimport github from \"image/github.jpg\";\r\nimport google from \"image/google.png\";\r\nimport logo from \"image/logo.png\";\r\nimport { auth, db } from \"mybase\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\n\r\nconst Login = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\tconst [login, setLogin] = useState(true);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst handleOpen = () => setOpen(true);\r\n\tconst handleClose = () => setOpen(false);\r\n\tconst toggleLogin = () => setLogin(!login);\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst handleModalOpen = () => setModalOpen(true);\r\n\tconst handleModalClose = () => {\r\n\t\tsetModalOpen(false);\r\n\t};\r\n\r\n\tconst [editState, setEditState] = useState(false);\r\n\tconst toggleEditState = () => setEditState(!editState);\r\n\r\n\tconst [editModal, setEditModal] = useState(false);\r\n\tconst editModalOpen = () => setEditModal(true);\r\n\tconst editModalClose = () => {\r\n\t\tsetEditModal(false);\r\n\t};\r\n\tconst onSocialClick = async (e) => {\r\n\t\tconst name = e.target.name;\r\n\t\tlet provider;\r\n\t\tlet user;\r\n\t\tif (name === \"google\") {\r\n\t\t\tprovider = new GoogleAuthProvider();\r\n\t\t\t// provider = new Github.\r\n\t\t\tawait signInWithPopup(auth, provider)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tconst credential = GoogleAuthProvider.credentialFromResult(result);\r\n\t\t\t\t\tconst token = credential.accessToken;\r\n\t\t\t\t\tuser = result.user;\r\n\r\n\t\t\t\t\tconst docRef = doc(db, \"users\", user.uid);\r\n\t\t\t\t\tgetDoc(docRef).then(async (snap) => {\r\n\t\t\t\t\t\tif (snap.exists()) {\r\n\t\t\t\t\t\t\tconsole.log(\"Document data:\", snap.data());\r\n\t\t\t\t\t\t\tawait dispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t\t...snap.data(),\r\n\t\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\t\tphotoURL: user.photoURL,\r\n\t\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t\t\tconst usersRef = await collection(db, \"users\");\r\n\t\t\t\t\t\t\tawait setDoc(doc(usersRef, user.uid), {\r\n\t\t\t\t\t\t\t\tphotoURL: user.photoURL,\r\n\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t} else if (name === \"github\") {\r\n\t\t\tprovider = new GithubAuthProvider();\r\n\t\t\tsignInWithPopup(auth, provider)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tconst credential = GithubAuthProvider.credentialFromResult(result);\r\n\t\t\t\t\tconst token = credential.accessToken;\r\n\t\t\t\t\tuser = result.user;\r\n\r\n\t\t\t\t\tconst docRef = doc(db, \"users\", user.uid);\r\n\t\t\t\t\tgetDoc(docRef).then(async (snap) => {\r\n\t\t\t\t\t\tif (snap.exists()) {\r\n\t\t\t\t\t\t\t// console.log(\"Document data:\", snap.data());\r\n\t\t\t\t\t\t\tconsole.log(\"Document data:\", snap.data());\r\n\t\t\t\t\t\t\tawait dispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t\t...snap.data(),\r\n\t\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t\t\tdispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\t\tphotoURL: user.photoURL\r\n\t\t\t\t\t\t\t\t\t\t? user.photoURL\r\n\t\t\t\t\t\t\t\t\t\t: \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconst usersRef = collection(db, \"users\");\r\n\t\t\t\t\t\t\tsetDoc(doc(usersRef, user.uid), {\r\n\t\t\t\t\t\t\t\tprofileURL: user.photoURL\r\n\t\t\t\t\t\t\t\t\t? user.photoURL\r\n\t\t\t\t\t\t\t\t\t: \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div class=\"h-full w-full flex flex-col lg:flex-row-reverse\">\r\n\t\t\t<div class=\"h-full w-full lg:w-1/2 px-8 py-16 flex flex-col\">\r\n\t\t\t\t<div class=\"w-full h-auto\">\r\n\t\t\t\t\t<div class=\"h-24\">\r\n\t\t\t\t\t\t<img src={logo} alt=\"logo\" class=\"h-full\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1 class=\"text-2xl md:text-6xl font-bold my-6 md:my-12\">\r\n\t\t\t\t\t\t지금 일어나고 있는 일\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t\t{login && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h1 class=\"text-xl md:text-3xl font-bold mb-8\">\r\n\t\t\t\t\t\t\t\tJwitter 로그인하기\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tname=\"google\"\r\n\t\t\t\t\t\t\t\tonClick={onSocialClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img src={google} class=\"h-6 object-cover mr-2\" alt=\"google\" />{\" \"}\r\n\t\t\t\t\t\t\t\tGoogle로 로그인하기\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tname=\"github\"\r\n\t\t\t\t\t\t\t\tonClick={onSocialClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img src={github} class=\"h-6 object-cover mr-2\" alt=\"github\" />{\" \"}\r\n\t\t\t\t\t\t\t\tGithub로 로그인하기\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={handleOpen}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t전화, 이메일 또는 사용자 아이디 사용\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t\t계정이 없으신가요?{\" \"}\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tonClick={toggleLogin}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer text-blue-600\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t가입하기\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!login && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h1 class=\"text-xl md:text-3xl font-bold mb-8\">\r\n\t\t\t\t\t\t\t\t오늘 Jwitter에 가입하세요.\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tname=\"google\"\r\n\t\t\t\t\t\t\t\tonClick={onSocialClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img src={google} class=\"h-6 object-cover mr-2\" alt=\"google\" />{\" \"}\r\n\t\t\t\t\t\t\t\tGoogle에서 가입하기\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tname=\"github\"\r\n\t\t\t\t\t\t\t\tonClick={onSocialClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img src={github} class=\"h-6 object-cover mr-2\" alt=\"github\" />{\" \"}\r\n\t\t\t\t\t\t\t\tGithub에서 가입하기\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={handleOpen}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t휴대폰 번호나 이메일 주소로 가입하기\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h1 class=\"w-full md:w-1/2 mb-4\">\r\n\t\t\t\t\t\t\t\tBy signing up, you agree to the{\" \"}\r\n\t\t\t\t\t\t\t\t<span class=\"text-blue-600\">Terms of Service</span> and{\" \"}\r\n\t\t\t\t\t\t\t\t<span class=\"text-blue-600\">Privacy Policy</span>, including{\" \"}\r\n\t\t\t\t\t\t\t\t<span class=\"text-blue-600\">Cookie Use.</span>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t\t트위터 아이디가 있으세요?{\" \"}\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tonClick={toggleLogin}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer text-blue-600\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t로그인\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t하기\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"h-full w-full lg:w-1/2 \">\r\n\t\t\t\t<img src={background} alt=\"bg\" class=\"h-full w-full object-cover\" />\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white p-4 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto bg-white rounded-lg flex flex-col justify-start items-start\">\r\n\t\t\t\t\t{login && (\r\n\t\t\t\t\t\t<h1 class=\"text-2xl font-bold mb-4\">일반 이메일로 로그인</h1>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!login && (\r\n\t\t\t\t\t\t<h1 class=\"text-2xl font-bold mb-4\">계정을 생성하세요.</h1>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<AuthForm isLogin={login} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t{/* <Modal\r\n\t\t\t\topen={modalOpen}\r\n\t\t\t\tonClose={handleModalClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto py-4 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t<h1 class=\"px-8 text-xl font-bold mb-2\">Profile 설정</h1>\r\n\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<SettingProfile\r\n\t\t\t\teditModal={editModal}\r\n\t\t\t\teditModalOpen={editModalOpen}\r\n\t\t\t\teditModalClose={editModalClose}\r\n\t\t\t\ttoggleEditState={toggleEditState}\r\n\t\t\t/> */}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport logo from \"image/logo.png\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { AiFillHome, AiOutlineHome } from \"react-icons/ai\";\r\nimport { IoNotificationsOutline, IoNotificationsSharp } from \"react-icons/io5\";\r\nimport { updateProfile } from \"firebase/auth\";\r\nimport { MdBookmarkBorder, MdBookmark } from \"react-icons/md\";\r\nimport { BsPerson, BsPersonFill } from \"react-icons/bs\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { BiCheck } from \"react-icons/bi\";\r\nimport { auth, db } from \"mybase\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport JweetFactory from \"components/JweetFactory\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\nimport { CgList, CgMoreO } from \"react-icons/cg\";\r\nimport { HiOutlineFire, HiFire } from \"react-icons/hi\";\r\nimport { HiOutlineHashtag, HiHashtag } from \"react-icons/hi\";\r\n\r\nconst Leftbar = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [selected, setSelected] = useState(1);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst history = useHistory();\r\n\t// 프로필 모달\r\n\tconst [profileOpen, setProfileOpen] = useState(false);\r\n\tconst handleProfileOpen = () => setProfileOpen(true);\r\n\tconst handleProfileClose = () => setProfileOpen(false);\r\n\r\n\t// jweet 모달\r\n\tconst [jweetOpen, setJweetOpen] = useState(false);\r\n\tconst handleJweetOpen = () => setJweetOpen(true);\r\n\tconst handleJweetClose = () => {\r\n\t\tsetJweetOpen(false);\r\n\t};\r\n\r\n\tconst [checkOpen, setCheckOpen] = useState(false);\r\n\tconst handleCheckOpen = () => setCheckOpen(true);\r\n\tconst handleCheckClose = () => {\r\n\t\tsetCheckOpen(false);\r\n\t};\r\n\r\n\tconst [profile, setProfile] = useState(false);\r\n\tconst toggleProfile = () => setProfile(!profile);\r\n\tconst profileRef = useRef();\r\n\r\n\tconst discardCheck = () => {\r\n\t\thandleCheckOpen();\r\n\t};\r\n\r\n\tconst discardThread = () => {\r\n\t\thandleJweetClose();\r\n\t\thandleCheckClose();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!profile) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (profileRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!profileRef.current.contains(e.target)) {\r\n\t\t\t\tsetProfile(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [profile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (window.location.href.includes(\"explore\")) {\r\n\t\t\tsetSelected(2);\r\n\t\t} else if (window.location.href.includes(\"bookmark\")) {\r\n\t\t\tsetSelected(3);\r\n\t\t} else if (window.location.href.includes(\"popular\")) {\r\n\t\t\tsetSelected(4);\r\n\t\t} else if (window.location.href.includes(\"profile\")) {\r\n\t\t\tsetSelected(5);\r\n\t\t} else {\r\n\t\t\tsetSelected(1);\r\n\t\t}\r\n\t}, [window.location.href]);\r\n\r\n\tconst onLogOutClick = () => {\r\n\t\tauth.signOut();\r\n\t\tdispatch(setLoginToken(\"logout\"));\r\n\t\tdispatch(\r\n\t\t\tsetCurrentUser({\r\n\t\t\t\tphotoURL: \"\",\r\n\t\t\t\tuid: \"\",\r\n\t\t\t\tdisplayName: \"\",\r\n\t\t\t\temail: \"\",\r\n\t\t\t})\r\n\t\t);\r\n\t\thistory.push(\"/\");\r\n\t};\r\n\r\n\tconst onSelected = (num) => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tsetSelected(num);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none w-64 pt-4 pr-4 h-full flex flex-col border-r border-gray-200 justify-between fixed\">\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t<Link class=\"h-16 mb-4\" to=\"/\" onClick={() => setSelected(1)}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\t// onClick={() => history.push(\"/home\")}\r\n\t\t\t\t\t\t\tclass=\"h-full px-4 py-3 object-cover hover:bg-purple-200 rounded-full cursor-pointer transition delay-50 duration-300 \"\r\n\t\t\t\t\t\t\talt=\"logo\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full \">\r\n\t\t\t\t\t\t{/* 기본 트윗 홈 */}\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(1)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<AiFillHome size={32} class=\"mr-4\" /> <b>Home</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<AiOutlineHome size={32} class=\"mr-4\" /> Home\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/explore/jweets\"}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(2)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 2 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiHashtag size={32} class=\"mr-4\" /> <b>Explore</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiOutlineHashtag size={32} class=\"mr-4\" /> Explore\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/bookmark\"}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(3)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 3 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<MdBookmark size={32} class=\"mr-4\" /> <b>Bookmarks</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<MdBookmarkBorder size={32} class=\"mr-4\" /> Bookmarks\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/popular\"}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(4)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 4 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiFire size={32} class=\"mr-4\" /> <b>Popular</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiOutlineFire size={32} class=\"mr-4\" /> Popular\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/jweet/\" + currentUser.uid}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(5)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-4 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 5 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<BsPersonFill size={32} class=\"mr-4\" /> <b>Profile</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<BsPerson size={32} class=\"mr-4\" /> Profile\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\"></div>\r\n\t\t\t\t\t\t<div class=\"cursor-pointer w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\">\r\n\t\t\t\t\t\t\t\t<IoNotificationsOutline size={32} class=\"mr-4\" />\r\n\t\t\t\t\t\t\t\tNotifications\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* <div class=\"cursor-pointer w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\">\r\n\t\t\t\t\t\t\t\t<CgList size={32} class=\"mr-4\" /> Lists\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t<div class=\"cursor-pointer w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\">\r\n\t\t\t\t\t\t\t\t<CgMoreO size={32} class=\"mr-4\" /> more\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleJweetOpen}\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-full text-white font-bold bg-purple-400 flex justify-center py-3 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tJweet\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref={profileRef}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\"w-full relative transition delay-200 duration-300 \" +\r\n\t\t\t\t\t\t\t\t(profile ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"bg-white absolute w-64 py-2 -right-4 bottom-2 border border-gray-300 shadow-lg rounded-3xl\">\r\n\t\t\t\t\t\t\t\t<div class=\"border-b px-4 border-gray-300 h-16 w-full py-3 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"h-full flex flex-row items-center \">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"h-full \">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={currentUser.photoURL}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-full object-cover h-full mr-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col justify-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{currentUser.displayName}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t@{currentUser.email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<BiCheck class=\"text-purple-500\" size={20} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={handleProfileOpen}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer px-4 py-4 hover:bg-gray-100 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLog out @{currentUser.displayName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={toggleProfile}\r\n\t\t\t\t\t\tclass=\"h-16 w-full px-3 py-3 rounded-full hover:bg-gray-200 transition delay-50 duration-300 flex flex-row justify-between items-center mb-4 cursor-pointer relative\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"h-full flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\"h-full \">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full object-cover h-full mr-4\"\r\n\t\t\t\t\t\t\t\t\talt=\"default\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col justify-center\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<b>{currentUser.displayName}</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t@{currentUser.email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<HiOutlineDotsHorizontal size={20} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\topen={profileOpen}\r\n\t\t\t\tonClose={handleProfileClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto p-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<div class=\"w-full h-12 flex justify-center items-center mb-4\">\r\n\t\t\t\t\t\t<img src={logo} class=\"h-full object-cover\" alt=\"logo\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Log out of Jwitter?</h1>\r\n\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\tYou can always log back in at any time. If you just want to switch\r\n\t\t\t\t\t\taccounts, you can do that by adding an existing account.{\" \"}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={onLogOutClick}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-purple-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLog out\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={handleProfileClose}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 font-bold\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\topen={jweetOpen}\r\n\t\t\t\tonClose={discardCheck}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={discardCheck}\r\n\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t<JweetFactory\r\n\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\thandleJweetClose={handleJweetClose}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\topen={checkOpen}\r\n\t\t\t\tonClose={handleCheckClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Discard Thread?</h1>\r\n\t\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\t\tThis can’t be undone and you’ll lose your draft.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={discardThread}\r\n\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDiscard\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleCheckClose}\r\n\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Leftbar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchUserBlock = ({ user, setFocus }) => {\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tto={\"/profile/jweet/\" + user.id}\r\n\t\t\tonClick={() => setFocus(false)}\r\n\t\t\tclass=\"select-none cursor-pointer flex flex-row h-16 hover:bg-gray-100\"\r\n\t\t>\r\n\t\t\t<div class=\"h-full p-2\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={user.photoURL}\r\n\t\t\t\t\tclass=\"h-full rounded-full object-cover mr-2\"\r\n\t\t\t\t\talt=\"photourl\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex flex-col justify-center\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<b>{user.displayName}</b>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"text-sm text-gray-500\">@{user.email.split(\"@\")[0]}</p>\r\n\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t{user.description !== \"\" ? user.description : \"\"}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default SearchUserBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchJweetBlock = ({ jweet, users, setFocus }) => {\r\n\tconst [filteredUser, setFilteredUser] = useState(\"\");\r\n\tuseEffect(() => {\r\n\t\tconst _filteredUser = users.filter(function (element, index) {\r\n\t\t\treturn element.id === jweet.creatorId;\r\n\t\t});\r\n\t\tsetFilteredUser(_filteredUser);\r\n\t}, []);\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tto={\"/jweet/\" + jweet.id}\r\n\t\t\tonClick={() => setFocus(false)}\r\n\t\t\tclass=\"select-none cursor-pointer flex flex-col  hover:bg-gray-100\"\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-row h-12\">\r\n\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t<div class=\"h-full p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={filteredUser[0].photoURL ? filteredUser[0].photoURL : \"\"}\r\n\t\t\t\t\t\t\tclass=\"h-full rounded-full object-cover mr-2\"\r\n\t\t\t\t\t\t\talt=\"photourl\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<b>{filteredUser[0].displayName}</b>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t@{filteredUser[0].email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<p class=\"truncate text-sm px-2 pt-1 pb-2\">{jweet.text}</p>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default SearchJweetBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n\tAiOutlineHeart,\r\n\tAiOutlineRetweet,\r\n\tAiTwotoneDelete,\r\n\tAiTwotoneHeart,\r\n} from \"react-icons/ai\";\r\n\r\nconst RecommendJweet = ({ jweet, users }) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst [filteredUser, setFilteredUser] = useState(\"\");\r\n\tuseEffect(() => {\r\n\t\tconst _filteredUser = users.filter(function (element, index) {\r\n\t\t\treturn element.id === jweet.creatorId;\r\n\t\t});\r\n\t\tsetFilteredUser(_filteredUser);\r\n\t}, []);\r\n\r\n\tconst goPage = () => {\r\n\t\thistory.push(\"/jweet/\" + jweet.id);\r\n\t\twindow.scrollTo(0, 0);\r\n\t};\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goPage}\r\n\t\t\tclass=\"pl-2 pr-4 py-1 select-none cursor-pointer flex flex-col  hover:bg-gray-200\"\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-row h-12 items-center\">\r\n\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t<div class=\"h-full p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={filteredUser[0].photoURL ? filteredUser[0].photoURL : \"\"}\r\n\t\t\t\t\t\t\tclass=\"h-full rounded-full object-cover mr-2\"\r\n\t\t\t\t\t\t\talt=\"photourl\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<b>{filteredUser[0].displayName}</b>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t@{filteredUser[0].email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<p class=\"truncate text-xs px-2 pt-1 pb-2\">{jweet.text}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecommendJweet;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport { auth, db } from \"mybase\";\r\nimport { FiSettings } from \"react-icons/fi\";\r\nimport { CgArrowsExchangeAlt } from \"react-icons/cg\";\r\nimport RecommendJweet from \"components/RecommendJweet\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst RecommendBlock = () => {\r\n\tconst history = useHistory();\r\n\tconst settingRef = useRef();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [show, setShow] = useState(5);\r\n\t// reply 모달\r\n\tconst [sortedJweets, setSortedJweets] = useState([]);\r\n\tconst [jweets, setJweets] = useState([]);\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [randomIndex, setRandomIndex] = useState([]);\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst handleModalOpen = () => setModalOpen(true);\r\n\tconst handleModalClose = () => {\r\n\t\tsetModalOpen(false);\r\n\t};\r\n\tconst [likeList, setLikeList] = useState([]);\r\n\tconst [randomList, setRandomList] = useState([]);\r\n\tconst [type, setType] = useState(\"\");\r\n\r\n\tconst toggleType = () => {\r\n\t\tsetShow(5);\r\n\t\tif (type === \"like\") setType(\"random\");\r\n\t\telse setType(\"like\");\r\n\t};\r\n\r\n\tconst showMore = () => {\r\n\t\tif (show === 5) setShow(10);\r\n\t\telse if (show === 10) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\r\n\t\t\tif (type === \"like\") history.push(\"/popular\");\r\n\t\t\telse history.push(\"/explore\");\r\n\t\t\tsetShow(5);\r\n\t\t}\r\n\t};\r\n\r\n\tconst selectType = () => {\r\n\t\ttoggleType();\r\n\t\thandleModalClose();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"users\")), (snapshot) => {\r\n\t\t\tconst _user = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tsetUsers(_user);\r\n\t\t});\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst _myJweet = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetJweets(_myJweet);\r\n\t\t\t\tsetSortedJweets(_myJweet);\r\n\t\t\t\tgetLikeList();\r\n\t\t\t\tgetRandomList();\r\n\t\t\t\tif (type === \"\") setType(\"like\");\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [type]);\r\n\r\n\tconst getLikeList = async () => {\r\n\t\tawait sortedJweets.sort(function (a, b) {\r\n\t\t\treturn b.like.length - a.like.length;\r\n\t\t});\r\n\t\tawait setLikeList(sortedJweets);\r\n\t\tsetLoading(true);\r\n\t};\r\n\r\n\tconst getRandomList = async () => {\r\n\t\tsetRandomIndex(Array.from({ length: jweets.length }, (v, i) => i));\r\n\t\tawait shuffle(randomIndex);\r\n\t\tconst _randomArray = await randomIndex.map((element, index) => {\r\n\t\t\treturn jweets[element];\r\n\t\t});\r\n\t\tawait setRandomList(_randomArray);\r\n\t\tsetLoading(true);\r\n\t};\r\n\r\n\tfunction shuffle(array) {\r\n\t\tfor (let index = array.length - 1; index > 0; index--) {\r\n\t\t\t// 무작위 index 값을 만든다. (0 이상의 배열 길이 값)\r\n\t\t\tconst randomPosition = Math.floor(Math.random() * (index + 1));\r\n\t\t\t// 임시로 원본 값을 저장하고, randomPosition을 사용해 배열 요소를 섞는다.\r\n\t\t\tconst temporary = array[index];\r\n\t\t\tarray[index] = array[randomPosition];\r\n\t\t\tarray[randomPosition] = temporary;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none py-3 border border-gray-100 bg-gray-100 w-full h-auto mt-2 rounded-xl\">\r\n\t\t\t\t<div class=\"px-4 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t<p class=\"text-lg mb-2\">\r\n\t\t\t\t\t\t{(type === \"\" || type === \"like\") && <b>Popular Jweets</b>}\r\n\t\t\t\t\t\t{type === \"random\" && <b>Random Jweets</b>}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={settingRef}\r\n\t\t\t\t\t\tonClick={handleModalOpen}\r\n\t\t\t\t\t\tclass=\"relative hover:bg-gray-300 rounded-full cursor-pointer p-2 mb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FiSettings size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{type === \"like\" ? (\r\n\t\t\t\t\t\t\t<div class=\"flex-col\">\r\n\t\t\t\t\t\t\t\t{likeList.map((element, index) => {\r\n\t\t\t\t\t\t\t\t\tif (index < show) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<RecommendJweet\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={element.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tjweet={element}\r\n\t\t\t\t\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div class=\"flex-col\">\r\n\t\t\t\t\t\t\t\t{randomList.map((element, index) => {\r\n\t\t\t\t\t\t\t\t\tif (index < show) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<RecommendJweet\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={element.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tjweet={element}\r\n\t\t\t\t\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div class=\"w-full my-2\">\r\n\t\t\t\t\t\t\t{show === 5 || show === 10 ? (\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tonClick={showMore}\r\n\t\t\t\t\t\t\t\t\tclass=\"px-4 text-sm font-bold cursor-pointer text-blue-500\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tshow more...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div class=\"h-full py-4 flex-1 flex flex-row justify-center items-center\">\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\topen={modalOpen}\r\n\t\t\t\tonClose={handleModalClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto py-4 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t<h1 class=\"px-8 text-xl font-bold mb-2\">Sorting Method</h1>\r\n\t\t\t\t\t\t{type === \"like\" && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={selectType}\r\n\t\t\t\t\t\t\t\tclass=\"px-8 cursor-pointer w-full flex flex-row items-center hover:bg-gray-100 py-2\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"mr-4\">\r\n\t\t\t\t\t\t\t\t\t<CgArrowsExchangeAlt size={40} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"font-bold text-lg\">Random Jweets</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm\">Jweets are randomly selected</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{type === \"random\" && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={selectType}\r\n\t\t\t\t\t\t\t\tclass=\"px-8 cursor-pointer w-full flex flex-row items-center hover:bg-gray-100 py-2\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"mr-4\">\r\n\t\t\t\t\t\t\t\t\t<CgArrowsExchangeAlt size={40} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"font-bold text-lg\">Like Jweets</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm\">It's sorted based on likes</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RecommendBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n\tAiOutlineHeart,\r\n\tAiOutlineRetweet,\r\n\tAiTwotoneDelete,\r\n\tAiTwotoneHeart,\r\n} from \"react-icons/ai\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\n\r\nconst RecommendUser = ({ user }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst goPage = () => {\r\n\t\thistory.push(\"/profile/jweet/\" + user.id);\r\n\t\twindow.scrollTo(0, 0);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) setLoading(true);\r\n\t}, []);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goPage}\r\n\t\t\tclass=\"h-full pl-2 pr-4 py-1 select-none cursor-pointer flex flex-row justify-between items-center hover:bg-gray-200\"\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-row h-12 w-full items-center\">\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<div class=\"h-full p-1 mr-2 pt-1\">\r\n\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\tsrc={user.photoURL ? user.photoURL : \"\"}\r\n\t\t\t\t\t\t\tsx={{ width: 40, height: 40 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t<div class=\"h-full p-1 mr-2 pt-1\">\r\n\t\t\t\t\t\t\t<Avatar sx={{ width: 40, height: 40 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Skeleton>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<b>{user.displayName}</b>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">@{user.email.split(\"@\")[0]}</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t\t<b>{user.displayName}</b>\r\n\t\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">@{user.email.split(\"@\")[0]}</p>\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecommendUser;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport { auth, db } from \"mybase\";\r\nimport { FiSettings } from \"react-icons/fi\";\r\nimport { CgArrowsExchangeAlt } from \"react-icons/cg\";\r\nimport RecommendJweet from \"components/RecommendJweet\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport RecommendUser from \"components/RecommendUser\";\r\nimport { RiRefreshLine } from \"react-icons/ri\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst RecommendUserBlock = () => {\r\n\tconst history = useHistory();\r\n\tconst settingRef = useRef();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [show, setShow] = useState(5);\r\n\t// reply 모달\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [randomIndex, setRandomIndex] = useState([]);\r\n\tconst handleModalOpen = () => setModalOpen(true);\r\n\tconst handleModalClose = () => {\r\n\t\tsetModalOpen(false);\r\n\t};\r\n\tconst [likeList, setLikeList] = useState([]);\r\n\tconst [randomList, setRandomList] = useState([]);\r\n\tconst [type, setType] = useState(\"\");\r\n\tconst [refresh, setRefresh] = useState(false);\r\n\tconst toggleRefresh = () => setRefresh(!refresh);\r\n\r\n\tconst showMore = () => {\r\n\t\tif (show === 5) setShow(10);\r\n\t\telse if (show === 10) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\r\n\t\t\tif (type === \"like\") history.push(\"/popular\");\r\n\t\t\t// else if(type === \"user\") history.push(\"/profile/jweet/\"+)\r\n\t\t\telse history.push(\"/explore\");\r\n\t\t\tsetShow(5);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"users\")), (snapshot) => {\r\n\t\t\tconst _user = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tshuffle(_user);\r\n\t\t\tsetUsers(_user);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [type, refresh]);\r\n\r\n\tfunction shuffle(array) {\r\n\t\tfor (let index = array.length - 1; index > 0; index--) {\r\n\t\t\t// 무작위 index 값을 만든다. (0 이상의 배열 길이 값)\r\n\t\t\tconst randomPosition = Math.floor(Math.random() * (index + 1));\r\n\t\t\t// 임시로 원본 값을 저장하고, randomPosition을 사용해 배열 요소를 섞는다.\r\n\t\t\tconst temporary = array[index];\r\n\t\t\tarray[index] = array[randomPosition];\r\n\t\t\tarray[randomPosition] = temporary;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none py-3 border border-gray-100 bg-gray-100 w-full h-auto mt-2 rounded-xl\">\r\n\t\t\t\t<div class=\"px-4 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t<p class=\"text-lg mb-2\">\r\n\t\t\t\t\t\t<b>You might like</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={toggleRefresh}\r\n\t\t\t\t\t\tclass=\"relative hover:bg-gray-300 rounded-full cursor-pointer p-2 mb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RiRefreshLine size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div class=\"flex-col\">\r\n\t\t\t\t\t\t\t{users.map((user, index) => {\r\n\t\t\t\t\t\t\t\tif (index < show) {\r\n\t\t\t\t\t\t\t\t\treturn <RecommendUser key={user.id} user={user} />;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* <div class=\"w-full my-2\">\r\n\t\t\t\t\t\t\t{users.length * 1 >= 5 && (show === 5 || show === 10) ? (\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tonClick={showMore}\r\n\t\t\t\t\t\t\t\t\tclass=\"px-4 text-sm font-bold cursor-pointer text-blue-500\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tshow more...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div class=\"h-full py-4 flex-1 flex flex-row justify-center items-center\">\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RecommendUserBlock;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n\tgetDocs,\r\n\tquery,\r\n\tcollection,\r\n\twhere,\r\n\tdoc,\r\n\torderBy,\r\n\tlimit,\r\n\tonSnapshot,\r\n\tgetDoc,\r\n} from \"firebase/firestore\";\r\nimport { auth, db } from \"mybase\";\r\nimport SearchUserBlock from \"components/SearchUserBlock\";\r\nimport SearchJweetBlock from \"components/SearchJweetBlock\";\r\nimport RecommendJweetBlock from \"components/RecommendJweetBlock\";\r\nimport RecommendUserBlock from \"components/RecommendUserBlock\";\r\n\r\nconst Rightbar = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst [focus, setFocus] = useState(false);\r\n\tconst [jweets, setJweets] = useState([]);\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst [filteredUsers, setFilteredUsers] = useState([]);\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst inputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"users\")), (snapshot) => {\r\n\t\t\tconst _user = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tsetUsers(_user);\r\n\t\t});\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst _jweet = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetJweets(_jweet);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, []);\r\n\r\n\tconst getFiltered = async () => {\r\n\t\tconsole.log(users, jweets);\r\n\t\tconst _filteredUsers = await users.filter(function (element, index) {\r\n\t\t\treturn (\r\n\t\t\t\telement.displayName.includes(search) ||\r\n\t\t\t\telement.email.includes(search) ||\r\n\t\t\t\tsearch === \"all\"\r\n\t\t\t);\r\n\t\t});\r\n\t\tawait setFilteredUsers(_filteredUsers);\r\n\t\tconst _filteredJweets = await jweets.filter(function (element, index) {\r\n\t\t\treturn element.text.includes(search) || search === \"all\";\r\n\t\t});\r\n\t\tawait setFilteredJweets(_filteredJweets);\r\n\t\tconsole.log(filteredUsers, filteredJweets);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (search !== \"\") {\r\n\t\t\tgetFiltered();\r\n\t\t\tsetLoading(true);\r\n\t\t} else {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetFilteredJweets([]);\r\n\t\t\tsetFilteredUsers([]);\r\n\t\t}\r\n\t}, [search]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetSearch(e.target.value);\r\n\t\tsetLoading(false);\r\n\t};\r\n\tconst clearText = (e) => {\r\n\t\tsetSearch(\"\");\r\n\t\tsetFocus(false);\r\n\t\tconsole.log(\"clear\", search);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!focus) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (inputRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!inputRef.current.contains(e.target)) {\r\n\t\t\t\tsetFocus(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [focus]);\r\n\r\n\treturn (\r\n\t\t<div class=\"h-full w-80 hidden xl:flex xl:flex-col xl:items-center border-l border-gray-100 px-4 \">\r\n\t\t\t<div\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\tclass=\"relative w-full h-14 border-b border-gray-200 py-1 flex flex-row items-center\"\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"h-full w-full flex flex-row rounded-full items-center px-2 py-2 \" +\r\n\t\t\t\t\t\t(focus\r\n\t\t\t\t\t\t\t? \"bg-white text-blue-500 border border-blue-500\"\r\n\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-500 border border-gray-200\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<FiSearch\r\n\t\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\t\tclass={\" \" + (focus ? \" text-blue-500\" : \"text-gray-500\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Search Jwitter\"\r\n\t\t\t\t\t\tonFocus={() => setFocus(true)}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\"select-none w-full outline-none text-sm text-gray-500 py-1 px-2 \" +\r\n\t\t\t\t\t\t\t(focus ? \"bg-white \" : \"bg-gray-100 \")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{focus && search !== \"\" && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={clearText}\r\n\t\t\t\t\t\t\tclass=\"z-40 p-2 rounded-full flex justify-center items-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MdCancel size={24} class=\"text-blue-500\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{focus && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\"z-50 select-none absolute px-4 py-4 border border-gray-200 max-h-96 bg-white rounded-lg w-full top-14 shadow-xl h-auto \" +\r\n\t\t\t\t\t\t\t(filteredUsers.length !== 0 || filteredJweets.length !== 0\r\n\t\t\t\t\t\t\t\t? \"overflow-y-scroll\"\r\n\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{search !== \"\" &&\r\n\t\t\t\t\t\t\tfilteredUsers.length === 0 &&\r\n\t\t\t\t\t\t\tfilteredJweets.length === 0 && (\r\n\t\t\t\t\t\t\t\t<div class=\"w-full text-xs mb-6\">\r\n\t\t\t\t\t\t\t\t\t<p>search for \"{search}\"</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{search === \"\" && (\r\n\t\t\t\t\t\t\t<div class=\"w-full text-xs mb-6\">\r\n\t\t\t\t\t\t\t\t<p>Try searching for people, topics, or keywords</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{filteredUsers.length !== 0 && (\r\n\t\t\t\t\t\t\t<div class=\"border-b border-gray-200 pb-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"w-full font-bold text-lg mb-1 \">Users</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t{filteredUsers.map((user, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <SearchUserBlock user={user} setFocus={setFocus} />;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{filteredJweets.length !== 0 && (\r\n\t\t\t\t\t\t\t<div class=\"w-full font-bold text-lg mt-3 mb-1 \">Jweets</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t\t{filteredJweets.map((jweet, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<SearchJweetBlock\r\n\t\t\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t\t\tsetFocus={setFocus}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<RecommendUserBlock jweets={jweets} users={users} />\r\n\t\t\t<div class=\"w-full mb-2\"></div>\r\n\t\t\t<RecommendJweetBlock jweets={jweets} users={users} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Rightbar;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Bookmark = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [info, setInfo] = useState({});\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst getMyInfo = async () => {\r\n\t\tconst docRef = await doc(db, \"users\", currentUser.uid);\r\n\t\tawait getDoc(docRef).then((snap) => {\r\n\t\t\tif (snap.exists()) {\r\n\t\t\t\tsetInfo(snap.data());\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst myJweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tconst _myJweet = myJweetArray.filter(function (element, index) {\r\n\t\t\t\t\treturn currentUser.bookmark.includes(element.id);\r\n\t\t\t\t});\r\n\t\t\t\tsetFilteredJweets(_myJweet);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [currentUser.bookmark]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMyInfo();\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t<div class=\"min-h-16 w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold text-xl\">Bookmarks</div>\r\n\t\t\t\t\t\t<div class=\"text-xs\">\r\n\t\t\t\t\t\t\t{info.email ? \"@\" + info.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{filteredJweets.length !== 0 ? (\r\n\t\t\t\t\t\tfilteredJweets.map((jweet, index) => {\r\n\t\t\t\t\t\t\treturn <JweetBlock key={jweet.id} jweet={jweet} />;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Bookmark;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db, firebase } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport { HiOutlineFire, HiFire } from \"react-icons/hi\";\r\n\r\nconst Popular = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [info, setInfo] = useState({});\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst getMyInfo = async () => {\r\n\t\tconst docRef = await doc(db, \"users\", currentUser.uid);\r\n\t\tawait getDoc(docRef).then((snap) => {\r\n\t\t\tif (snap.exists()) {\r\n\t\t\t\tsetInfo(snap.data());\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t} else {\r\n\t\t\t\t// doc.data() will be undefined in this case\r\n\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\tasync (snapshot) => {\r\n\t\t\t\tconst myJweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tawait myJweetArray.sort(function (a, b) {\r\n\t\t\t\t\treturn b.like.length - a.like.length;\r\n\t\t\t\t});\r\n\t\t\t\tsetFilteredJweets(myJweetArray);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMyInfo();\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t<div class=\"min-h-16 w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold text-xl flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<HiFire class=\"text-red-500 mr-1\" /> Popular\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"text-xs\">It's sorted based on likes</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{filteredJweets.length !== 0 ? (\r\n\t\t\t\t\t\tfilteredJweets.map((jweet, index) => {\r\n\t\t\t\t\t\t\treturn <JweetBlock key={jweet.id} jweet={jweet} />;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Popular;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db, firebase } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport { HiOutlineHashtag, HiHashtag } from \"react-icons/hi\";\r\nimport { GrFormRefresh } from \"react-icons/gr\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\n\r\nconst ExploreJweets = ({ filteredJweets }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{filteredJweets.length !== 0 ? (\r\n\t\t\t\tfilteredJweets.map((jweet, index) => {\r\n\t\t\t\t\treturn <JweetBlock key={jweet.id} jweet={jweet} type={\"explore\"} />;\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ExploreJweets;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport EditJweet from \"components/EditJweet\";\r\nimport ImageModal from \"components/ImageModal\";\r\nimport ReplyFactory from \"components/ReplyFactory\";\r\nimport { deleteDoc, doc, onSnapshot, updateDoc } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n\tAiOutlineHeart,\r\n\tAiOutlineRetweet,\r\n\tAiTwotoneDelete,\r\n\tAiTwotoneHeart,\r\n} from \"react-icons/ai\";\r\nimport { BsChat } from \"react-icons/bs\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { MdBookmark, MdBookmarkBorder } from \"react-icons/md\";\r\nimport { RiEdit2Line } from \"react-icons/ri\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst UserBlock = (props) => {\r\n\tconst user = props.user;\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [func, setFunc] = useState(false);\r\n\tconst [like, setLike] = useState(false);\r\n\tconst [bookmark, setBookmark] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) setLoading(true);\r\n\t}, []);\r\n\r\n\tconst goUser = () => {\r\n\t\thistory.push(\"/profile/jweet/\" + user.id);\r\n\t};\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goUser}\r\n\t\t\tclass=\"w-full select-none z-30 cursor-pointer hover:bg-gray-100 transition delay-50 duration-300 flex flex-row px-2 pt-2 pb-4  border-b border-gray-200\"\r\n\t\t>\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2 pt-4\">\r\n\t\t\t\t\t\t\t<Avatar src={user.photoURL} sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t\t\t<Avatar sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"max-w-lg md:max-w-sm xl:max-w-xl flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">{user.displayName}</h1>\r\n\t\t\t\t\t\t\t\t<p class=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t@{user.email ? user.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<div class=\"max-w-lg md:max-w-sm xl:max-w-xl text-md\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"w-full truncate\">{user.description}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"h-8\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserBlock;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db, firebase } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport { HiOutlineHashtag, HiHashtag } from \"react-icons/hi\";\r\nimport { GrFormRefresh } from \"react-icons/gr\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\nimport UserBlock from \"components/UserBlock\";\r\n\r\nconst ExploreUser = ({ filteredUsers }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full\">\r\n\t\t\t{filteredUsers.length !== 0 ? (\r\n\t\t\t\tfilteredUsers.map((user, index) => {\r\n\t\t\t\t\treturn <UserBlock key={user.id} user={user} />;\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ExploreUser;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db, firebase } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport JweetBlock from \"components/JweetBlock\";\r\nimport { HiOutlineHashtag, HiHashtag } from \"react-icons/hi\";\r\nimport { GrFormRefresh } from \"react-icons/gr\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\nimport ExploreJweets from \"components/ExploreJweets\";\r\nimport ExploreUsers from \"components/ExploreUsers\";\r\n\r\nconst Popular = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst [filteredUsers, setFilteredUsers] = useState([]);\r\n\tconst [randomList, setRandomList] = useState([]);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [selected, setSelected] = useState(1);\r\n\tfunction shuffle(array) {\r\n\t\tfor (let index = array.length - 1; index > 0; index--) {\r\n\t\t\t// 무작위 index 값을 만든다. (0 이상의 배열 길이 값)\r\n\t\t\tconst randomPosition = Math.floor(Math.random() * (index + 1));\r\n\t\t\t// 임시로 원본 값을 저장하고, randomPosition을 사용해 배열 요소를 섞는다.\r\n\t\t\tconst temporary = array[index];\r\n\t\t\tarray[index] = array[randomPosition];\r\n\t\t\tarray[randomPosition] = temporary;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"jweets\")), async (snapshot) => {\r\n\t\t\tconst userArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tconst _randomList = Array.from({ length: userArray.length }, (v, i) => i);\r\n\t\t\tshuffle(_randomList);\r\n\t\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\t\treturn userArray[element];\r\n\t\t\t});\r\n\t\t\tsetFilteredJweets(_randomArray);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\r\n\t\tonSnapshot(query(collection(db, \"users\")), async (snapshot) => {\r\n\t\t\tconst userArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tconst _randomList = Array.from({ length: userArray.length }, (v, i) => i);\r\n\t\t\tshuffle(_randomList);\r\n\t\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\t\treturn userArray[element];\r\n\t\t\t});\r\n\t\t\tsetFilteredUsers(_randomArray);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst refreshJweets = async () => {\r\n\t\tsetLoading(false);\r\n\t\tconst _randomList = Array.from(\r\n\t\t\t{ length: filteredJweets.length },\r\n\t\t\t(v, i) => i\r\n\t\t);\r\n\t\tshuffle(_randomList);\r\n\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\treturn filteredJweets[element];\r\n\t\t});\r\n\t\tsetFilteredJweets(_randomArray);\r\n\t\tsetLoading(true);\r\n\t};\r\n\tconst refreshUsers = async () => {\r\n\t\tsetLoading(false);\r\n\t\tconst _randomList = Array.from(\r\n\t\t\t{ length: filteredUsers.length },\r\n\t\t\t(v, i) => i\r\n\t\t);\r\n\t\tshuffle(_randomList);\r\n\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\treturn filteredUsers[element];\r\n\t\t});\r\n\t\tsetFilteredUsers(_randomArray);\r\n\t\tsetLoading(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\r\n\tconst onSelected = (num) => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tsetSelected(num);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none flex-1 flex flex-col pl-64\">\r\n\t\t\t\t<div class=\"min-h-16 w-full px-2 py-2 flex flex-row justify-between items-center border-b border-gray-200\">\r\n\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold text-xl flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<HiHashtag class=\"text-purple-700 mr-1\" /> Explore\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{selected === 1 && (\r\n\t\t\t\t\t\t\t<div class=\"text-xs\">Jweets are randomly selected</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{selected === 2 && (\r\n\t\t\t\t\t\t\t<div class=\"text-xs\">Users are randomly selected</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={selected === 1 ? refreshJweets : refreshUsers}\r\n\t\t\t\t\t\tclass=\"p-2 rounded-full hover:bg-gray-100 cursor-pointer\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<GrFormRefresh size={28} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-row \">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\"/explore/jweets\"}\r\n\t\t\t\t\t\tonClick={() => onSelected(1)}\r\n\t\t\t\t\t\tclass=\"w-1/2 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\"py-3 \" + (selected === 1 ? \"border-b-4 border-purple-500\" : \"\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tJweets\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\"/explore/users\"}\r\n\t\t\t\t\t\tonClick={() => onSelected(2)}\r\n\t\t\t\t\t\tclass=\"w-1/2 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\"py-3 \" + (selected === 2 ? \"border-b-4 border-purple-500\" : \"\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tUsers\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/explore/jweets\">\r\n\t\t\t\t\t\t<ExploreJweets filteredJweets={filteredJweets} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/explore/users\">\r\n\t\t\t\t\t\t<ExploreUsers filteredUsers={filteredUsers} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Popular;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport EditJweet from \"components/EditJweet\";\r\nimport ImageModal from \"components/ImageModal\";\r\nimport { deleteDoc, doc, onSnapshot, updateDoc } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n\tAiOutlineHeart,\r\n\tAiOutlineRetweet,\r\n\tAiTwotoneDelete,\r\n\tAiTwotoneHeart,\r\n} from \"react-icons/ai\";\r\nimport { BsChat } from \"react-icons/bs\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { MdBookmark, MdBookmarkBorder } from \"react-icons/md\";\r\nimport { RiEdit2Line } from \"react-icons/ri\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst DetailBlock = (props) => {\r\n\tconst jweet = props.jweet;\r\n\tconst uid = props.id;\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [func, setFunc] = useState(false);\r\n\tconst [like, setLike] = useState(false);\r\n\tconst [bookmark, setBookmark] = useState(false);\r\n\r\n\tconst [creatorInfo, setCreatorInfo] = useState({});\r\n\tconst toggleFunc = () => {\r\n\t\tif (jweet.creatorId === currentUser.uid) setFunc(!func);\r\n\t};\r\n\r\n\t// jweet 모달\r\n\tconst [jweetOpen, setJweetOpen] = useState(false);\r\n\tconst handleJweetOpen = () => setJweetOpen(true);\r\n\tconst handleJweetClose = () => {\r\n\t\tsetJweetOpen(false);\r\n\t};\r\n\r\n\tconst [checkOpen, setCheckOpen] = useState(false);\r\n\tconst handleCheckOpen = () => setCheckOpen(true);\r\n\tconst handleCheckClose = () => {\r\n\t\tsetCheckOpen(false);\r\n\t};\r\n\r\n\t// Snack bar\r\n\tconst [bookmarkSnack, setBookmarkSnack] = useState();\r\n\tconst bookmarkClick = () => setBookmarkSnack(true);\r\n\tconst bookmarkClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetBookmarkSnack(false);\r\n\t};\r\n\r\n\tconst [likeSnack, setLikeSnack] = useState();\r\n\tconst likeClick = () => setLikeSnack(true);\r\n\tconst likeClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLikeSnack(false);\r\n\t};\r\n\r\n\tconst onDeleteClick = async () => {\r\n\t\tawait deleteDoc(doc(db, \"jweets\", jweet.id));\r\n\t\tif (jweet.attachmentUrl !== \"\")\r\n\t\t\tawait deleteObject(ref(storage, jweet.attachmentUrl));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!func) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (funcRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!funcRef.current.contains(e.target)) {\r\n\t\t\t\tsetFunc(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [func]);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(doc(db, \"users\", jweet.creatorId), (doc) => {\r\n\t\t\tsetCreatorInfo(doc.data());\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [uid]);\r\n\r\n\tconst toggleBookmark = async () => {\r\n\t\tbookmarkClick();\r\n\t\tif (currentUser.bookmark.includes(jweet.id)) {\r\n\t\t\tsetBookmark(false);\r\n\t\t\tconst cp = [...currentUser.bookmark];\r\n\t\t\tcp.splice(currentUser.bookmark.indexOf(jweet.id), 1);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\tbookmark: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\tbookmark: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetBookmark(true);\r\n\t\t\tconst cp = [...currentUser.bookmark];\r\n\t\t\tcp.push(jweet.id);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\tbookmark: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\tbookmark: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLike(jweet.like.includes(currentUser.uid));\r\n\t\tsetBookmark(currentUser.bookmark.includes(jweet.id));\r\n\t}, [uid]);\r\n\r\n\tconst toggleLike = async () => {\r\n\t\tlikeClick();\r\n\t\tif (jweet.like.includes(currentUser.uid)) {\r\n\t\t\tsetLike(false);\r\n\t\t\tconst cp = [...jweet.like];\r\n\t\t\tcp.splice(jweet.like.indexOf(currentUser.uid), 1);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLike(true);\r\n\t\t\tconst cp = [...jweet.like];\r\n\t\t\tcp.push(currentUser.uid);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst [photoOpen, setPhotoOpen] = useState(false);\r\n\tconst handlePhotoOpen = () => setPhotoOpen(true);\r\n\tconst handlePhotoClose = () => {\r\n\t\tsetPhotoOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full select-none z-30 flex flex-col px-2 pt-2 pb-4 border-r border-l border-b border-gray-200\">\r\n\t\t\t<>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/jweet/\" + jweet.creatorId}\r\n\t\t\t\t\t\t\t\tclass=\"h-16 w-16 py-2 px-1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={creatorInfo.photoURL}\r\n\t\t\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">\r\n\t\t\t\t\t\t\t\t\t\t{creatorInfo.displayName}\r\n\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t@{creatorInfo.email ? creatorInfo.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tref={funcRef}\r\n\t\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\t\"cursor-pointer transition delay-50 duration-300 rounded-full p-2 relative \" +\r\n\t\t\t\t\t\t\t\t\t\t\t(jweet.creatorId === currentUser.uid\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-purple-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<HiOutlineDotsHorizontal onClick={toggleFunc} size={28} />\r\n\t\t\t\t\t\t\t\t\t\t{func && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"bg-white border border-gray-200 z-40 absolute flex flex-col top-2 right-2 w-60 rounded-md shadow-xl\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleJweetOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-t-md\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RiEdit2Line class=\"w-12\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">Edit Jweet</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleCheckOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-b-md\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AiTwotoneDelete class=\"w-12\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">Delete Jweet</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t\t\t{/* <div class=\"w-full h-auto \">{jweet.text}</div> */}\r\n\t\t\t\t\t\t\t<div class=\"w-full h-auto\">\r\n\t\t\t\t\t\t\t\t<div class=\"w-full h-auto resize-none outline-none bg-transparent whitespace-pre\">\r\n\t\t\t\t\t\t\t\t\t{jweet.text}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{jweet.attachmentUrl !== \"\" && (\r\n\t\t\t\t\t\t\t\t<div class=\"w-full mt-4 mb-2 pr-4 \">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tonClick={handlePhotoOpen}\r\n\t\t\t\t\t\t\t\t\t\tsrc={jweet.attachmentUrl}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full object-cover cursor-pointer rounded-xl border border-gray-200 shadow-lg\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"attachment\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-row mt-2 py-2 pl-2 border-t border-b border-gray-200\">\r\n\t\t\t\t\t\t\t\t<div class=\"mr-8\">\r\n\t\t\t\t\t\t\t\t\t<b>{0} </b>\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500 ml-1\">Rejweets</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mr-8\">\r\n\t\t\t\t\t\t\t\t\t<b>{jweet.reply.length} </b>\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500 ml-1\">Quote Jweets</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mr-8\">\r\n\t\t\t\t\t\t\t\t\t<b>{jweet.like.length} </b>\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500 ml-1\">Likes</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-row items-center mt-4 \">\r\n\t\t\t\t\t\t\t\t<div class=\"cursor-pointer w-1/4 flex flex-row justify-center items-center transition delay-50 duration-300 text-gray-400 hover:text-purple-500\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"rounded-full transition delay-50 duration-300 hover:bg-purple-100 p-2\">\r\n\t\t\t\t\t\t\t\t\t\t<BsChat size={24} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"cursor-pointer w-1/4 flex flex-row justify-center items-center transition delay-50 duration-300 text-gray-400 hover:text-green-500\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"rounded-full transition delay-50 duration-300 hover:bg-green-100 p-2\">\r\n\t\t\t\t\t\t\t\t\t\t<AiOutlineRetweet size={24} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* AiOutlineHeart,\r\n\tAiTwotoneHeart, */}\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={toggleLike}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-1/4 flex flex-row justify-center items-center transition delay-50 duration-300 text-gray-400 hover:text-red-500\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"rounded-full transition delay-50 duration-300 hover:bg-red-100 p-2\">\r\n\t\t\t\t\t\t\t\t\t\t{like ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<AiTwotoneHeart size={24} class=\"text-red-500\" />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<AiOutlineHeart size={24} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={toggleBookmark}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-1/4 flex flex-row justify-center items-center transition delay-50 duration-300 text-gray-400 hover:text-blue-500\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"rounded-full transition delay-50 duration-300 hover:bg-blue-100 p-2\">\r\n\t\t\t\t\t\t\t\t\t\t{bookmark ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<MdBookmark size={24} class=\"text-blue-500\" />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<MdBookmarkBorder size={24} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div class=\"py-4 w-full flex justify-center\">\r\n\t\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={jweetOpen}\r\n\t\t\t\t\tonClose={handleJweetClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleJweetClose}\r\n\t\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<EditJweet\r\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\t\t_jweet={jweet}\r\n\t\t\t\t\t\t\t\thandleJweetClose={handleJweetClose}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={checkOpen}\r\n\t\t\t\t\tonClose={handleCheckClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Delete Jweet?</h1>\r\n\t\t\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\t\t\tThis can’t be undone and it will be removed from your profile,\r\n\t\t\t\t\t\t\t\tthe timeline of any accounts that follow you, and from Jwitter\r\n\t\t\t\t\t\t\t\tsearch results.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={onDeleteClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={handleCheckClose}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={bookmarkSnack}\r\n\t\t\t\t\tautoHideDuration={2000}\r\n\t\t\t\t\tonClose={bookmarkClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tonClose={bookmarkClose}\r\n\t\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{bookmark ? \"북마크 저장\" : \"북마크 취소\"}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t\t<Snackbar open={likeSnack} autoHideDuration={2000} onClose={likeClose}>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tonClose={likeClose}\r\n\t\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{like ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t\t<ImageModal\r\n\t\t\t\t\tphotoURL={jweet.attachmentUrl}\r\n\t\t\t\t\tphotoOpen={photoOpen}\r\n\t\t\t\t\thandlePhotoOpen={handlePhotoOpen}\r\n\t\t\t\t\thandlePhotoClose={handlePhotoClose}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetailBlock;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst EditReply = ({ _reply, handleReplyClose }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\t\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n\t});\r\n\tconst [reply, setReply] = useState(_reply.text);\r\n\tconst [attachment, setAttachment] = useState(_reply.attachmentUrl);\r\n\tconst textareaRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst emojiRef = useRef();\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst toggleEmoji = () => setEmojiClick(!emojiClick);\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\t// setChosenEmoji(emojiObject);\r\n\t\tconst cp = reply + emojiObject.emoji;\r\n\t\tsetReply(cp);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\thandleReplyClose();\r\n\t\tawait updateDoc(doc(db, \"replies\", _reply.id), {\r\n\t\t\ttext: reply,\r\n\t\t\tattachmentUrl: attachment === null ? \"\" : attachment,\r\n\t\t});\r\n\t};\r\n\tconst onChange = (e) => {\r\n\t\tsetReply(e.target.value);\r\n\t};\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t});\r\n\r\n\tconst [editSnack, setEditSnack] = useState();\r\n\tconst editClick = () => setEditSnack(true);\r\n\tconst editClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetEditSnack(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex flex-row px-2 pt-2 border-b border-gray-200\">\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col pl-2 pb-2\">\r\n\t\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={reply}\r\n\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"What's happening?\"\r\n\t\t\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\t\t\tclass=\"w-full py-3 resize-none h-10 overflow-hidden scroll leading-7 outline-none text-lg text-purple-300 focus:text-purple-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{attachment && (\r\n\t\t\t\t\t\t\t<div class=\"w-full h-96 relative\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={attachment}\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t\talt=\"preview\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"absolute left-0 top-0 w-auto h-auto opacity-70 cursor-pointer\"\r\n\t\t\t\t\t\t\t\t\tonClick={clearAttachment}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MdCancel size={28} alt=\"remove\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-row justify-between items-center pr-2\">\r\n\t\t\t\t\t\t{/* 좌측 아이콘 */}\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-300 relative\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{emojiClick && (\r\n\t\t\t\t\t\t\t\t<div ref={emojiRef} class=\"absolute top-10\">\r\n\t\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 우측 submit */}\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-full text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\t\tvalue=\"Reply\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<Snackbar open={editSnack} autoHideDuration={2000} onClose={editClose}>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={editClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{editSnack ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditReply;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport MuiAlert from \"@mui/material/Alert\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport EditReply from \"components/EditReply\";\r\nimport ImageModal from \"components/ImageModal\";\r\nimport {\r\n\tdeleteDoc,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\tupdateDoc,\r\n} from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n\tAiOutlineHeart,\r\n\tAiTwotoneDelete,\r\n\tAiTwotoneHeart,\r\n} from \"react-icons/ai\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { RiEdit2Line } from \"react-icons/ri\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst ReplyBlock = (props) => {\r\n\tconst reply = props.reply;\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [func, setFunc] = useState(false);\r\n\tconst [like, setLike] = useState(false);\r\n\tconst [bookmark, setBookmark] = useState(false);\r\n\r\n\tconst [creatorInfo, setCreatorInfo] = useState({});\r\n\tconst toggleFunc = () => setFunc(!func);\r\n\r\n\t// reply 모달\r\n\tconst [replyOpen, setReplyOpen] = useState(false);\r\n\tconst handleReplyOpen = () => setReplyOpen(true);\r\n\tconst handleReplyClose = () => {\r\n\t\tsetReplyOpen(false);\r\n\t};\r\n\r\n\tconst [checkOpen, setCheckOpen] = useState(false);\r\n\tconst handleCheckOpen = () => setCheckOpen(true);\r\n\tconst handleCheckClose = () => {\r\n\t\tsetCheckOpen(false);\r\n\t};\r\n\r\n\tconst [likeSnack, setLikeSnack] = useState();\r\n\tconst likeClick = () => setLikeSnack(true);\r\n\tconst likeClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLikeSnack(false);\r\n\t};\r\n\r\n\tconst onDeleteClick = async () => {\r\n\t\tawait onSnapshot(doc(db, \"jweets\", reply.parent), async (docu) => {\r\n\t\t\tconst cp = docu.data().reply;\r\n\t\t\tcp.splice(docu.data().reply.indexOf(reply.id), 1);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", reply.parent), {\r\n\t\t\t\treply: cp,\r\n\t\t\t});\r\n\t\t});\r\n\t\tawait deleteDoc(doc(db, \"replies\", reply.id));\r\n\t\tif (reply.attachmentUrl !== \"\")\r\n\t\t\tawait deleteObject(ref(storage, reply.attachmentUrl));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!func) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (funcRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!funcRef.current.contains(e.target)) {\r\n\t\t\t\tsetFunc(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [func]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLike(reply.like.includes(currentUser.uid));\r\n\t\tconst docRef = doc(db, \"users\", reply.creatorId);\r\n\t\tgetDoc(docRef).then((snap) => {\r\n\t\t\tif (snap.exists()) {\r\n\t\t\t\tsetCreatorInfo(snap.data());\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t} else {\r\n\t\t\t\t// doc.data() will be undefined in this case\r\n\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst toggleLike = async () => {\r\n\t\tlikeClick();\r\n\t\tif (reply.like.includes(currentUser.uid)) {\r\n\t\t\tsetLike(false);\r\n\t\t\tconst cp = [...reply.like];\r\n\t\t\tcp.splice(reply.like.indexOf(currentUser.uid), 1);\r\n\t\t\tawait updateDoc(doc(db, \"replies\", reply.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLike(true);\r\n\t\t\tconst cp = [...reply.like];\r\n\t\t\tcp.push(currentUser.uid);\r\n\t\t\tawait updateDoc(doc(db, \"replies\", reply.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst [photoOpen, setPhotoOpen] = useState(false);\r\n\tconst handlePhotoOpen = () => setPhotoOpen(true);\r\n\tconst handlePhotoClose = () => {\r\n\t\tsetPhotoOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full select-none z-30 cursor-pointer hover:bg-gray-100 transition delay-50 duration-300 flex flex-row px-2 pt-2 pb-4 border-r border-l border-b border-gray-200\">\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={\"/profile/reply/\" + reply.creatorId}\r\n\t\t\t\t\t\t\tclass=\"h-16 w-16 p-2\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsrc={creatorInfo.photoURL}\r\n\t\t\t\t\t\t\t\tsx={{ width: 48, height: 48 }}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t{/* <img\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t\t\t<Avatar sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">\r\n\t\t\t\t\t\t\t\t\t{creatorInfo.displayName}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<p class=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t@{creatorInfo.email ? creatorInfo.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tref={funcRef}\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"cursor-pointer transition delay-50 duration-300 rounded-full p-2 relative \" +\r\n\t\t\t\t\t\t\t\t\t\t(reply.creatorId === currentUser.uid\r\n\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-purple-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HiOutlineDotsHorizontal\r\n\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\treply.creatorId === currentUser.uid ? toggleFunc : \"\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsize={28}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{func && (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-white border border-gray-200 z-40 absolute flex flex-col top-2 right-2 w-60 rounded-md shadow-xl\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleReplyOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-t-md\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<RiEdit2Line class=\"w-12\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">Edit Reply</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleCheckOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-b-md\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AiTwotoneDelete class=\"w-12\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">Delete Reply</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"h-8\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* <div class=\"w-full h-auto \">{reply.text}</div> */}\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full h-auto\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-auto resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\">\r\n\t\t\t\t\t\t\t\t{reply.text}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-24  resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{reply.attachmentUrl !== \"\" && (\r\n\t\t\t\t\t\t<div class=\"w-full mt-4 mb-2 pr-4 \">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tonClick={handlePhotoOpen}\r\n\t\t\t\t\t\t\t\tsrc={reply.attachmentUrl}\r\n\t\t\t\t\t\t\t\tclass=\"w-full object-cover rounded-xl border border-gray-200 shadow-lg\"\r\n\t\t\t\t\t\t\t\talt=\"attachment\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div id=\"except\" class=\"w-full flex flex-row items-center mt-4 \">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleLike}\r\n\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/2 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-red-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full transition delay-50 duration-300 hover:bg-red-100 mt-1 mr-1 p-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{reply.like.includes(currentUser.uid) ? (\r\n\t\t\t\t\t\t\t\t\t\t<AiTwotoneHeart size={16} class=\"text-red-500\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<AiOutlineHeart size={16} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t\t{reply.like.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-8 resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={replyOpen}\r\n\t\t\t\t\tonClose={handleReplyClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleReplyClose}\r\n\t\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<EditReply\r\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\t\t_reply={reply}\r\n\t\t\t\t\t\t\t\thandleReplyClose={handleReplyClose}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={checkOpen}\r\n\t\t\t\t\tonClose={handleCheckClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Delete Reply?</h1>\r\n\t\t\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\t\t\tThis can’t be undone and it will be removed from your profile,\r\n\t\t\t\t\t\t\t\tthe timeline of any accounts that follow you, and from Jwitter\r\n\t\t\t\t\t\t\t\tsearch results.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={onDeleteClick}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={handleCheckClose}\r\n\t\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Snackbar open={likeSnack} autoHideDuration={2000} onClose={likeClose}>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tonClose={likeClose}\r\n\t\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{like ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t\t<ImageModal\r\n\t\t\t\t\tphotoURL={reply.attachmentUrl}\r\n\t\t\t\t\tphotoOpen={photoOpen}\r\n\t\t\t\t\thandlePhotoOpen={handlePhotoOpen}\r\n\t\t\t\t\thandlePhotoClose={handlePhotoClose}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ReplyBlock;\r\n","import CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport DetailBlock from \"components/DetailBlock\";\r\nimport ReplyBlock from \"components/ReplyBlock\";\r\nimport ReplyFactory from \"components/ReplyFactory\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { IoArrowBackOutline } from \"react-icons/io5\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst JweetDetail = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst [jweet, setJweet] = useState([]);\r\n\tconst [replies, setReplies] = useState([]);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst getJweet = async () => {\r\n\t\tonSnapshot(doc(db, \"jweets\", uid), (doc) => {\r\n\t\t\tsetJweet({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t});\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getReplies = async () => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(\r\n\t\t\t\tcollection(db, \"replies\"),\r\n\t\t\t\twhere(\"parent\", \"==\", uid),\r\n\t\t\t\torderBy(\"createdAt\", \"desc\")\r\n\t\t\t),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst nweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetReplies(nweetArray);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetJweet();\r\n\t\tgetReplies();\r\n\t}, [uid]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t\t\t<div class=\"w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\r\n\t\t\t\t\t\t\t\tclass=\"mr-4 cursor-pointer p-2 rounded-full hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoArrowBackOutline size={24} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t<div class=\"font-bold text-xl\">Jweet & Replies</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<DetailBlock\r\n\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<ReplyFactory id={jweet.id} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t{replies.map((element, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ReplyBlock\r\n\t\t\t\t\t\t\t\t\t\tkey={element.id}\r\n\t\t\t\t\t\t\t\t\t\treply={element}\r\n\t\t\t\t\t\t\t\t\t\tid={element.id}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<div class=\"pl-64 h-full py-4 flex-1 flex flex-row justify-center items-center\">\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default JweetDetail;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n\tHashRouter as Router,\r\n\tRoute,\r\n\tSwitch,\r\n\tRedirect,\r\n} from \"react-router-dom\";\r\nimport Home from \"routes/Home\";\r\nimport Profile from \"routes/Profile\";\r\nimport Navigation from \"components/Navigation\";\r\nimport Login from \"routes/Login\";\r\nimport Leftbar from \"routes/Leftbar\";\r\nimport Rightbar from \"routes/Rightbar\";\r\nimport Bookmark from \"routes/Bookmark\";\r\nimport Popular from \"routes/Popular\";\r\nimport Explore from \"routes/Explore\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\nimport JweetDetail from \"routes/JweetDetail\";\r\nimport ExploreJweets from \"components/ExploreJweets\";\r\nimport ExploreUsers from \"components/ExploreUsers\";\r\n\r\nconst AppRouter = (props) => {\r\n\tconst isLoggedIn = props.isLoggedIn;\r\n\tconst loginToken = useSelector((state) => state.user.loginToken);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t{/* {isLoggedIn && <Navigation userObj={userObj} />} */}\r\n\t\t\t<div\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"w-full h-full \" +\r\n\t\t\t\t\t(loginToken === \"login\" && currentUser\r\n\t\t\t\t\t\t? \"flex flex-row px-0 lg:px-36\"\r\n\t\t\t\t\t\t: \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{loginToken === \"login\" && currentUser && <Leftbar />}\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t{loginToken === \"login\" && currentUser ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/bookmark\">\r\n\t\t\t\t\t\t\t\t<Bookmark />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/explore/:type\">\r\n\t\t\t\t\t\t\t\t<Explore />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/popular\">\r\n\t\t\t\t\t\t\t\t<Popular />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/home\">\r\n\t\t\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path=\"/jweet/:id\" component={JweetDetail} />\r\n\t\t\t\t\t\t\t<Route path=\"/profile/:type/:id\" component={Profile} />\r\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/\" />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t\t\t<Login />\r\n\t\t\t\t\t\t\t\t{/* <Auth /> */}\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/\" />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Switch>\r\n\t\t\t\t{loginToken === \"login\" && currentUser && <Rightbar />}\r\n\t\t\t</div>\r\n\t\t</Router>\r\n\t);\r\n};\r\n\r\nexport default AppRouter;\r\n","import AppRouter from \"components/Router\";\nimport React from \"react\";\n\nfunction App() {\n\treturn <AppRouter />;\n}\n\nexport default App;\n","import { combineReducers } from \"redux\";\r\nimport user from \"./user\";\r\n\r\nexport const USER_LOGOUT = \"USER_LOGOUT\";\r\nexport const settingLogOut = () => ({\r\n\ttype: USER_LOGOUT,\r\n});\r\n\r\nconst appReducer = combineReducers({\r\n\tuser,\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n\tif (action.type === USER_LOGOUT) {\r\n\t\tstate = undefined;\r\n\t}\r\n\treturn appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","import { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { createStore } from \"redux\";\r\nimport reducers from \"../reducers\";\r\n\r\nconst persistConfig = {\r\n\tkey: \"root\",\r\n\tstorage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport default function configureStore() {\r\n\tconst store = createStore(persistedReducer, {}, composeWithDevTools());\r\n\tconst persistor = persistStore(store);\r\n\treturn { store, persistor };\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./routes/App\";\nimport firebase from \"./mybase\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n// import { persistStore } from \"redux-persist\";\nimport configureStore from \"./app/store\";\nconst { store, persistor } = configureStore();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<PersistGate loading={null} persistor={persistor}>\n\t\t\t\t<App />\n\t\t\t</PersistGate>\n\t\t</BrowserRouter>\n\t</Provider>,\n\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}