{"version":3,"sources":["reducers/user.js","reducers/index.js","app/store.js","components/box/LoadingBox.js","mybase.js","components/button/BookmarkButton.js","components/button/DeleteButton.js","components/button/LikeButton.js","components/button/RejweetButton.js","image/defaultImg.jpg","components/box/CreateReplyBox.js","components/modal/CreateReplyModal.js","components/button/ReplyButton.js","components/button/UpdateButton.js","components/modal/DeleteJweetModal.js","components/modal/ImageModal.js","components/box/UpdateJweetBox.js","components/modal/UpdateJweetModal.js","components/box/JweetBox.js","routes/Bookmark.js","components/container/ExploreJweets.js","components/box/UserBox.js","components/container/ExploreUsers.js","routes/Explore.js","components/box/CreateJweetBox.js","routes/Home.js","components/box/DetailJweetBox.js","components/box/UpdateReplyBox.js","components/modal/DeleteReplyModal.js","components/box/ReplyBox.js","routes/Detail.js","components/modal/CreateJweetModal.js","image/logo.png","routes/Leftbar.js","image/bgimg.jpg","components/button/GithubButton.js","image/github.jpg","components/button/GoogleButton.js","image/google.png","components/button/EmailButton.js","components/container/LoginContainer.js","components/container/RegisterContainer.js","image/background.jpg","routes/Loading.js","components/modal/AuthFormModal.js","components/modal/LoginFormModal.js","routes/Login.js","routes/Popular.js","components/modal/UpdateProfileModal.js","components/container/LikeJweets.js","components/container/MyJweets.js","components/container/ReJweets.js","routes/Profile.js","components/box/RecommendJweetBox.js","components/container/PopularJweets.js","components/container/RandomJweets.js","components/modal/RecommendMethodModal.js","components/container/RecommendJweets.js","components/box/RecommendUserBox.js","components/container/RecommendUsers.js","components/box/SearchJweetBox.js","components/box/SearchUserBox.js","components/box/SearchBox.js","routes/Rightbar.js","routes/Router.js","routes/App.js","index.js"],"names":["SET_LOGIN_TOKEN","SET_CURRENT_USER","SET_MODE","setLoginToken","loginToken","type","payload","setCurrentUser","currentUser","initialState","uid","photoURL","displayName","description","bookmark","rejweet","follower","following","email","bgURL","mode","user","state","action","USER_LOGOUT","appReducer","combineReducers","rootReducer","undefined","persistConfig","key","storage","persistedReducer","persistReducer","reducers","LoadingBox","class","CircularProgress","auth","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getFirestore","getStorage","Alert","React","forwardRef","props","ref","elevation","variant","BookmarkButton","jweet","bookmarkRef","isDetail","dispatch","useDispatch","useSelector","useState","setBookmark","bookmarkSnack","setBookmarkSnack","bookmarkClose","e","reason","useEffect","includes","id","toggleBookmark","a","cp","splice","indexOf","updateDoc","doc","push","onClick","size","Snackbar","open","autoHideDuration","onClose","severity","color","sx","width","DeleteButton","handleOpen","text","LikeButton","likeRef","like","setLike","likeSnack","setLikeSnack","likeClose","toggleLike","length","RejweetButton","reJweetRef","setRejweet","rejweetSnack","setRejweetSnack","rejweetClose","toggleRejweet","cp_jweet","CreateReplyBox","isModal","handleReplyClose","setJweet","replyText","setReplyText","over","setOver","focusOn","setFocusOn","emojiClick","setEmojiClick","attachment","setAttachment","emojiRef","useRef","fileRef","setLoading","textareaRef","onSnapshot","data","current","style","height","scrollHeight","window","addEventListener","handleClick","removeEventListener","contains","target","onSubmit","preventDefault","attachmentUrl","alert","attachmentRef","uuidv4","uploadString","response","getDownloadURL","_jweet","createdAt","Date","now","creatorId","parent","addDoc","collection","reply","console","log","handleResizeHeight","useCallback","substring","innerHeight","src","defaultImg","alt","value","onChange","placeholder","onInput","onFocus","click","onEmojiClick","event","emojiObject","newText","slice","selectionStart","emoji","selectionEnd","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","currentTarget","result","readAsDataURL","CreateReplyModal","modalRef","replyOpen","Modal","ReplyButton","handleReplyOpen","UpdateButton","DeleteJweetModal","deleteOpen","handleDeleteClose","goBack","history","useHistory","onDeleteClick","i","deleteDoc","deleteObject","ImageModal","photoOpen","handlePhotoClose","handlePhotoOpen","UpdateJweetBox","handleUpdateClose","UpdateJweetModal","updateOpen","JweetBox","loading","funcRef","func","setFunc","creatorInfo","setCreatorInfo","setReplyOpen","setUpdateOpen","setDeleteOpen","setPhotoOpen","exceptRef","profileRef","replyRef","tagName","innerText","className","scrollTo","Avatar","Skeleton","split","Bookmark","info","setInfo","filteredJweets","setFilteredJweets","getMyInfo","docRef","getDoc","then","snap","exists","query","orderBy","snapshot","_myJweet","docs","map","filter","element","index","ExploreJweets","UserBox","ExploreUser","filteredUsers","Explore","setFilteredUsers","selected","setSelected","shuffle","array","randomPosition","Math","floor","random","temporary","userArray","_randomList","Array","from","v","_randomArray","refreshJweets","refreshUsers","location","href","onSelected","num","to","path","ExploreUsers","CreateJweetBox","handleJweetClose","focus","Home","jweets","setJweets","nweetArray","DetailJweetBox","UpdateReply","_reply","setReply","editSnack","setEditSnack","editClose","DeleteReplyModal","docSnap","ReplyBox","clickModal","setClickModal","UpdateReplyBox","Detail","match","params","replies","setReplies","getJweet","getReplies","where","isOwner","CreateJweetModal","createOpen","discardCheck","handleCreateClose","checkOpen","handleCheckClose","discardThread","Leftbar","setPhotoURL","logoutOpen","setLogoutOpen","handleLogoutClose","setCreateOpen","setCheckOpen","profile","setProfile","logo","signOut","GithubButton","isLogin","onGithubLogin","provider","GithubAuthProvider","signInWithPopup","credentialFromResult","accessToken","follwing","bgimg","usersRef","setDoc","catch","error","name","GoogleButton","onGoogleLogin","GoogleAuthProvider","EmailButton","loginContainer","toggleLogin","RegisterContainer","Loading","AuthForm","password","setError","signInWithEmailAndPassword","createUserWithEmailAndPassword","message","required","LoginFormModal","handleClose","AuthFormModal","Login","setIsLogin","setOpen","setTimeout","LoginContainer","background","Popular","myJweetArray","sort","b","UpdateProfileModal","updateModal","updateModalClose","updateModalOpen","toggleUpdateState","bgRef","focused","setFocused","bg","setBg","onChangeInfo","updateClick","updateSnack","setUpdateSnack","updateClose","onBlur","LikeJweets","likeJweets","setLikeJweets","_likeJweets","MyJweets","myJweets","setMyJweets","q","querySnapshot","forEach","ReJweets","rejweets","setRejweets","reJweets","Profile","updateState","setUpdateState","setUpdateModal","getInfo","getJweets","component","RecommendJweet","users","filteredUser","setFilteredUser","_filteredUser","PopularJweets","handleModalOpen","show","showMore","setType","likeList","setLikeList","sorting","RecommendJweetBox","RandomJweets","randomList","setRandomList","RecommendMethodModal","modalOpen","handleModalClose","selectType","RecommendJweets","setShow","setUsers","setModalOpen","_user","RecommendUserBox","RecommendUsers","refresh","setRefresh","SearchJweetBlock","setFocus","SearchUserBlock","SearchBox","search","setSearch","inputRef","getFiltered","_filteredUsers","_filteredJweets","SearchUserBox","SearchJweetBox","Rightbar","AppRouter","exact","App","store","createStore","composeWithDevTools","persistor","persistStore","configureStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12657668.chunk.js","sourcesContent":["export const SET_LOGIN_TOKEN = \"SET_LOGIN_TOKEN\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const SET_MODE = \"SET_MODE\";\r\n\r\nexport const setLoginToken = (loginToken) => ({\r\n\ttype: SET_LOGIN_TOKEN,\r\n\tpayload: loginToken,\r\n});\r\n\r\nexport const setCurrentUser = (currentUser) => ({\r\n\ttype: SET_CURRENT_USER,\r\n\tpayload: currentUser,\r\n});\r\n\r\nexport const setMode = (mode) => ({\r\n\ttype: SET_MODE,\r\n\tpayload: mode,\r\n});\r\n\r\nconst initialState = {\r\n\tloginToken: \"logout\",\r\n\tcurrentUser: {\r\n\t\tuid: \"\",\r\n\t\tphotoURL: \"\",\r\n\t\tdisplayName: \"\",\r\n\t\tdescription: \"\",\r\n\t\tbookmark: [],\r\n\t\trejweet: [],\r\n\t\tfollower: [],\r\n\t\tfollowing: [],\r\n\t\temail: \"\",\r\n\t\tbgURL: \"\",\r\n\t},\r\n\tmode: \"white\",\r\n};\r\n\r\nconst user = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_LOGIN_TOKEN: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginToken: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_CURRENT_USER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentUser: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_MODE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default user;\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./user\";\r\n\r\nexport const USER_LOGOUT = \"USER_LOGOUT\";\r\nexport const settingLogOut = () => ({\r\n\ttype: USER_LOGOUT,\r\n});\r\n\r\nconst appReducer = combineReducers({\r\n\tuser,\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n\tif (action.type === USER_LOGOUT) {\r\n\t\tstate = undefined;\r\n\t}\r\n\treturn appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","import { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { createStore } from \"redux\";\r\nimport reducers from \"../reducers\";\r\n\r\nconst persistConfig = {\r\n\tkey: \"root\",\r\n\tstorage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport default function configureStore() {\r\n\tconst store = createStore(persistedReducer, {}, composeWithDevTools());\r\n\tconst persistor = persistStore(store);\r\n\treturn { store, persistor };\r\n}\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst LoadingBox = () => {\r\n\treturn (\r\n\t\t<div class=\"h-full py-4 flex-1 flex flex-row justify-center items-center\">\r\n\t\t\t<CircularProgress />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LoadingBox;\r\n","import { initializeApp } from \"@firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n\tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\r\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n\tappId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nconst firebase = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\nexport const storage = getStorage();\r\nexport default firebase;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { MdBookmark, MdBookmarkBorder } from \"react-icons/md\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst BookmarkButton = ({ jweet, bookmarkRef, isDetail }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [bookmark, setBookmark] = useState(false);\r\n\r\n\t// Snack bar\r\n\tconst [bookmarkSnack, setBookmarkSnack] = useState();\r\n\tconst bookmarkClick = () => setBookmarkSnack(true);\r\n\tconst bookmarkClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetBookmarkSnack(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetBookmark(currentUser.bookmark.includes(jweet.id));\r\n\t}, []);\r\n\r\n\tconst toggleBookmark = async () => {\r\n\t\tbookmarkClick();\r\n\t\tif (currentUser.bookmark.includes(jweet.id)) {\r\n\t\t\tsetBookmark(false);\r\n\t\t\tconst cp = [...currentUser.bookmark];\r\n\t\t\tcp.splice(currentUser.bookmark.indexOf(jweet.id), 1);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\tbookmark: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\tbookmark: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetBookmark(true);\r\n\t\t\tconst cp = [...currentUser.bookmark];\r\n\t\t\tcp.push(jweet.id);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\tbookmark: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\tbookmark: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tid=\"except\"\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"w-1/4 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-blue-500 \" +\r\n\t\t\t\t\t(bookmark ? \"text-blue-500 \" : \" \") +\r\n\t\t\t\t\t(isDetail ? \"justify-center \" : \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={toggleBookmark}\r\n\t\t\t\t\tref={bookmarkRef}\r\n\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"cursor-pointer rounded-full transition delay-50 duration-300 hover:bg-blue-100 p-2 \" +\r\n\t\t\t\t\t\t(isDetail ? \"\" : \"mt-1 mr-1\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{bookmark ? (\r\n\t\t\t\t\t\t<MdBookmark size={isDetail ? 27 : 16} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<MdBookmarkBorder size={isDetail ? 27 : 16} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={bookmarkSnack}\r\n\t\t\t\tautoHideDuration={2000}\r\n\t\t\t\tonClose={bookmarkClose}\r\n\t\t\t>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={bookmarkClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"info\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{bookmark ? \"북마크 저장\" : \"북마크 취소\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default BookmarkButton;\r\n","import React from \"react\";\r\nimport { AiTwotoneDelete } from \"react-icons/ai\";\r\n\r\nconst DeleteButton = ({ handleOpen, text }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={handleOpen}\r\n\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-b-md\"\r\n\t\t>\r\n\t\t\t<AiTwotoneDelete class=\"w-12\" size={20} />\r\n\t\t\t<div class=\"flex-1\">{text}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DeleteButton;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { AiOutlineHeart, AiTwotoneHeart } from \"react-icons/ai\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useSelector } from \"react-redux\";\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst LikeButton = ({ jweet, likeRef, isDetail }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [like, setLike] = useState(false);\r\n\tconst [likeSnack, setLikeSnack] = useState();\r\n\tconst likeClick = () => setLikeSnack(true);\r\n\tconst likeClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLikeSnack(false);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsetLike(jweet.like.includes(currentUser.uid));\r\n\t}, []);\r\n\r\n\tconst toggleLike = async () => {\r\n\t\tlikeClick();\r\n\t\tif (jweet.like.includes(currentUser.uid)) {\r\n\t\t\tsetLike(false);\r\n\t\t\tconst cp = [...jweet.like];\r\n\t\t\tcp.splice(jweet.like.indexOf(currentUser.uid), 1);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLike(true);\r\n\t\t\tconst cp = [...jweet.like];\r\n\t\t\tcp.push(currentUser.uid);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tid=\"except\"\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"w-1/4 flex flex-row items-center transition delay-50 duration-300 hover:text-red-500 \" +\r\n\t\t\t\t\t(like ? \"text-red-500 \" : \"text-gray-400 \") +\r\n\t\t\t\t\t(isDetail ? \"justify-center\" : \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\tonClick={toggleLike}\r\n\t\t\t\t\tref={likeRef}\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"cursor-pointer rounded-full transition delay-50 duration-300 hover:bg-red-100 p-2 \" +\r\n\t\t\t\t\t\t(isDetail ? \" \" : \"mt-1 mr-1 \")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{like ? (\r\n\t\t\t\t\t\t<AiTwotoneHeart size={isDetail ? 25 : 16} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<AiOutlineHeart size={isDetail ? 25 : 16} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{!isDetail && (\r\n\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t{jweet.like.length}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Snackbar open={likeSnack} autoHideDuration={2000} onClose={likeClose}>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={likeClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{like ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default LikeButton;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { AiOutlineRetweet } from \"react-icons/ai\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst RejweetButton = ({ jweet, reJweetRef, isDetail }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [rejweet, setRejweet] = useState(false);\r\n\r\n\tconst [rejweetSnack, setRejweetSnack] = useState();\r\n\tconst rejweetClick = () => setRejweetSnack(true);\r\n\tconst rejweetClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetRejweetSnack(false);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsetRejweet(jweet.rejweet.includes(currentUser.uid));\r\n\t}, []);\r\n\r\n\tconst toggleRejweet = async () => {\r\n\t\trejweetClick();\r\n\r\n\t\tif (!currentUser.rejweet) {\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\trejweet: [],\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\trejweet: [],\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (jweet.rejweet.includes(currentUser.uid)) {\r\n\t\t\tsetRejweet(false);\r\n\t\t\tconst cp = [...currentUser.rejweet];\r\n\t\t\tcp.splice(currentUser.rejweet.indexOf(jweet.id), 1);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\trejweet: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\trejweet: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tconst cp_jweet = [...jweet.rejweet];\r\n\t\t\tcp_jweet.splice(cp_jweet.indexOf(currentUser.uid), 1);\r\n\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\trejweet: cp_jweet,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetRejweet(true);\r\n\t\t\tconst cp = [...currentUser.rejweet];\r\n\t\t\tcp.push(jweet.id);\r\n\t\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\t\trejweet: cp,\r\n\t\t\t});\r\n\t\t\tdispatch(\r\n\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t...currentUser,\r\n\t\t\t\t\trejweet: cp,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tconst cp_jweet = [...jweet.rejweet];\r\n\t\t\tcp_jweet.push(currentUser.uid);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", jweet.id), {\r\n\t\t\t\trejweet: cp_jweet,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tid=\"except\"\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"w-1/4 flex flex-row items-center transition delay-50 duration-300  hover:text-green-500 \" +\r\n\t\t\t\t\t(rejweet ? \"text-green-500 \" : \"text-gray-400 \") +\r\n\t\t\t\t\t(isDetail ? \"justify-center \" : \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={toggleRejweet}\r\n\t\t\t\t\tref={reJweetRef}\r\n\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"cursor-pointer rounded-full transition delay-50 duration-300 hover:bg-green-100 p-2 \" +\r\n\t\t\t\t\t\t(isDetail ? \"\" : \"mt-1 mr-1\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<AiOutlineRetweet size={isDetail ? 25 : 16} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{!isDetail && (\r\n\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t{jweet.rejweet ? jweet.rejweet.length : 0}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={rejweetSnack}\r\n\t\t\t\tautoHideDuration={2000}\r\n\t\t\t\tonClose={rejweetClose}\r\n\t\t\t>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={rejweetClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{rejweet ? \"리즈윗!\" : \"리즈윗 취소!\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RejweetButton;\r\n","export default \"data:image/jpeg;base64,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\"","import Picker from \"emoji-picker-react\";\r\nimport {\r\n\taddDoc,\r\n\tcollection,\r\n\tdoc,\r\n\tonSnapshot,\r\n\tupdateDoc,\r\n} from \"firebase/firestore\";\r\nimport { getDownloadURL, ref, uploadString } from \"firebase/storage\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst CreateReplyBox = ({ id, isModal, handleReplyClose }) => {\r\n\tconst [jweet, setJweet] = useState({});\r\n\tconst [replyText, setReplyText] = useState(\"\");\r\n\tconst [over, setOver] = useState(false);\r\n\tconst [focusOn, setFocusOn] = useState(false);\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst [attachment, setAttachment] = useState(\"\");\r\n\tconst emojiRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst toggleEmoji = () => setEmojiClick(!emojiClick);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\tconst newText =\r\n\t\t\treplyText.slice(0, textareaRef.current.selectionStart) +\r\n\t\t\temojiObject.emoji +\r\n\t\t\treplyText.slice(textareaRef.current.selectionEnd, replyText.length);\r\n\t\tsetReplyText(newText);\r\n\t};\r\n\tconst textareaRef = useRef();\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst onChange = (e) => {\r\n\t\tsetReplyText(e.target.value);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false);\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(doc(db, \"jweets\", id), (doc) => {\r\n\t\t\tsetJweet({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t});\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet attachmentUrl = \"\";\r\n\r\n\t\tconst text = replyText;\r\n\t\tif (text === \"\" && attachment === \"\") {\r\n\t\t\talert(\"글자 혹은 사진을 추가해주세요\");\r\n\t\t} else {\r\n\t\t\tif (attachment !== \"\") {\r\n\t\t\t\tconst attachmentRef = ref(storage, `${currentUser.uid}/${uuidv4()}`);\r\n\t\t\t\tconst response = await uploadString(\r\n\t\t\t\t\tattachmentRef,\r\n\t\t\t\t\tattachment,\r\n\t\t\t\t\t\"data_url\"\r\n\t\t\t\t);\r\n\t\t\t\tattachmentUrl = await getDownloadURL(response.ref);\r\n\t\t\t}\r\n\t\t\tconst _jweet = {\r\n\t\t\t\ttext: text,\r\n\t\t\t\tcreatedAt: Date.now(),\r\n\t\t\t\tcreatorId: currentUser.uid,\r\n\t\t\t\tlike: [],\r\n\t\t\t\tattachmentUrl,\r\n\t\t\t\tparent: id,\r\n\t\t\t};\r\n\t\t\tsetReplyText(\"\");\r\n\t\t\tsetAttachment(\"\");\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\tif (isModal) {\r\n\t\t\t\thandleReplyClose();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tsetOver(false);\r\n\t\t\t\tsetFocusOn(false);\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t\tsetReplyText(\"\");\r\n\t\t\t\tsetAttachment(\"\");\r\n\t\t\t\tconst reply = await addDoc(collection(db, \"replies\"), _jweet);\r\n\t\t\t\tawait updateDoc(doc(db, \"jweets\", id), {\r\n\t\t\t\t\treply: [...jweet.reply, reply.id],\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttextareaRef.current.style.height.substring(\r\n\t\t\t\t0,\r\n\t\t\t\ttextareaRef.current.style.height.length - 2\r\n\t\t\t) *\r\n\t\t\t\t1 >\r\n\t\t\twindow.innerHeight - 200\r\n\t\t) {\r\n\t\t\tsetOver(true);\r\n\t\t\tif (replyText === \"\") textareaRef.current.style.height = \"40px\";\r\n\t\t} else {\r\n\t\t\tsetOver(false);\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\ttextareaRef.current.style.height =\r\n\t\t\t\ttextareaRef.current.scrollHeight + \"px\";\r\n\t\t}\r\n\t});\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclass={\r\n\t\t\t\t\"flex flex-row h-auto border-t py-2 px-2 \" +\r\n\t\t\t\t(isModal ? \"\" : \"border-b border-gray-200\")\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div class=\"p-2 h-16\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\talt=\"img\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"flex-1 flex items-end \" +\r\n\t\t\t\t\t(focusOn ? \"flex-col\" : \"flex-row items-center \")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={replyText}\r\n\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder=\"Jweet Your reply?\"\r\n\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\tonFocus={() => setFocusOn(true)}\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"w-full py-3 pl-2 pr-4 resize-none h-10 scroll leading-7 outline-none text-xl text-purple-300 focus:text-purple-500 \" +\r\n\t\t\t\t\t\t(over ? \"overflow-y-scroll\" : \"overflow-hidden\")\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\" h-16 flex flex-row items-center \" +\r\n\t\t\t\t\t\t(focusOn ? \"justify-between w-full\" : \"\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{focusOn && (\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-500 relative\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div ref={emojiRef}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"absolute top-10 select-none \" +\r\n\t\t\t\t\t\t\t\t\t\t(emojiClick ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-2xl text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\tvalue=\"Reply\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CreateReplyBox;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport CreateReplyBox from \"components/box/CreateReplyBox\";\r\nimport React from \"react\";\r\nimport { GrClose } from \"react-icons/gr\";\r\n\r\nconst CreateReplyModal = ({ modalRef, replyOpen, handleReplyClose, jweet }) => {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={replyOpen}\r\n\t\t\tref={modalRef}\r\n\t\t\tonClose={handleReplyClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-2/3 lg:w-1/2 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t{\" \"}\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={handleReplyClose}\r\n\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<GrClose size={38} class=\"ml-2 p-2 hover:bg-gray-200 rounded-full\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<CreateReplyBox\r\n\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\thandleReplyClose={handleReplyClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default CreateReplyModal;\r\n","import CreateReplyModal from \"components/modal/CreateReplyModal\";\r\nimport React from \"react\";\r\nimport { BsChat } from \"react-icons/bs\";\r\n\r\nconst ReplyButton = ({\r\n\tjweet,\r\n\tisDetail,\r\n\thandleReplyOpen,\r\n\treplyOpen,\r\n\thandleReplyClose,\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tid=\"except\"\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"w-1/4 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-purple-500 \" +\r\n\t\t\t\t\t(isDetail ? \"justify-center\" : \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={handleReplyOpen}\r\n\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"rounded-full transition delay-50 duration-300 hover:bg-purple-100 p-2 \" +\r\n\t\t\t\t\t\t(isDetail ? \"mt-1 mr-1 \" : \"cursor-pointer\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<BsChat size={isDetail ? 24 : 16} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{!isDetail && (\r\n\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t{jweet.reply.length}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<CreateReplyModal\r\n\t\t\t\tjweet={jweet}\r\n\t\t\t\treplyOpen={replyOpen}\r\n\t\t\t\thandleReplyClose={handleReplyClose}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ReplyButton;\r\n","import React from \"react\";\r\nimport { RiEdit2Line } from \"react-icons/ri\";\r\n\r\nconst UpdateButton = ({ handleOpen, text }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={handleOpen}\r\n\t\t\tclass=\"flex flex-row items-center transition delay-50 duration-300 py-3 hover:bg-gray-100 rounded-t-md\"\r\n\t\t>\r\n\t\t\t<RiEdit2Line class=\"w-12\" size={20} />\r\n\t\t\t<div class=\"flex-1\">{text}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UpdateButton;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport { deleteDoc, doc } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst DeleteJweetModal = ({ jweet, deleteOpen, handleDeleteClose, goBack }) => {\r\n\tconst history = useHistory();\r\n\tconst onDeleteClick = async () => {\r\n\t\thandleDeleteClose();\r\n\t\tfor (let i = 0; i < jweet.reply; i++) {\r\n\t\t\tawait deleteDoc(doc(db, \"replies\", jweet.reply[i]));\r\n\t\t}\r\n\r\n\t\tif (goBack) history.goBack();\r\n\t\tawait deleteDoc(doc(db, \"jweets\", jweet.id));\r\n\t\tif (jweet.attachmentUrl !== \"\") {\r\n\t\t\tawait deleteObject(ref(storage, jweet.attachmentUrl));\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={deleteOpen}\r\n\t\t\tonClose={handleDeleteClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Delete Jweet?</h1>\r\n\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\tThis can’t be undone and it will be removed from your profile, the\r\n\t\t\t\t\t\ttimeline of any accounts that follow you, and from Jwitter search\r\n\t\t\t\t\t\tresults.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={onDeleteClick}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={handleDeleteClose}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default DeleteJweetModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport { IoClose } from \"react-icons/io5\";\r\n\r\nconst ImageModal = ({\r\n\tphotoURL,\r\n\tphotoOpen,\r\n\thandlePhotoOpen,\r\n\thandlePhotoClose,\r\n}) => {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={photoOpen}\r\n\t\t\tonClose={handlePhotoClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"outline-none absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center h-auto py-1/3 rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<img src={photoURL} alt=\"imgURL\" class=\"object-cover\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={handlePhotoClose}\r\n\t\t\t\t\tclass=\"absolute left-4 top-4 rounded-full text-white p-2 bg-gray-700 hover:bg-gray-400 \"\r\n\t\t\t\t>\r\n\t\t\t\t\t<IoClose size={24} />\r\n\t\t\t\t</button>\r\n\t\t\t</>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default ImageModal;\r\n","import Picker from \"emoji-picker-react\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UpdateJweetBox = ({ _jweet, handleUpdateClose }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [jweet, setJweet] = useState(_jweet.text);\r\n\tconst [attachment, setAttachment] = useState(_jweet.attachmentUrl);\r\n\tconst textareaRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst emojiRef = useRef();\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst toggleEmoji = () => setEmojiClick(!emojiClick);\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\tconst newText =\r\n\t\t\tjweet.slice(0, textareaRef.current.selectionStart) +\r\n\t\t\temojiObject.emoji +\r\n\t\t\tjweet.slice(textareaRef.current.selectionEnd, jweet.length);\r\n\t\tsetJweet(newText);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\thandleUpdateClose();\r\n\t\tif (jweet === \"\" || attachment === \"\") {\r\n\t\t}\r\n\r\n\t\tawait updateDoc(doc(db, \"jweets\", _jweet.id), {\r\n\t\t\ttext: jweet,\r\n\t\t\tattachmentUrl: attachment === null ? \"\" : attachment,\r\n\t\t});\r\n\t};\r\n\tconst onChange = (e) => {\r\n\t\tsetJweet(e.target.value);\r\n\t};\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex flex-row px-2 pt-2 border-b border-gray-200\">\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col px-4 pb-2\">\r\n\t\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={jweet}\r\n\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"What's happening?\"\r\n\t\t\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\t\t\tclass=\"w-full py-3 resize-none h-10 overflow-hidden scroll leading-7 outline-none text-lg text-purple-300 focus:text-purple-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{attachment && (\r\n\t\t\t\t\t\t\t<div class=\"w-full h-96 relative\">\r\n\t\t\t\t\t\t\t\t<img src={attachment} class=\"h-60 object-cover\" alt=\"preview\" />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"absolute left-0 top-0 w-auto h-auto opacity-70 cursor-pointer\"\r\n\t\t\t\t\t\t\t\t\tonClick={clearAttachment}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MdCancel size={28} alt=\"remove\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-row justify-between items-center pr-2\">\r\n\t\t\t\t\t\t{/* 좌측 아이콘 */}\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-300 relative\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{emojiClick && (\r\n\t\t\t\t\t\t\t\t<div ref={emojiRef} class=\"absolute top-10\">\r\n\t\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 우측 submit */}\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-full text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\t\tvalue=\"Jweet\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UpdateJweetBox;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport UpdateJweetBox from \"components/box/UpdateJweetBox\";\r\nimport React from \"react\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UpdateJweetModal = ({\r\n\tupdateOpen,\r\n\tmodalRef,\r\n\thandleUpdateClose,\r\n\tjweet,\r\n}) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={updateOpen}\r\n\t\t\tonClose={handleUpdateClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t{\" \"}\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={handleUpdateClose}\r\n\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<GrClose size={38} class=\"ml-2 p-2 hover:bg-gray-200 rounded-full\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<UpdateJweetBox\r\n\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t_jweet={jweet}\r\n\t\t\t\t\t\thandleUpdateClose={handleUpdateClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default UpdateJweetModal;\r\n","import Avatar from \"@mui/material/Avatar\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport BookmarkButton from \"components/button/BookmarkButton\";\r\nimport DeleteButton from \"components/button/DeleteButton\";\r\nimport LikeButton from \"components/button/LikeButton\";\r\nimport RejweetButton from \"components/button/RejweetButton\";\r\nimport ReplyButton from \"components/button/ReplyButton\";\r\nimport UpdateButton from \"components/button/UpdateButton\";\r\nimport DeleteJweetModal from \"components/modal/DeleteJweetModal\";\r\nimport ImageModal from \"components/modal/ImageModal\";\r\nimport UpdateJweetModal from \"components/modal/UpdateJweetModal\";\r\nimport { doc, onSnapshot } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { FaRetweet } from \"react-icons/fa\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst JweetBox = (props) => {\r\n\tconst history = useHistory();\r\n\tconst jweet = props.jweet;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [func, setFunc] = useState(false);\r\n\r\n\tconst [creatorInfo, setCreatorInfo] = useState({});\r\n\tconst toggleFunc = () => {\r\n\t\tif (jweet.creatorId === currentUser.uid) setFunc(!func);\r\n\t};\r\n\tconst [replyOpen, setReplyOpen] = useState(false);\r\n\tconst handleReplyOpen = () => setReplyOpen(true);\r\n\tconst handleReplyClose = () => {\r\n\t\tsetReplyOpen(false);\r\n\t};\r\n\t// jweet 모달\r\n\tconst [updateOpen, setUpdateOpen] = useState(false);\r\n\tconst handleUpdateOpen = () => setUpdateOpen(true);\r\n\tconst handleUpdateClose = () => {\r\n\t\tsetUpdateOpen(false);\r\n\t};\r\n\r\n\tconst [deleteOpen, setDeleteOpen] = useState(false);\r\n\tconst handleDeleteOpen = () => setDeleteOpen(true);\r\n\tconst handleDeleteClose = () => {\r\n\t\tsetDeleteOpen(false);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false);\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tif (!func) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (funcRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!funcRef.current.contains(e.target)) {\r\n\t\t\t\tsetFunc(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [func]);\r\n\r\n\tconst [photoOpen, setPhotoOpen] = useState(false);\r\n\tconst handlePhotoOpen = () => setPhotoOpen(true);\r\n\tconst handlePhotoClose = () => {\r\n\t\tsetPhotoOpen(false);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(doc(db, \"users\", jweet.creatorId), (doc) => {\r\n\t\t\tsetCreatorInfo(doc.data());\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, []);\r\n\tconst exceptRef = useRef();\r\n\tconst modalRef = useRef();\r\n\tconst profileRef = useRef();\r\n\tconst replyRef = useRef();\r\n\tconst reJweetRef = useRef();\r\n\tconst likeRef = useRef();\r\n\tconst bookmarkRef = useRef();\r\n\r\n\tconst goJweet = (e) => {\r\n\t\tif (\r\n\t\t\te.target !== exceptRef.current &&\r\n\t\t\te.target !== profileRef.current &&\r\n\t\t\te.target !== replyRef.current &&\r\n\t\t\te.target !== reJweetRef.current &&\r\n\t\t\te.target !== likeRef.current &&\r\n\t\t\te.target !== bookmarkRef.current &&\r\n\t\t\te.target.tagName !== \"svg\" &&\r\n\t\t\te.target.tagName !== \"path\" &&\r\n\t\t\te.target.id !== \"except\" &&\r\n\t\t\te.target.innerText !== \"Update Jweet\" &&\r\n\t\t\te.target.innerText !== \"Delete Jweet\" &&\r\n\t\t\t!e.target.className.includes(\"MuiBackdrop\") &&\r\n\t\t\t!photoOpen &&\r\n\t\t\t!updateOpen &&\r\n\t\t\t!replyOpen &&\r\n\t\t\t!deleteOpen\r\n\t\t) {\r\n\t\t\thistory.push(\"/jweet/\" + jweet.id);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full select-none z-30 cursor-pointer hover:bg-gray-100 transition delay-50 duration-300 flex flex-col px-2 pt-2 pb-4  border-b border-gray-200\">\r\n\t\t\t{jweet.rejweet && jweet.rejweet.includes(currentUser.uid) && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"pl-10 text-xs text-gray-500 font-bold w-full flex flex-row items-center \" +\r\n\t\t\t\t\t\t(props.type !== \"explore\" ? \"\" : \"mb-2\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"mt-1 mr-3\">\r\n\t\t\t\t\t\t<FaRetweet size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p class=\"m-0 p-0\">{currentUser.displayName} ReJweeted</p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div onClick={goJweet} class=\"w-full flex flex-row \">\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"h-16 w-16 pb-2 pl-2 pr-2 \" +\r\n\t\t\t\t\t\t\t\t\t(props.type !== \"explore\" ? \"pt-4 \" : \"\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\tsrc={creatorInfo.photoURL}\r\n\t\t\t\t\t\t\t\t\tsx={{ width: 48, height: 48 }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t\t\t\t<Avatar sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">\r\n\t\t\t\t\t\t\t\t\t\t{creatorInfo.displayName}\r\n\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t<p class=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t@{creatorInfo.email ? creatorInfo.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{props.type !== \"explore\" ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tref={funcRef}\r\n\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\t\"cursor-pointer transition delay-50 duration-300 rounded-full p-2 relative \" +\r\n\t\t\t\t\t\t\t\t\t\t\t(jweet.creatorId === currentUser.uid\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-purple-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<HiOutlineDotsHorizontal\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={toggleFunc}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={28}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{func && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"bg-white border border-gray-200 z-40 absolute flex flex-col top-2 right-2 w-60 rounded-md shadow-xl\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UpdateButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpen={handleUpdateOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext={\"Update Jweet\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpen={handleDeleteOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext={\"Delete Jweet\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t<div class=\"h-8\"></div>\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div class=\"break-all w-full h-auto\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"w-full h-auto resize-none outline-none cursor-pointer bg-transparent whitespace-pre-wrap break-words\">\r\n\t\t\t\t\t\t\t\t\t\t{jweet.text}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{jweet.attachmentUrl !== \"\" && (\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full mt-4 mb-2 pr-4 \">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handlePhotoOpen}\r\n\t\t\t\t\t\t\t\t\t\t\tref={exceptRef}\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={jweet.attachmentUrl}\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"max-h-80 w-full object-cover rounded-xl border border-gray-200 shadow-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"attachment\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t<div class=\"w-full h-24  resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{loading && props.type !== \"explore\" ? (\r\n\t\t\t\t\t\t\t<div id=\"except\" class=\"w-full flex flex-row items-center mt-4 \">\r\n\t\t\t\t\t\t\t\t<ReplyButton\r\n\t\t\t\t\t\t\t\t\treplyRef={replyRef}\r\n\t\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\t\tisDetail={false}\r\n\t\t\t\t\t\t\t\t\treplyOpen={replyOpen}\r\n\t\t\t\t\t\t\t\t\thandleReplyOpen={handleReplyOpen}\r\n\t\t\t\t\t\t\t\t\thandleReplyClose={handleReplyClose}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<RejweetButton\r\n\t\t\t\t\t\t\t\t\treJweetRef={reJweetRef}\r\n\t\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\t\tisDetail={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<LikeButton likeRef={likeRef} jweet={jweet} isDetail={false} />\r\n\t\t\t\t\t\t\t\t<BookmarkButton\r\n\t\t\t\t\t\t\t\t\tbookmarkRef={bookmarkRef}\r\n\t\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\t\tisDetail={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : props.type !== \"explore\" ? (\r\n\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t<div class=\"w-full h-12  resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<UpdateJweetModal\r\n\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\tupdateOpen={updateOpen}\r\n\t\t\t\t\t\thandleUpdateClose={handleUpdateClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DeleteJweetModal\r\n\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\tdeleteOpen={deleteOpen}\r\n\t\t\t\t\t\tgoBack={false}\r\n\t\t\t\t\t\thandleDeleteClose={handleDeleteClose}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ImageModal\r\n\t\t\t\t\t\tmodalRef={modalRef}\r\n\t\t\t\t\t\tphotoURL={jweet.attachmentUrl}\r\n\t\t\t\t\t\tphotoOpen={photoOpen}\r\n\t\t\t\t\t\thandlePhotoOpen={handlePhotoOpen}\r\n\t\t\t\t\t\thandlePhotoClose={handlePhotoClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default JweetBox;\r\n","import LoadingBox from \"components/box/LoadingBox\";\r\n\r\nimport JweetBox from \"components/box/JweetBox\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tgetDoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Bookmark = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [info, setInfo] = useState({});\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst getMyInfo = useCallback(async () => {\r\n\t\tconst docRef = await doc(db, \"users\", currentUser.uid);\r\n\t\tawait getDoc(docRef).then((snap) => {\r\n\t\t\tif (snap.exists()) {\r\n\t\t\t\tsetInfo(snap.data());\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t}\r\n\t\t});\r\n\t}, [currentUser.uid]);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst myJweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tconst _myJweet = myJweetArray.filter(function (element, index) {\r\n\t\t\t\t\treturn currentUser.bookmark.includes(element.id);\r\n\t\t\t\t});\r\n\t\t\t\tsetFilteredJweets(_myJweet);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [currentUser.bookmark]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMyInfo();\r\n\t}, [getMyInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t<div class=\"min-h-16 w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold text-xl\">Bookmarks</div>\r\n\t\t\t\t\t\t<div class=\"text-xs\">\r\n\t\t\t\t\t\t\t{info.email ? \"@\" + info.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{filteredJweets.length !== 0 ? (\r\n\t\t\t\t\t\tfilteredJweets.map((jweet, index) => {\r\n\t\t\t\t\t\t\treturn <JweetBox key={jweet.id} jweet={jweet} />;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Bookmark;\r\n","import JweetBox from \"components/box/JweetBox\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\n\r\nconst ExploreJweets = ({ filteredJweets }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{filteredJweets.length !== 0 ? (\r\n\t\t\t\tfilteredJweets.map((jweet, index) => {\r\n\t\t\t\t\treturn <JweetBox key={jweet.id} jweet={jweet} type={\"explore\"} />;\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ExploreJweets;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst UserBox = (props) => {\r\n\tconst user = props.user;\r\n\tconst history = useHistory();\r\n\tconst dispatch = useDispatch();\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) setLoading(true);\r\n\t}, []);\r\n\r\n\tconst goUser = () => {\r\n\t\thistory.push(\"/profile/jweet/\" + user.id);\r\n\t};\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goUser}\r\n\t\t\tclass=\"w-full select-none z-30 cursor-pointer hover:bg-gray-100 transition delay-50 duration-300 flex flex-row px-2 pt-2 pb-4  border-b border-gray-200\"\r\n\t\t>\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2 pt-4\">\r\n\t\t\t\t\t\t\t<Avatar src={user.photoURL} sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t\t\t<Avatar sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"max-w-lg md:max-w-sm xl:max-w-xl flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">{user.displayName}</h1>\r\n\t\t\t\t\t\t\t\t<p class=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t@{user.email ? user.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{user.description !== \"\" && (\r\n\t\t\t\t\t\t\t\t\t<div class=\"max-w-lg md:max-w-sm xl:max-w-xl text-md\">\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"w-full truncate\">{user.description}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"h-8\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserBox;\r\n","import UserBox from \"components/box/UserBox\";\r\nimport React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\n\r\nconst ExploreUser = ({ filteredUsers }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full\">\r\n\t\t\t{filteredUsers.length !== 0 ? (\r\n\t\t\t\tfilteredUsers.map((user, index) => {\r\n\t\t\t\t\treturn <UserBox key={user.id} user={user} />;\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ExploreUser;\r\n","import ExploreJweets from \"components/container/ExploreJweets\";\r\nimport ExploreUsers from \"components/container/ExploreUsers\";\r\nimport { collection, onSnapshot, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { GrFormRefresh } from \"react-icons/gr\";\r\nimport { HiHashtag } from \"react-icons/hi\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\n\r\nconst Explore = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst [filteredUsers, setFilteredUsers] = useState([]);\r\n\tconst [selected, setSelected] = useState(1);\r\n\tfunction shuffle(array) {\r\n\t\tfor (let index = array.length - 1; index > 0; index--) {\r\n\t\t\t// 무작위 index 값을 만든다. (0 이상의 배열 길이 값)\r\n\t\t\tconst randomPosition = Math.floor(Math.random() * (index + 1));\r\n\t\t\t// 임시로 원본 값을 저장하고, randomPosition을 사용해 배열 요소를 섞는다.\r\n\t\t\tconst temporary = array[index];\r\n\t\t\tarray[index] = array[randomPosition];\r\n\t\t\tarray[randomPosition] = temporary;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"jweets\")), async (snapshot) => {\r\n\t\t\tconst userArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tconst _randomList = Array.from({ length: userArray.length }, (v, i) => i);\r\n\t\t\tshuffle(_randomList);\r\n\t\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\t\treturn userArray[element];\r\n\t\t\t});\r\n\t\t\tsetFilteredJweets(_randomArray);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\r\n\t\tonSnapshot(query(collection(db, \"users\")), async (snapshot) => {\r\n\t\t\tconst userArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tconst _randomList = Array.from({ length: userArray.length }, (v, i) => i);\r\n\t\t\tshuffle(_randomList);\r\n\t\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\t\treturn userArray[element];\r\n\t\t\t});\r\n\t\t\tsetFilteredUsers(_randomArray);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst refreshJweets = async () => {\r\n\t\tsetLoading(false);\r\n\t\tconst _randomList = Array.from(\r\n\t\t\t{ length: filteredJweets.length },\r\n\t\t\t(v, i) => i\r\n\t\t);\r\n\t\tshuffle(_randomList);\r\n\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\treturn filteredJweets[element];\r\n\t\t});\r\n\t\tsetFilteredJweets(_randomArray);\r\n\t\tsetLoading(true);\r\n\t};\r\n\tconst refreshUsers = async () => {\r\n\t\tsetLoading(false);\r\n\t\tconst _randomList = Array.from(\r\n\t\t\t{ length: filteredUsers.length },\r\n\t\t\t(v, i) => i\r\n\t\t);\r\n\t\tshuffle(_randomList);\r\n\t\tconst _randomArray = await _randomList.map((element, index) => {\r\n\t\t\treturn filteredUsers[element];\r\n\t\t});\r\n\t\tsetFilteredUsers(_randomArray);\r\n\t\tsetLoading(true);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (window.location.href.includes(\"jweets\")) setSelected(1);\r\n\t\telse setSelected(2);\r\n\t}, [window.location.href]);\r\n\r\n\tconst onSelected = (num) => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tsetSelected(num);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none flex-1 flex flex-col pl-64\">\r\n\t\t\t\t<div class=\"min-h-16 w-full px-2 py-2 flex flex-row justify-between items-center border-b border-gray-200\">\r\n\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold text-xl flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<HiHashtag class=\"text-purple-700 mr-1\" /> Explore\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{(selected === 1 || window.location.href.includes(\"jweets\")) && (\r\n\t\t\t\t\t\t\t<div class=\"text-xs\">Jweets are randomly selected</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{(selected === 2 || window.location.href.includes(\"users\")) && (\r\n\t\t\t\t\t\t\t<div class=\"text-xs\">Users are randomly selected</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={selected === 1 ? refreshJweets : refreshUsers}\r\n\t\t\t\t\t\tclass=\"p-2 rounded-full hover:bg-gray-100 cursor-pointer\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<GrFormRefresh size={28} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-row \">\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\"/explore/jweets\"}\r\n\t\t\t\t\t\tonClick={() => onSelected(1)}\r\n\t\t\t\t\t\tclass=\"w-1/2 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\"py-3 \" + (selected === 1 ? \"border-b-4 border-purple-500\" : \"\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tJweets\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto={\"/explore/users\"}\r\n\t\t\t\t\t\tonClick={() => onSelected(2)}\r\n\t\t\t\t\t\tclass=\"w-1/2 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\"py-3 \" + (selected === 2 ? \"border-b-4 border-purple-500\" : \"\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tUsers\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/explore/jweets\">\r\n\t\t\t\t\t\t<ExploreJweets filteredJweets={filteredJweets} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/explore/users\">\r\n\t\t\t\t\t\t<ExploreUsers filteredUsers={filteredUsers} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Explore;\r\n","import Picker from \"emoji-picker-react\";\r\nimport { addDoc, collection } from \"firebase/firestore\";\r\nimport { getDownloadURL, ref, uploadString } from \"firebase/storage\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst CreateJweetBox = ({ isModal, handleJweetClose }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst [jweet, setJweet] = useState(\"\");\r\n\tconst [over, setOver] = useState(false);\r\n\tconst [attachment, setAttachment] = useState(\"\");\r\n\tconst textareaRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst emojiRef = useRef();\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst toggleEmoji = () => {\r\n\t\tif (emojiClick) {\r\n\t\t\tsetEmojiClick(false);\r\n\t\t} else {\r\n\t\t\tsetEmojiClick(true);\r\n\t\t\ttextareaRef.current.focus();\r\n\t\t}\r\n\t};\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\tconst newText =\r\n\t\t\tjweet.slice(0, textareaRef.current.selectionStart) +\r\n\t\t\temojiObject.emoji +\r\n\t\t\tjweet.slice(textareaRef.current.selectionEnd, jweet.length);\r\n\t\tsetJweet(newText);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet attachmentUrl = \"\";\r\n\r\n\t\tconst text = jweet;\r\n\t\tif (text === \"\" && attachment === \"\") {\r\n\t\t\talert(\"글자 혹은 이미지를 추가해주세요\");\r\n\t\t} else {\r\n\t\t\tif (attachment !== \"\") {\r\n\t\t\t\tconst attachmentRef = ref(storage, `${currentUser.uid}/${uuidv4()}`);\r\n\t\t\t\tconst response = await uploadString(\r\n\t\t\t\t\tattachmentRef,\r\n\t\t\t\t\tattachment,\r\n\t\t\t\t\t\"data_url\"\r\n\t\t\t\t);\r\n\t\t\t\tattachmentUrl = await getDownloadURL(response.ref);\r\n\t\t\t}\r\n\t\t\tconst _jweet = {\r\n\t\t\t\ttext: text,\r\n\t\t\t\tcreatedAt: Date.now(),\r\n\t\t\t\tcreatorId: currentUser.uid,\r\n\t\t\t\tlike: [],\r\n\t\t\t\treply: [],\r\n\t\t\t\trejweet: [],\r\n\t\t\t\tattachmentUrl,\r\n\t\t\t};\r\n\t\t\tsetJweet(\"\");\r\n\t\t\tsetAttachment(\"\");\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\tif (isModal) {\r\n\t\t\t\thandleJweetClose();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait addDoc(collection(db, \"jweets\"), _jweet);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst onChange = (e) => {\r\n\t\tsetJweet(e.target.value);\r\n\t};\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttextareaRef.current.style.height.substring(\r\n\t\t\t\t0,\r\n\t\t\t\ttextareaRef.current.style.height.length - 2\r\n\t\t\t) *\r\n\t\t\t\t1 >\r\n\t\t\twindow.innerHeight - 200\r\n\t\t) {\r\n\t\t\tsetOver(true);\r\n\t\t\tif (jweet === \"\") textareaRef.current.style.height = \"40px\";\r\n\t\t} else {\r\n\t\t\tsetOver(false);\r\n\t\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\t\ttextareaRef.current.style.height =\r\n\t\t\t\ttextareaRef.current.scrollHeight + \"px\";\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclass={\r\n\t\t\t\t\"flex flex-row px-2 pt-2 \" + (isModal ? \"\" : \"border-b border-gray-200\")\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col pl-2 pb-2\">\r\n\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={jweet}\r\n\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tplaceholder=\"What's happening?\"\r\n\t\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\"w-full py-3 resize-none h-14 scroll leading-7 outline-none text-lg text-purple-300 focus:text-purple-500 \" +\r\n\t\t\t\t\t\t\t(over ? \"overflow-y-scroll\" : \"overflow-hidden\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{attachment && (\r\n\t\t\t\t\t\t<div class=\"w-full h-96 relative\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={attachment}\r\n\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\talt=\"preview\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"absolute left-0 top-0 w-auto h-auto opacity-70 cursor-pointer\"\r\n\t\t\t\t\t\t\t\tonClick={clearAttachment}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MdCancel size={28} alt=\"remove\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex flex-row justify-between items-center pr-2\">\r\n\t\t\t\t\t{/* 좌측 아이콘 */}\r\n\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-500 relative\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ref={emojiRef}>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"absolute top-10 select-none \" +\r\n\t\t\t\t\t\t\t\t\t(emojiClick ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* 우측 submit */}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-full text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\tvalue=\"Jweet\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t/>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CreateJweetBox;\r\n","import CreateJweetBox from \"components/box/CreateJweetBox\";\r\nimport JweetBox from \"components/box/JweetBox\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { MdSettings } from \"react-icons/md\";\r\n\r\nconst Home = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst [jweets, setJweets] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst nweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetJweets(nweetArray);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\treturn (\r\n\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t<div class=\"px-4 py-2 font-bold text-xl flex justify-between items-center border-b border-gray-200\">\r\n\t\t\t\t<h1 class=\"cursor-pointer\">Home</h1>\r\n\t\t\t\t<div class=\"hover:bg-gray-200 transition delay-50 duration-300 rounded-full p-2\">\r\n\t\t\t\t\t<MdSettings size={24} class=\"cursor-pointer\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<CreateJweetBox isModal={false} />\r\n\t\t\t<div>\r\n\t\t\t\t{jweets.length !== 0 ? (\r\n\t\t\t\t\tjweets.map((jweet, index) => {\r\n\t\t\t\t\t\treturn <JweetBox key={jweet.id} jweet={jweet} id={jweet.id} />;\r\n\t\t\t\t\t})\r\n\t\t\t\t) : loading ? (\r\n\t\t\t\t\t<div class=\"w-full flex-1 flex justify-center items-center mt-8\">\r\n\t\t\t\t\t\t등록된 Jweet이 없습니다.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\nimport BookmarkButton from \"components/button/BookmarkButton\";\r\nimport LikeButton from \"components/button/LikeButton\";\r\nimport RejweetButton from \"components/button/RejweetButton\";\r\nimport ReplyButton from \"components/button/ReplyButton\";\r\nimport DeleteJweetModal from \"components/modal/DeleteJweetModal\";\r\nimport ImageModal from \"components/modal/ImageModal\";\r\nimport UpdateJweetModal from \"components/modal/UpdateJweetModal\";\r\nimport { deleteDoc, doc, onSnapshot } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { AiTwotoneDelete } from \"react-icons/ai\";\r\nimport { FaRetweet } from \"react-icons/fa\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { RiEdit2Line } from \"react-icons/ri\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport UpdateButton from \"components/button/UpdateButton\";\r\nimport DeleteButton from \"components/button/DeleteButton\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst DetailJweetBox = (props) => {\r\n\tconst jweet = props.jweet;\r\n\tconst uid = props.id;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [func, setFunc] = useState(false);\r\n\r\n\tconst [creatorInfo, setCreatorInfo] = useState({});\r\n\tconst toggleFunc = () => {\r\n\t\tif (jweet.creatorId === currentUser.uid) setFunc(!func);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false);\r\n\t}, []);\r\n\t// jweet 모달\r\n\tconst [updateOpen, setUpdateOpen] = useState(false);\r\n\tconst handleUpdateOpen = () => setUpdateOpen(true);\r\n\tconst handleUpdateClose = () => {\r\n\t\tsetUpdateOpen(false);\r\n\t};\r\n\r\n\tconst [deleteOpen, setDeleteOpen] = useState(false);\r\n\tconst handleDeleteOpen = () => setDeleteOpen(true);\r\n\tconst handleDeleteClose = () => {\r\n\t\tsetDeleteOpen(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!func) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (funcRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!funcRef.current.contains(e.target)) {\r\n\t\t\t\tsetFunc(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [func]);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(doc(db, \"users\", jweet.creatorId), (doc) => {\r\n\t\t\tsetCreatorInfo(doc.data());\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [uid]);\r\n\r\n\tconst [photoOpen, setPhotoOpen] = useState(false);\r\n\tconst handlePhotoOpen = () => setPhotoOpen(true);\r\n\tconst handlePhotoClose = () => {\r\n\t\tsetPhotoOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full select-none z-30 flex flex-col px-2 pt-2 pb-4 border-r border-l border-b border-gray-200\">\r\n\t\t\t{jweet.rejweet && jweet.rejweet.includes(currentUser.uid) && (\r\n\t\t\t\t<div class=\" pl-10 text-xs text-gray-500 font-bold w-full flex flex-row items-center\">\r\n\t\t\t\t\t<div class=\"mt-1 mr-3\">\r\n\t\t\t\t\t\t<FaRetweet size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p class=\"m-0 p-0\">{currentUser.displayName} ReJweeted</p>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div class=\"w-full\">\r\n\t\t\t\t<>\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto={\"/profile/jweet/\" + jweet.creatorId}\r\n\t\t\t\t\t\t\t\t\tclass=\"h-16 w-16 py-2 px-1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={creatorInfo.photoURL}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<div class=\"w-full flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t{creatorInfo.displayName}\r\n\t\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t@\r\n\t\t\t\t\t\t\t\t\t\t\t{creatorInfo.email ? creatorInfo.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tref={funcRef}\r\n\t\t\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"cursor-pointer transition delay-50 duration-300 rounded-full p-2 relative \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t(jweet.creatorId === currentUser.uid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-purple-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<HiOutlineDotsHorizontal onClick={toggleFunc} size={28} />\r\n\t\t\t\t\t\t\t\t\t\t\t{func && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"bg-white border border-gray-200 z-40 absolute flex flex-col top-2 right-2 w-60 rounded-md shadow-xl\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<UpdateButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpen={handleUpdateOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={\"Update Jweet\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpen={handleDeleteOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={\"Delete Jweet\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"break-all w-full h-auto\">\r\n\t\t\t\t\t\t\t\t\t<p class=\" w-full h-auto resize-none outline-none bg-transparent whitespace-pre-wrap break-words\">\r\n\t\t\t\t\t\t\t\t\t\t{jweet.text}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{jweet.attachmentUrl !== \"\" && (\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full mt-4 mb-2 pr-4 \">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handlePhotoOpen}\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={jweet.attachmentUrl}\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full object-cover cursor-pointer rounded-xl border border-gray-200 shadow-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"attachment\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div class=\"w-full flex flex-row mt-2 py-2 pl-2 border-t border-b border-gray-200\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"mr-8\">\r\n\t\t\t\t\t\t\t\t\t\t<b>{jweet.reply ? jweet.reply.length : 0} </b>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500 ml-1\">Replies</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"mr-8\">\r\n\t\t\t\t\t\t\t\t\t\t<b>{jweet.rejweet ? jweet.rejweet.length : 0} </b>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500 ml-1\">Rejweets</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"mr-8\">\r\n\t\t\t\t\t\t\t\t\t\t<b>{jweet.like ? jweet.like.length : 0} </b>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-gray-500 ml-1\">Likes</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"w-full flex flex-row items-center mt-4 \">\r\n\t\t\t\t\t\t\t\t\t<ReplyButton jweet={jweet} isDetail={true} />\r\n\t\t\t\t\t\t\t\t\t<RejweetButton jweet={jweet} isDetail={true} />\r\n\t\t\t\t\t\t\t\t\t<LikeButton jweet={jweet} isDetail={true} />\r\n\t\t\t\t\t\t\t\t\t<BookmarkButton jweet={jweet} isDetail={true} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<UpdateJweetModal\r\n\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\tupdateOpen={updateOpen}\r\n\t\t\t\t\t\thandleUpdateClose={handleUpdateClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DeleteJweetModal\r\n\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\tdeleteOpen={deleteOpen}\r\n\t\t\t\t\t\tgoBack={true}\r\n\t\t\t\t\t\thandleDeleteClose={handleDeleteClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ImageModal\r\n\t\t\t\t\t\tphotoURL={jweet.attachmentUrl}\r\n\t\t\t\t\t\tphotoOpen={photoOpen}\r\n\t\t\t\t\t\thandlePhotoOpen={handlePhotoOpen}\r\n\t\t\t\t\t\thandlePhotoClose={handlePhotoClose}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetailJweetBox;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport { db } from \"mybase\";\r\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { GrEmoji } from \"react-icons/gr\";\r\nimport { IoImageOutline } from \"react-icons/io5\";\r\nimport { MdCancel } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UpdateReply = ({ _reply, handleReplyClose }) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\t\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n\t});\r\n\tconst [reply, setReply] = useState(_reply.text);\r\n\tconst [attachment, setAttachment] = useState(_reply.attachmentUrl);\r\n\tconst textareaRef = useRef();\r\n\tconst fileRef = useRef();\r\n\tconst emojiRef = useRef();\r\n\tconst [emojiClick, setEmojiClick] = useState(false);\r\n\tconst toggleEmoji = () => setEmojiClick(!emojiClick);\r\n\r\n\tconst onEmojiClick = (event, emojiObject) => {\r\n\t\tconst newText =\r\n\t\t\treply.slice(0, textareaRef.current.selectionStart) +\r\n\t\t\temojiObject.emoji +\r\n\t\t\treply.slice(textareaRef.current.selectionEnd, reply.length);\r\n\t\tsetReply(newText);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\thandleReplyClose();\r\n\t\tawait updateDoc(doc(db, \"replies\", _reply.id), {\r\n\t\t\ttext: reply,\r\n\t\t\tattachmentUrl: attachment === null ? \"\" : attachment,\r\n\t\t});\r\n\t};\r\n\tconst onChange = (e) => {\r\n\t\tsetReply(e.target.value);\r\n\t};\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst clearAttachment = () => {\r\n\t\tsetAttachment(null);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!emojiClick) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (emojiRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!emojiRef.current.contains(e.target)) {\r\n\t\t\t\tsetEmojiClick(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [emojiClick]);\r\n\r\n\tconst handleResizeHeight = useCallback(() => {\r\n\t\tif (textareaRef === null || textareaRef.current === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttextareaRef.current.style.height = \"40px\";\r\n\t\ttextareaRef.current.style.height = textareaRef.current.scrollHeight + \"px\";\r\n\t});\r\n\r\n\tconst [editSnack, setEditSnack] = useState();\r\n\tconst editClick = () => setEditSnack(true);\r\n\tconst editClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetEditSnack(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex flex-row px-2 pt-2 border-b border-gray-200\">\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={currentUser.photoURL ? currentUser.photoURL : defaultImg}\r\n\t\t\t\t\t\t\tclass=\"h-full object-cover rounded-full cursor-pointer hover:opacity-60\"\r\n\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col pl-2 pb-2\">\r\n\t\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={reply}\r\n\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder=\"What's happening?\"\r\n\t\t\t\t\t\t\tonInput={handleResizeHeight}\r\n\t\t\t\t\t\t\tclass=\"w-full py-3 resize-none h-10 overflow-hidden scroll leading-7 outline-none text-lg text-purple-300 focus:text-purple-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{attachment && (\r\n\t\t\t\t\t\t\t<div class=\"w-full h-96 relative\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={attachment}\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t\talt=\"preview\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"absolute left-0 top-0 w-auto h-auto opacity-70 cursor-pointer\"\r\n\t\t\t\t\t\t\t\t\tonClick={clearAttachment}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MdCancel size={28} alt=\"remove\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-row justify-between items-center pr-2\">\r\n\t\t\t\t\t\t{/* 좌측 아이콘 */}\r\n\t\t\t\t\t\t<div class=\"flex flex-row items-center text-purple-300 relative\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoImageOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleEmoji}\r\n\t\t\t\t\t\t\t\tclass=\"p-2 transition delay-50 duration-300 hover:bg-purple-100 rounded-full blur-md cursor-pointer\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<GrEmoji size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{emojiClick && (\r\n\t\t\t\t\t\t\t\t<div ref={emojiRef} class=\"absolute top-10\">\r\n\t\t\t\t\t\t\t\t\t<Picker onEmojiClick={onEmojiClick} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 우측 submit */}\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclass=\"text-sm w-full rounded-full text-white font-bold bg-purple-400 flex justify-center px-4 py-2 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t\t\tvalue=\"Reply\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<Snackbar open={editSnack} autoHideDuration={2000} onClose={editClose}>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={editClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{editSnack ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UpdateReply;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport { deleteDoc, doc, getDoc, updateDoc } from \"firebase/firestore\";\r\nimport { deleteObject, ref } from \"firebase/storage\";\r\nimport { db, storage } from \"mybase\";\r\nimport React from \"react\";\r\n\r\nconst DeleteReplyModal = ({ reply, deleteOpen, handleDeleteClose }) => {\r\n\tconst onDeleteClick = async () => {\r\n\t\tconst docRef = doc(db, \"jweets\", reply.parent);\r\n\t\tconst docSnap = await getDoc(docRef);\r\n\t\tif (docSnap.exists()) {\r\n\t\t\tconst cp = docSnap.data().reply;\r\n\t\t\tcp.splice(docSnap.data().reply.indexOf(reply.id), 1);\r\n\t\t\tawait updateDoc(doc(db, \"jweets\", reply.parent), {\r\n\t\t\t\treply: cp,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tawait deleteDoc(doc(db, \"replies\", reply.id));\r\n\t\tif (reply.attachmentUrl !== \"\")\r\n\t\t\tawait deleteObject(ref(storage, reply.attachmentUrl));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={deleteOpen}\r\n\t\t\tonClose={handleDeleteClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Delete Reply?</h1>\r\n\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\tThis can’t be undone and it will be removed from your profile, the\r\n\t\t\t\t\t\ttimeline of any accounts that follow you, and from Jwitter search\r\n\t\t\t\t\t\tresults.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={onDeleteClick}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={handleDeleteClose}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default DeleteReplyModal;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport UpdateReplyBox from \"components/box/UpdateReplyBox\";\r\nimport DeleteButton from \"components/button/DeleteButton\";\r\nimport UpdateButton from \"components/button/UpdateButton\";\r\nimport DeleteReplyModal from \"components/modal/DeleteReplyModal\";\r\nimport ImageModal from \"components/modal/ImageModal\";\r\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { AiOutlineHeart, AiTwotoneHeart } from \"react-icons/ai\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { HiOutlineDotsHorizontal } from \"react-icons/hi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst ReplyBox = ({ reply }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst funcRef = useRef();\r\n\tconst [clickModal, setClickModal] = useState(false);\r\n\tconst [like, setLike] = useState(false);\r\n\r\n\tconst [creatorInfo, setCreatorInfo] = useState({});\r\n\tconst toggleModal = () => setClickModal(!clickModal);\r\n\r\n\t// reply 모달\r\n\tconst [replyOpen, setReplyOpen] = useState(false);\r\n\tconst handleReplyOpen = () => setReplyOpen(true);\r\n\tconst handleReplyClose = () => {\r\n\t\tsetReplyOpen(false);\r\n\t};\r\n\r\n\tconst [deleteOpen, setDeleteOpen] = useState(false);\r\n\tconst handleDeleteOpen = () => setDeleteOpen(true);\r\n\tconst handleDeleteClose = () => {\r\n\t\tsetDeleteOpen(false);\r\n\t};\r\n\r\n\tconst [likeSnack, setLikeSnack] = useState();\r\n\tconst likeClick = () => setLikeSnack(true);\r\n\tconst likeClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetLikeSnack(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!clickModal) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (funcRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!funcRef.current.contains(e.target)) {\r\n\t\t\t\tsetClickModal(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [clickModal]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLike(reply.like.includes(currentUser.uid));\r\n\t\tconst docRef = doc(db, \"users\", reply.creatorId);\r\n\t\tgetDoc(docRef).then((snap) => {\r\n\t\t\tif (snap.exists()) {\r\n\t\t\t\tsetCreatorInfo(snap.data());\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst toggleLike = async () => {\r\n\t\tlikeClick();\r\n\t\tif (reply.like.includes(currentUser.uid)) {\r\n\t\t\tsetLike(false);\r\n\t\t\tconst cp = [...reply.like];\r\n\t\t\tcp.splice(reply.like.indexOf(currentUser.uid), 1);\r\n\t\t\tawait updateDoc(doc(db, \"replies\", reply.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLike(true);\r\n\t\t\tconst cp = [...reply.like];\r\n\t\t\tcp.push(currentUser.uid);\r\n\t\t\tawait updateDoc(doc(db, \"replies\", reply.id), {\r\n\t\t\t\tlike: cp,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst [photoOpen, setPhotoOpen] = useState(false);\r\n\tconst handlePhotoOpen = () => setPhotoOpen(true);\r\n\tconst handlePhotoClose = () => {\r\n\t\tsetPhotoOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"w-full select-none z-30 cursor-pointer hover:bg-gray-100 transition delay-50 duration-300 flex flex-row px-2 pt-2 pb-4 border-r border-l border-b border-gray-200\">\r\n\t\t\t<>\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={\"/profile/reply/\" + reply.creatorId}\r\n\t\t\t\t\t\t\tclass=\"h-16 w-16 p-2\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsrc={creatorInfo.photoURL}\r\n\t\t\t\t\t\t\t\tsx={{ width: 48, height: 48 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div class=\"h-16 w-16 p-2\">\r\n\t\t\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t\t\t<Avatar sx={{ width: 48, height: 48 }} />\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full flex flex-col pl-2\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-row mr-2 justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t\t\t\t\t<h1 class=\"text-base font-bold mr-4\">\r\n\t\t\t\t\t\t\t\t\t{creatorInfo.displayName}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<p class=\"text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t@{creatorInfo.email ? creatorInfo.email.split(\"@\")[0] : \"\"}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tref={funcRef}\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"cursor-pointer transition delay-50 duration-300 rounded-full p-2 relative \" +\r\n\t\t\t\t\t\t\t\t\t\t(reply.creatorId === currentUser.uid\r\n\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-purple-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<HiOutlineDotsHorizontal\r\n\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\treply.creatorId === currentUser.uid ? toggleModal : \"\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsize={28}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{clickModal && (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-white border border-gray-200 z-40 absolute flex flex-col top-2 right-2 w-60 rounded-md shadow-xl\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<UpdateButton\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleOpen={handleReplyOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext={\"Update Reply\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteButton\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleOpen={handleDeleteOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext={\"Delete Reply\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"h-8\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full h-auto\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-auto resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\">\r\n\t\t\t\t\t\t\t\t{reply.text}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-24  resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{reply.attachmentUrl !== \"\" && (\r\n\t\t\t\t\t\t<div class=\"w-full mt-4 mb-2 pr-4 \">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tonClick={handlePhotoOpen}\r\n\t\t\t\t\t\t\t\tsrc={reply.attachmentUrl}\r\n\t\t\t\t\t\t\t\tclass=\"w-full object-cover rounded-xl border border-gray-200 shadow-lg\"\r\n\t\t\t\t\t\t\t\talt=\"attachment\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<div id=\"except\" class=\"w-full flex flex-row items-center mt-4 \">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={toggleLike}\r\n\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/2 flex flex-row items-center transition delay-50 duration-300 text-gray-400 hover:text-red-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"except\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full transition delay-50 duration-300 hover:bg-red-100 mt-1 mr-1 p-2\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{reply.like.includes(currentUser.uid) ? (\r\n\t\t\t\t\t\t\t\t\t\t<AiTwotoneHeart size={16} class=\"text-red-500\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<AiOutlineHeart size={16} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p id=\"except\" class=\"text-sm flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t\t{reply.like.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t<div class=\"w-full h-8 resize-none outline-none cursor-pointer bg-transparent whitespace-pre\t\"></div>\r\n\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={replyOpen}\r\n\t\t\t\t\tonClose={handleReplyClose}\r\n\t\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleReplyClose}\r\n\t\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<UpdateReplyBox\r\n\t\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\t\t_reply={reply}\r\n\t\t\t\t\t\t\t\thandleReplyClose={handleReplyClose}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<DeleteReplyModal\r\n\t\t\t\t\treply={reply}\r\n\t\t\t\t\tdeleteOpen={deleteOpen}\r\n\t\t\t\t\thandleDeleteClose={handleDeleteClose}\r\n\t\t\t\t/>\r\n\t\t\t\t<Snackbar open={likeSnack} autoHideDuration={2000} onClose={likeClose}>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tonClose={likeClose}\r\n\t\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{like ? \"좋아요!\" : \"좋아요 취소!\"}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</Snackbar>\r\n\t\t\t\t<ImageModal\r\n\t\t\t\t\tphotoURL={reply.attachmentUrl}\r\n\t\t\t\t\tphotoOpen={photoOpen}\r\n\t\t\t\t\thandlePhotoOpen={handlePhotoOpen}\r\n\t\t\t\t\thandlePhotoClose={handlePhotoClose}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ReplyBox;\r\n","import LoadingBox from \"components/box/LoadingBox\";\r\nimport DetailJweetBox from \"components/box/DetailJweetBox\";\r\nimport ReplyBox from \"components/box/ReplyBox\";\r\nimport CreateReplyBox from \"components/box/CreateReplyBox\";\r\nimport {\r\n\tcollection,\r\n\tdoc,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport { IoArrowBackOutline } from \"react-icons/io5\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Detail = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst [jweet, setJweet] = useState([]);\r\n\tconst [replies, setReplies] = useState([]);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false);\r\n\t}, []);\r\n\tconst getJweet = useCallback(async () => {\r\n\t\tonSnapshot(doc(db, \"jweets\", uid), (doc) => {\r\n\t\t\tsetJweet({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t});\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [uid]);\r\n\r\n\tconst getReplies = useCallback(async () => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(\r\n\t\t\t\tcollection(db, \"replies\"),\r\n\t\t\t\twhere(\"parent\", \"==\", uid),\r\n\t\t\t\torderBy(\"createdAt\", \"desc\")\r\n\t\t\t),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst nweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetReplies(nweetArray);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [uid]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetJweet();\r\n\t\tgetReplies();\r\n\t}, [getJweet, getReplies]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t\t\t<div class=\"w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\r\n\t\t\t\t\t\t\t\tclass=\"mr-4 cursor-pointer p-2 rounded-full hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoArrowBackOutline size={24} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t<div class=\"font-bold text-xl\">Jweet & Replies</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<DetailJweetBox\r\n\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<CreateReplyBox id={jweet.id} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t{replies.map((element, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ReplyBox key={element.id} reply={element} id={element.id} />\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Detail;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport CreateJweetBox from \"components/box/CreateJweetBox\";\r\nimport React from \"react\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst CreateJweetModal = ({\r\n\tcreateOpen,\r\n\tdiscardCheck,\r\n\thandleCreateClose,\r\n\tcheckOpen,\r\n\thandleCheckClose,\r\n\tdiscardThread,\r\n}) => {\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\topen={createOpen}\r\n\t\t\t\tonClose={discardCheck}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/4 left-1/2 lg:left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-2/3 lg:w-1/2 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={discardCheck}\r\n\t\t\t\t\t\tclass=\"w-full cursor-pointer flex justify-start items-center pb-1 border-b border-gray-200\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\tclass=\"ml-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t<CreateJweetBox\r\n\t\t\t\t\t\t\tcurrentUser={currentUser}\r\n\t\t\t\t\t\t\tisModal={true}\r\n\t\t\t\t\t\t\thandleCreateClose={handleCreateClose}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\topen={checkOpen}\r\n\t\t\t\tonClose={handleCheckClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto px-4 py-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<div class=\"flex flex-col px-4\">\r\n\t\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Discard Thread?</h1>\r\n\t\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\t\tThis can’t be undone and you’ll lose your draft.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={discardThread}\r\n\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-red-500 hover:bg-red-600 transition delay-50 duration-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDiscard\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleCheckClose}\r\n\t\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 transition delay-50 duration-300 font-bold hover:bg-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateJweetModal;\r\n","export default __webpack_public_path__ + \"static/media/logo.5c22847b.png\";","import Modal from \"@mui/material/Modal\";\r\nimport CreateJweetModal from \"components/modal/CreateJweetModal\";\r\nimport defaultImg from \"image/defaultImg.jpg\";\r\nimport logo from \"image/logo.png\";\r\nimport { auth } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { AiFillHome, AiOutlineHome } from \"react-icons/ai\";\r\nimport { BiCheck } from \"react-icons/bi\";\r\nimport { BsPerson, BsPersonFill } from \"react-icons/bs\";\r\nimport { CgMoreO } from \"react-icons/cg\";\r\nimport {\r\n\tHiFire,\r\n\tHiHashtag,\r\n\tHiOutlineDotsHorizontal,\r\n\tHiOutlineFire,\r\n\tHiOutlineHashtag,\r\n} from \"react-icons/hi\";\r\nimport { IoNotificationsOutline } from \"react-icons/io5\";\r\nimport { MdBookmark, MdBookmarkBorder } from \"react-icons/md\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\nconst Leftbar = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [selected, setSelected] = useState(1);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [photoURL, setPhotoURL] = useState(currentUser.photoURL);\r\n\tuseEffect(() => {\r\n\t\tsetPhotoURL(currentUser.photoURL);\r\n\t}, [currentUser.photoURL]);\r\n\tconst history = useHistory();\r\n\t// 프로필 모달\r\n\tconst [logoutOpen, setLogoutOpen] = useState(false);\r\n\tconst handleLogoutOpen = () => setLogoutOpen(true);\r\n\tconst handleLogoutClose = () => setLogoutOpen(false);\r\n\r\n\t// jweet 모달\r\n\tconst [createOpen, setCreateOpen] = useState(false);\r\n\tconst handleCreateOpen = () => setCreateOpen(true);\r\n\tconst handleCreateClose = () => {\r\n\t\tsetCreateOpen(false);\r\n\t};\r\n\r\n\tconst [checkOpen, setCheckOpen] = useState(false);\r\n\tconst handleCheckOpen = () => setCheckOpen(true);\r\n\tconst handleCheckClose = () => {\r\n\t\tsetCheckOpen(false);\r\n\t};\r\n\r\n\tconst [profile, setProfile] = useState(false);\r\n\tconst toggleProfile = () => setProfile(!profile);\r\n\tconst profileRef = useRef();\r\n\r\n\tconst discardCheck = () => {\r\n\t\thandleCheckOpen();\r\n\t};\r\n\r\n\tconst discardThread = () => {\r\n\t\thandleCreateClose();\r\n\t\thandleCheckClose();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!profile) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (profileRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!profileRef.current.contains(e.target)) {\r\n\t\t\t\tsetProfile(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [profile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (window.location.href.includes(\"explore\")) {\r\n\t\t\tsetSelected(2);\r\n\t\t} else if (window.location.href.includes(\"bookmark\")) {\r\n\t\t\tsetSelected(3);\r\n\t\t} else if (window.location.href.includes(\"popular\")) {\r\n\t\t\tsetSelected(4);\r\n\t\t} else if (window.location.href.includes(\"profile\")) {\r\n\t\t\tsetSelected(5);\r\n\t\t} else {\r\n\t\t\tsetSelected(1);\r\n\t\t}\r\n\t}, [window.location.href]);\r\n\r\n\tconst onLogOutClick = () => {\r\n\t\tauth.signOut();\r\n\t\tdispatch(setLoginToken(\"logout\"));\r\n\t\tdispatch(\r\n\t\t\tsetCurrentUser({\r\n\t\t\t\tphotoURL: \"\",\r\n\t\t\t\tuid: \"\",\r\n\t\t\t\tdisplayName: \"\",\r\n\t\t\t\temail: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tbookmark: [],\r\n\t\t\t\tfollower: [],\r\n\t\t\t\tfollowing: [],\r\n\t\t\t\trejweet: [],\r\n\t\t\t\tbgURL: \"\",\r\n\t\t\t})\r\n\t\t);\r\n\t\thistory.push(\"/\");\r\n\t};\r\n\r\n\tconst onSelected = (num) => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tsetSelected(num);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none w-64 pt-4 pr-4 h-full flex flex-col border-r border-gray-200 justify-between fixed dark:text-white\">\r\n\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t<div class=\"flex flex-row justify-between items-center\">\r\n\t\t\t\t\t\t<Link class=\"h-16 mb-4\" to=\"/\" onClick={() => setSelected(1)}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={logo}\r\n\t\t\t\t\t\t\t\t// onClick={() => history.push(\"/home\")}\r\n\t\t\t\t\t\t\t\tclass=\"h-full px-4 py-3 object-cover hover:bg-purple-200 hover:dark:bg-none rounded-full cursor-pointer transition delay-50 duration-300 \"\r\n\t\t\t\t\t\t\t\talt=\"logo\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{/* <Switch\r\n\t\t\t\t\t\t\tchecked={isDark}\r\n\t\t\t\t\t\t\tonChange={toggleMode}\r\n\t\t\t\t\t\t\taria-label=\"Switch demo\"\r\n\t\t\t\t\t\t\tcolor={\"warning\"}\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex flex-col w-full \">\r\n\t\t\t\t\t\t{/* 기본 트윗 홈 */}\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(1)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<AiFillHome size={32} class=\"mr-4\" /> <b>Home</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<AiOutlineHome size={32} class=\"mr-4\" /> Home\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/explore/jweets\"}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(2)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 2 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiHashtag size={32} class=\"mr-4\" /> <b>Explore</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiOutlineHashtag size={32} class=\"mr-4\" /> Explore\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/bookmark\"}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(3)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 3 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<MdBookmark size={32} class=\"mr-4\" /> <b>Bookmarks</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<MdBookmarkBorder size={32} class=\"mr-4\" /> Bookmarks\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/popular\"}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(4)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 4 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiFire size={32} class=\"mr-4\" /> <b>Popular</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<HiOutlineFire size={32} class=\"mr-4\" /> Popular\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/jweet/\" + currentUser.uid}\r\n\t\t\t\t\t\t\t\tonClick={() => onSelected(5)}\r\n\t\t\t\t\t\t\t\tclass=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-4 hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{selected === 5 ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<BsPersonFill size={32} class=\"mr-4\" /> <b>Profile</b>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<BsPerson size={32} class=\"mr-4\" /> Profile\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full border-b border-gray-200 mb-2\"></div>\r\n\t\t\t\t\t\t<div class=\"cursor-pointer w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\"pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\">\r\n\t\t\t\t\t\t\t\t<IoNotificationsOutline size={32} class=\"mr-4\" />\r\n\t\t\t\t\t\t\t\tNotifications\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"relative cursor-pointer w-auto flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\" pl-3 pr-5 py-3 rounded-full flex flex-row text-xl mb-2 hover:bg-gray-200 transition delay-50 duration-300\">\r\n\t\t\t\t\t\t\t\t<CgMoreO size={32} class=\"mr-4\" /> more\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={handleCreateOpen}\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-full text-white font-bold bg-purple-400 flex justify-center py-3 hover:bg-purple-600 transition delay-50 duration-300 cursor-pointer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tJweet\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref={profileRef}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\"w-full relative transition delay-200 duration-300 \" +\r\n\t\t\t\t\t\t\t\t(profile ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"bg-white absolute w-64 py-2 -right-4 bottom-2 border border-gray-300 shadow-lg rounded-3xl\">\r\n\t\t\t\t\t\t\t\t<div class=\"border-b px-4 border-gray-300 h-16 w-full py-3 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"h-full flex flex-row items-center \">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"h-full \">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={photoURL}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-full object-cover h-full mr-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col justify-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{currentUser.displayName}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t@{currentUser.email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<BiCheck class=\"text-purple-500\" size={20} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={handleLogoutOpen}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer px-4 py-4 hover:bg-gray-100 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLog out @{currentUser.displayName}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={toggleProfile}\r\n\t\t\t\t\t\tclass=\"h-16 w-full px-3 py-3 rounded-full hover:bg-gray-200 transition delay-50 duration-300 flex flex-row justify-between items-center mb-4 cursor-pointer relative\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"h-full flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<div class=\"h-full \">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={photoURL ? photoURL : defaultImg}\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-full object-cover h-full mr-4\"\r\n\t\t\t\t\t\t\t\t\talt=\"default\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col justify-center\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<b>{currentUser.displayName}</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-400\">\r\n\t\t\t\t\t\t\t\t\t@{currentUser.email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<HiOutlineDotsHorizontal size={20} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\topen={logoutOpen}\r\n\t\t\t\tonClose={handleLogoutClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto p-8 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t<div class=\"w-full h-12 flex justify-center items-center mb-4\">\r\n\t\t\t\t\t\t<img src={logo} class=\"h-full object-cover\" alt=\"logo\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h1 class=\"text-xl font-bold mb-2\">Log out of Jwitter?</h1>\r\n\t\t\t\t\t<p class=\"text-left pb-8\">\r\n\t\t\t\t\t\tYou can always log back in at any time. If you just want to switch\r\n\t\t\t\t\t\taccounts, you can do that by adding an existing account.{\" \"}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={onLogOutClick}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full bg-purple-300 text-white font-bold mb-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLog out\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={handleLogoutClose}\r\n\t\t\t\t\t\tclass=\"cursor-pointer w-full flex py-3 justify-center items-center rounded-full border border-purple-300 text-purple-500 font-bold\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<CreateJweetModal\r\n\t\t\t\tcreateOpen={createOpen}\r\n\t\t\t\tdiscardCheck={discardCheck}\r\n\t\t\t\thandleCreateClose={handleCreateClose}\r\n\t\t\t\tcheckOpen={checkOpen}\r\n\t\t\t\thandleCheckClose={handleCheckClose}\r\n\t\t\t\tdiscardThread={discardThread}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Leftbar;\r\n","export default __webpack_public_path__ + \"static/media/bgimg.b52d269e.jpg\";","import { GithubAuthProvider, signInWithPopup } from \"firebase/auth\";\r\nimport { collection, doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\nimport github from \"image/github.jpg\";\r\nimport { auth, db } from \"mybase\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\nconst GithubButton = ({ isLogin }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onGithubLogin = async (e) => {\r\n\t\tlet provider;\r\n\t\tlet user;\r\n\t\tprovider = new GithubAuthProvider();\r\n\t\tawait signInWithPopup(auth, provider)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tconst credential = GithubAuthProvider.credentialFromResult(result);\r\n\t\t\t\tconst token = credential.accessToken;\r\n\t\t\t\tuser = result.user;\r\n\r\n\t\t\t\tconst docRef = doc(db, \"users\", user.uid);\r\n\t\t\t\tgetDoc(docRef).then(async (snap) => {\r\n\t\t\t\t\tif (snap.exists()) {\r\n\t\t\t\t\t\tawait dispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t...snap.data(),\r\n\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\trejweet: user.rejweet ? user.rejweet : [],\r\n\t\t\t\t\t\t\t\tfollower: user.follower ? user.follower : [],\r\n\t\t\t\t\t\t\t\tfollwing: user.following ? user.following : [],\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t\tdispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\tphotoURL: user.photoURL\r\n\t\t\t\t\t\t\t\t\t? user.photoURL\r\n\t\t\t\t\t\t\t\t\t: \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\tfollower: [],\r\n\t\t\t\t\t\t\t\tfollowing: [],\r\n\t\t\t\t\t\t\t\trejweet: [],\r\n\t\t\t\t\t\t\t\tbgURL: user.bgURL ? user.bgURL : bgimg,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconst usersRef = collection(db, \"users\");\r\n\t\t\t\t\t\tawait setDoc(doc(usersRef, user.uid), {\r\n\t\t\t\t\t\t\tphotoURL: user.photoURL\r\n\t\t\t\t\t\t\t\t? user.photoURL\r\n\t\t\t\t\t\t\t\t: \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\tfollower: [],\r\n\t\t\t\t\t\t\tfollowing: [],\r\n\t\t\t\t\t\t\trejweet: [],\r\n\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\tbgURL: user.bgURL ? user.bgURL : bgimg,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\talert(\"github 로그인 오류입니다.\");\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<button\r\n\t\t\tname=\"github\"\r\n\t\t\tonClick={onGithubLogin}\r\n\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t>\r\n\t\t\t<img src={github} class=\"h-6 object-cover mr-2\" alt=\"github\" />{\" \"}\r\n\t\t\t{isLogin ? \"Github로 로그인하기\" : \"Github에서 가입하기\"}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default GithubButton;\r\n","export default \"data:image/jpeg;base64,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\"","import { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\r\nimport { collection, doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\nimport google from \"image/google.png\";\r\nimport { auth, db } from \"mybase\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\nconst GoogleButton = ({ isLogin }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onGoogleLogin = async (e) => {\r\n\t\tlet provider;\r\n\t\tlet user;\r\n\t\tprovider = new GoogleAuthProvider();\r\n\t\tawait signInWithPopup(auth, provider)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tconst credential = GoogleAuthProvider.credentialFromResult(result);\r\n\t\t\t\tconst token = credential.accessToken;\r\n\t\t\t\tuser = result.user;\r\n\r\n\t\t\t\tconst docRef = doc(db, \"users\", user.uid);\r\n\t\t\t\tgetDoc(docRef).then(async (snap) => {\r\n\t\t\t\t\tif (snap.exists()) {\r\n\t\t\t\t\t\tawait dispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t...snap.data(),\r\n\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\trejweet: user.rejweet ? user.rejweet : [],\r\n\t\t\t\t\t\t\t\tfollower: user.follower ? user.follower : [],\r\n\t\t\t\t\t\t\t\tfollwing: user.following ? user.following : [],\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\t\t\tphotoURL: user.photoURL,\r\n\t\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\t\tdisplayName: user.displayName,\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\tfollower: [],\r\n\t\t\t\t\t\t\t\tfollowing: [],\r\n\t\t\t\t\t\t\t\trejweet: [],\r\n\t\t\t\t\t\t\t\tbgURL: user.bgURL ? user.bgURL : bgimg,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t\tconst usersRef = await collection(db, \"users\");\r\n\t\t\t\t\t\tawait setDoc(doc(usersRef, user.uid), {\r\n\t\t\t\t\t\t\tphotoURL: user.photoURL,\r\n\t\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\t\tdisplayName:\r\n\t\t\t\t\t\t\t\tuser.displayName === \"\"\r\n\t\t\t\t\t\t\t\t\t? user.email.split(\"@\")[0]\r\n\t\t\t\t\t\t\t\t\t: user.displayName,\r\n\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\tfollower: [],\r\n\t\t\t\t\t\t\tfollowing: [],\r\n\t\t\t\t\t\t\trejweet: [],\r\n\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\tbgURL: user.bgURL ? user.bgURL : bgimg,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<button\r\n\t\t\tname=\"google\"\r\n\t\t\tonClick={onGoogleLogin}\r\n\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t>\r\n\t\t\t<img src={google} class=\"h-6 object-cover mr-2\" alt=\"google\" />\r\n\t\t\t{isLogin ? \"Google로 로그인하기\" : \"Google에서 가입하기\"}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default GoogleButton;\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\nconst EmailButton = ({ isLogin, handleOpen }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={handleOpen}\r\n\t\t\tclass=\"cursor-pointer mb-4 border border-gray-300 rounded-full w-full md:w-1/2 flex flex-row h-12 items-center justify-center font-bold\"\r\n\t\t>\r\n\t\t\t{isLogin\r\n\t\t\t\t? \"전화, 이메일 또는 사용자 아이디 사용\"\r\n\t\t\t\t: \"휴대폰 번호나 이메일 주소로 가입하기\"}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EmailButton;\r\n","import GithubButton from \"components/button/GithubButton\";\r\nimport GoogleButton from \"components/button/GoogleButton\";\r\nimport EmailButton from \"components/button/EmailButton\";\r\n\r\nimport React from \"react\";\r\nconst loginContainer = ({ handleOpen, toggleLogin }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1 class=\"text-xl md:text-3xl font-bold mb-8\">Jwitter 로그인하기</h1>\r\n\t\t\t<GoogleButton isLogin={true} />\r\n\t\t\t<GithubButton isLogin={true} />\r\n\t\t\t<EmailButton handleOpen={handleOpen} />\r\n\r\n\t\t\t<h1>\r\n\t\t\t\t계정이 없으신가요?{\" \"}\r\n\t\t\t\t<span onClick={toggleLogin} class=\"cursor-pointer text-blue-600\">\r\n\t\t\t\t\t가입하기\r\n\t\t\t\t</span>\r\n\t\t\t</h1>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default loginContainer;\r\n","import GithubButton from \"components/button/GithubButton\";\r\nimport GoogleButton from \"components/button/GoogleButton\";\r\nimport React from \"react\";\r\nimport EmailButton from \"components/button/EmailButton\";\r\n\r\nconst RegisterContainer = ({ handleOpen, toggleLogin }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1 class=\"text-xl md:text-3xl font-bold mb-8\">\r\n\t\t\t\t오늘 Jwitter에 가입하세요.\r\n\t\t\t</h1>\r\n\t\t\t<GoogleButton isLogin={false} />\r\n\t\t\t<GithubButton isLogin={false} />\r\n\t\t\t<EmailButton handleOpen={handleOpen} />\r\n\t\t\t<h1 class=\"w-full md:w-1/2 mb-4\">\r\n\t\t\t\tBy signing up, you agree to the{\" \"}\r\n\t\t\t\t<span class=\"text-blue-600\">Terms of Service</span> and{\" \"}\r\n\t\t\t\t<span class=\"text-blue-600\">Privacy Policy</span>, including{\" \"}\r\n\t\t\t\t<span class=\"text-blue-600\">Cookie Use.</span>\r\n\t\t\t</h1>\r\n\t\t\t<h1>\r\n\t\t\t\t트위터 아이디가 있으세요?{\" \"}\r\n\t\t\t\t<span onClick={toggleLogin} class=\"cursor-pointer text-blue-600\">\r\n\t\t\t\t\t로그인\r\n\t\t\t\t</span>\r\n\t\t\t\t하기\r\n\t\t\t</h1>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RegisterContainer;\r\n","export default __webpack_public_path__ + \"static/media/background.294149b7.jpg\";","import logo from \"image/logo.png\";\r\nimport React from \"react\";\r\n\r\nconst Loading = ({ loading }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclass={\r\n\t\t\t\t\"absolute left-0 top-0 w-full h-full flex-row justify-center items-center bg-purple-100 \" +\r\n\t\t\t\t(loading ? \"hidden\" : \"flex\")\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<img class=\"h-1/6 object-cover\" src={logo} alt=\"loading\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loading;\r\n","import {\r\n\tcreateUserWithEmailAndPassword,\r\n\tsignInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\nimport { collection, doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\nimport { auth, db } from \"mybase\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setCurrentUser, setLoginToken } from \"reducers/user\";\r\n\r\nconst AuthForm = ({ isLogin }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [info, setInfo] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t});\r\n\tconst [error, setError] = useState(\"\");\r\n\r\n\tconst onChange = (e, type) => {\r\n\t\tconst cp = { ...info };\r\n\t\tcp[type] = e.target.value;\r\n\t\tsetInfo(cp);\r\n\t\tsetError(\"\");\r\n\t};\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet data;\r\n\t\t\tif (isLogin) {\r\n\t\t\t\t// Log In\r\n\t\t\t\tdata = await signInWithEmailAndPassword(\r\n\t\t\t\t\tauth,\r\n\t\t\t\t\tinfo.email,\r\n\t\t\t\t\tinfo.password\r\n\t\t\t\t).then(() => {\r\n\t\t\t\t\tconst docRef = doc(db, \"users\", auth.currentUser.uid);\r\n\t\t\t\t\tgetDoc(docRef).then(async (snap) => {\r\n\t\t\t\t\t\tif (snap.exists()) {\r\n\t\t\t\t\t\t\tawait dispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\t\t...snap.data(),\r\n\t\t\t\t\t\t\t\t\tuid: auth.currentUser.uid,\r\n\t\t\t\t\t\t\t\t\tfollower: snap.data().follower ? snap.data().follower : [],\r\n\t\t\t\t\t\t\t\t\tfollowing: snap.data().following ? snap.data().following : [],\r\n\t\t\t\t\t\t\t\t\trejweet: snap.data().rejweet ? snap.data().rejweet : [],\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"error\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// create account\r\n\t\t\t\tdata = await createUserWithEmailAndPassword(\r\n\t\t\t\t\tauth,\r\n\t\t\t\t\tinfo.email,\r\n\t\t\t\t\tinfo.password\r\n\t\t\t\t).then(async () => {\r\n\t\t\t\t\tif (auth.currentUser.displayName === null) {\r\n\t\t\t\t\t\tlet displayName = auth.currentUser.email.split(\"@\");\r\n\t\t\t\t\t\tconst usersRef = await collection(db, \"users\");\r\n\t\t\t\t\t\tdispatch(setLoginToken(\"login\"));\r\n\t\t\t\t\t\tawait dispatch(\r\n\t\t\t\t\t\t\tsetCurrentUser({\r\n\t\t\t\t\t\t\t\tuid: auth.currentUser.uid,\r\n\t\t\t\t\t\t\t\tphotoURL:\r\n\t\t\t\t\t\t\t\t\t\"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\t\temail: auth.currentUser.email,\r\n\t\t\t\t\t\t\t\tdisplayName: displayName[0],\r\n\t\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\t\tfollower: [],\r\n\t\t\t\t\t\t\t\tfollowing: [],\r\n\t\t\t\t\t\t\t\trejweet: [],\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\tbgURL: bgimg,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tawait setDoc(doc(usersRef, auth.currentUser.uid), {\r\n\t\t\t\t\t\t\tphotoURL:\r\n\t\t\t\t\t\t\t\t\"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\",\r\n\t\t\t\t\t\t\temail: auth.currentUser.email,\r\n\t\t\t\t\t\t\tdisplayName: displayName[0],\r\n\t\t\t\t\t\t\tbookmark: [],\r\n\t\t\t\t\t\t\tfollower: [],\r\n\t\t\t\t\t\t\tfollowing: [],\r\n\t\t\t\t\t\t\trejweet: [],\r\n\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\tbgURL: bgimg,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.message);\r\n\t\t\tsetError(error.message);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col py-3\">\r\n\t\t\t\t<div class=\"w-full mb-4\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={info.email}\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg border border-gray-300 outline-none px-4 py-3 text-lg\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"email\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"w-full mb-4\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={info.password}\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg border border-gray-300 outline-none px-4 py-3 text-lg\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"password\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"cursor-pointer w-full rounded-xl bg-purple-300 py-2 font-bold\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tvalue={isLogin ? \"Log In\" : \"Create Account\"}\r\n\t\t\t\t/>\r\n\t\t\t\t{error ? (\r\n\t\t\t\t\t<p class=\"text-xs font-bold mt-1\">\r\n\t\t\t\t\t\t올바른 이메일과 패스워드를 입력해주세요.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t\"\"\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AuthForm;\r\n","import Modal from \"@mui/material/Modal\";\r\nimport AuthFormModal from \"components/modal/AuthFormModal\";\r\n\r\nconst LoginFormModal = ({ isLogin, open, handleClose }) => {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={open}\r\n\t\t\tonClose={handleClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<div class=\"outline-none absolute border border-white p-4 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto bg-white rounded-lg flex flex-col justify-start items-start\">\r\n\t\t\t\t{isLogin && (\r\n\t\t\t\t\t<h1 class=\"text-2xl font-bold mb-4\">일반 이메일로 로그인</h1>\r\n\t\t\t\t)}\r\n\t\t\t\t{!isLogin && (\r\n\t\t\t\t\t<h1 class=\"text-2xl font-bold mb-4\">계정을 생성하세요.</h1>\r\n\t\t\t\t)}\r\n\t\t\t\t<AuthFormModal isLogin={isLogin} />\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default LoginFormModal;\r\n","import LoginContainer from \"components/container/LoginContainer\";\r\nimport RegisterContainer from \"components/container/RegisterContainer\";\r\nimport background from \"image/background.jpg\";\r\nimport logo from \"image/logo.png\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Loading from \"routes/Loading\";\r\nimport LoginFormModal from \"components/modal/LoginFormModal\";\r\n\r\nconst Login = () => {\r\n\tconst [isLogin, setIsLogin] = useState(true);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst handleOpen = () => setOpen(true);\r\n\tconst handleClose = () => setOpen(false);\r\n\tconst toggleLogin = () => setIsLogin(!isLogin);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(function () {\r\n\t\t\tsetLoading(true);\r\n\t\t}, 1500);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"h-full w-full flex flex-col lg:flex-row-reverse relative\">\r\n\t\t\t\t<div class=\"h-full w-full lg:w-1/2 px-8 py-16 flex flex-col\">\r\n\t\t\t\t\t<div class=\"w-full h-auto\">\r\n\t\t\t\t\t\t<div class=\"h-24\">\r\n\t\t\t\t\t\t\t<img src={logo} alt=\"logo\" class=\"h-full\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h1 class=\"text-2xl md:text-6xl font-bold my-6 md:my-12\">\r\n\t\t\t\t\t\t\t지금 일어나고 있는 일\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{isLogin && (\r\n\t\t\t\t\t\t\t<LoginContainer\r\n\t\t\t\t\t\t\t\thandleOpen={handleOpen}\r\n\t\t\t\t\t\t\t\ttoggleLogin={toggleLogin}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{!isLogin && (\r\n\t\t\t\t\t\t\t<RegisterContainer\r\n\t\t\t\t\t\t\t\thandleOpen={handleOpen}\r\n\t\t\t\t\t\t\t\ttoggleLogin={toggleLogin}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"h-full w-full lg:w-1/2 \">\r\n\t\t\t\t\t<img src={background} alt=\"bg\" class=\"h-full w-full object-cover\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<LoginFormModal\r\n\t\t\t\t\tisLogin={isLogin}\r\n\t\t\t\t\thandleClose={handleClose}\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t/>\r\n\t\t\t\t<Loading loading={loading} />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import LoadingBox from \"components/box/LoadingBox\";\r\n\r\nimport JweetBox from \"components/box/JweetBox\";\r\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { HiFire } from \"react-icons/hi\";\r\n\r\nconst Popular = () => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\tasync (snapshot) => {\r\n\t\t\t\tconst myJweetArray = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tawait myJweetArray.sort(function (a, b) {\r\n\t\t\t\t\treturn b.like.length - a.like.length;\r\n\t\t\t\t});\r\n\t\t\t\tsetFilteredJweets(myJweetArray);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t<div class=\"min-h-16 w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t<div class=\"flex flex-col pl-2\">\r\n\t\t\t\t\t\t<div class=\"font-bold text-xl flex flex-row items-center\">\r\n\t\t\t\t\t\t\t<HiFire class=\"text-red-500 mr-1\" /> Popular\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"text-xs\">It's sorted based on likes</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{filteredJweets.length !== 0 ? (\r\n\t\t\t\t\t\tfilteredJweets.map((jweet, index) => {\r\n\t\t\t\t\t\t\treturn <JweetBox key={jweet.id} jweet={jweet} />;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : loading ? (\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-8\">\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\t\t\tYou haven’t added any Jweets to your Bookmarks yet\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\t\t\tWhen you do, they’ll show up here.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Popular;\r\n","import MuiAlert from \"@mui/material/Alert\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { GrClose } from \"react-icons/gr\";\r\nimport { MdCameraEnhance } from \"react-icons/md\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setCurrentUser } from \"reducers/user\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n\treturn <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nconst UpdateProfileModal = ({\r\n\tupdateModal,\r\n\tupdateModalOpen,\r\n\tupdateModalClose,\r\n\ttoggleUpdateState,\r\n}) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [info, setInfo] = useState({\r\n\t\tdisplayName: currentUser.displayName,\r\n\t\temail: currentUser.email,\r\n\t\tphotoURL: currentUser.photoURL,\r\n\t\tdescription: currentUser.description,\r\n\t});\r\n\tconst fileRef = useRef();\r\n\tconst bgRef = useRef();\r\n\tconst textareaRef = useRef();\r\n\tconst [focused, setFocused] = useState(\"\");\r\n\r\n\tconst [attachment, setAttachment] = useState(currentUser.photoURL);\r\n\tconst [bg, setBg] = useState(currentUser.bgURL ? currentUser.bgURL : bgimg);\r\n\r\n\tconst onFileChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetAttachment(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\tconst onBgChange = (e) => {\r\n\t\tconst theFile = e.target.files[0];\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onloadend = (finishedEvent) => {\r\n\t\t\tsetBg(finishedEvent.currentTarget.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(theFile);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAttachment(currentUser.photoURL);\r\n\t}, []);\r\n\r\n\tconst onChangeInfo = (e, type) => {\r\n\t\tconst cp = { ...info };\r\n\t\tcp[type] = e.target.value;\r\n\t\tsetInfo(cp);\r\n\t};\r\n\r\n\tconst onSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tupdateClick();\r\n\t\tupdateModalClose();\r\n\t\ttoggleUpdateState();\r\n\t\tawait updateDoc(doc(db, \"users\", currentUser.uid), {\r\n\t\t\tdisplayName: info.displayName,\r\n\t\t\tphotoURL:\r\n\t\t\t\tattachment === \"\"\r\n\t\t\t\t\t? \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\"\r\n\t\t\t\t\t: attachment,\r\n\t\t\tdescription: info.description,\r\n\t\t\tbgURL: bg,\r\n\t\t});\r\n\t\tawait dispatch(\r\n\t\t\tsetCurrentUser({\r\n\t\t\t\tuid: currentUser.uid,\r\n\t\t\t\tphotoURL:\r\n\t\t\t\t\tattachment === \"\"\r\n\t\t\t\t\t\t? \"https://firebasestorage.googleapis.com/v0/b/jwitter-e0584.appspot.com/o/default-profile-pic-e1513291410505.jpg?alt=media&token=824bfe06-5db1-4f18-9e7e-d2b11e3303a6\"\r\n\t\t\t\t\t\t: attachment,\r\n\t\t\t\temail: currentUser.email,\r\n\t\t\t\tdisplayName: info.displayName,\r\n\t\t\t\tdescription: info.description,\r\n\t\t\t\tbookmark: currentUser.bookmark,\r\n\t\t\t\tfollower: currentUser.follower,\r\n\t\t\t\tfollowing: currentUser.following,\r\n\t\t\t\trejweet: currentUser.rejweet,\r\n\t\t\t\tbgURL: bg,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst [updateSnack, setUpdateSnack] = useState();\r\n\tconst updateClick = () => setUpdateSnack(true);\r\n\tconst updateClose = (e, reason) => {\r\n\t\tif (reason === \"clickaway\") {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetUpdateSnack(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\topen={updateModal}\r\n\t\t\t\tonClose={updateModalClose}\r\n\t\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"select-none outline-none absolute border border-white top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4 origin-center w-1/3 h-auto pt-2 pb-3 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t<form onSubmit={onSubmit} class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t<div class=\"h-full w-full flex justify-between items-center pb-1 \">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row items-center\">\r\n\t\t\t\t\t\t\t\t<GrClose\r\n\t\t\t\t\t\t\t\t\tonClick={updateModalClose}\r\n\t\t\t\t\t\t\t\t\tsize={38}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer mx-2 p-2 hover:bg-gray-200 rounded-full\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<p class=\"text-xl font-bold\">Update Profile</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-row justify-center items-center\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer font-bold bg-black px-3 mr-2 py-1 rounded-full text-white hover:opacity-60\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"Save\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col relative\">\r\n\t\t\t\t\t\t\t<div class=\"relative h-36 w-full bg-purple-100\">\r\n\t\t\t\t\t\t\t\t<img src={bg} alt=\"bgimg\" class=\"w-full h-full object-cover\" />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={() => bgRef.current.click()}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer absolute p-1 top-0 w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full h-full object-cover opacity-20 bg-black flex justify-center items-center\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full h-full absolute top-0 left-0 flex justify-center text-white items-center opacity-70\">\r\n\t\t\t\t\t\t\t\t\t\t<MdCameraEnhance size={24} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"h-16 w-full flex flex-row-reverse items-center pr-4\">\r\n\t\t\t\t\t\t\t\t<div class=\"cursor-pointer font-bold text-base flex justify-center items-center px-4 py-2\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"absolute w-28 h-28 left-4 bottom-2 \">\r\n\t\t\t\t\t\t\t\t<div class=\"w-28 h-28 bg-white border-4 border-white rounded-full\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={attachment}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-28 h-full object-cover rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tonClick={() => fileRef.current.click()}\r\n\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer absolute p-1 top-0 w-full h-full object-cover rounded-full\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full h-full object-cover rounded-full opacity-20 bg-black flex justify-center items-center\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"w-full h-full absolute top-0 left-0 flex justify-center text-white items-center opacity-70\">\r\n\t\t\t\t\t\t\t\t\t\t<MdCameraEnhance size={24} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col px-4 mt-2 mb-2\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"mt-2 select-none w-full h-14 rounded-md transition delay-50 duration-300 flex flex-col px-2 py-1 relative \" +\r\n\t\t\t\t\t\t\t\t\t(info.displayName === \"\"\r\n\t\t\t\t\t\t\t\t\t\t? \"border-2 border-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t: focused === \"name\"\r\n\t\t\t\t\t\t\t\t\t\t? \"border-2 border-blue-500 shadow-sm \"\r\n\t\t\t\t\t\t\t\t\t\t: \"border-2 border-gray-200\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"w-full h-4 text-xs transition delay-50 duration-300  \" +\r\n\t\t\t\t\t\t\t\t\t\t(info.displayName === \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"text-red-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: focused === \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"text-blue-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-500\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={info.displayName}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setFocused(\"name\")}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => setFocused(\"\")}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeInfo(e, \"displayName\")}\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full outline-none text-sm mt-1\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"text-red-500 mb-2 text-xs px-1 transition delay-50 duration-300 \" +\r\n\t\t\t\t\t\t\t\t\t(info.displayName === \"\" ? \"block\" : \"hidden\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tName can't be blank\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\"my-2 select-none w-full h-auto rounded-md border border-gray-300 flex flex-col px-2 py-1 \" +\r\n\t\t\t\t\t\t\t\t\t(focused === \"description\"\r\n\t\t\t\t\t\t\t\t\t\t? \"border-2 border-blue-500 shadow-sm \"\r\n\t\t\t\t\t\t\t\t\t\t: \"border-2 border-gray-200\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"w-full h-4 text-xs text-gray-500 mb-1 \" +\r\n\t\t\t\t\t\t\t\t\t\t(focused === \"description\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"text-blue-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-500\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDescription\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\t\t\tvalue={info.description}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setFocused(\"description\")}\r\n\t\t\t\t\t\t\t\t\tonBlur={() => setFocused(\"\")}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeInfo(e, \"description\")}\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 resize-none overflow-hidden scroll leading-5 outline-none text-sm \"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\t\tonChange={onFileChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tref={bgRef}\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tclass=\"hidden\"\r\n\t\t\t\t\t\t\tonChange={onBgChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={updateSnack}\r\n\t\t\t\tautoHideDuration={2000}\r\n\t\t\t\tonClose={updateClose}\r\n\t\t\t>\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tonClose={updateClose}\r\n\t\t\t\t\tseverity=\"success\"\r\n\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tsx={{ width: \"100%\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{updateSnack ? \"프로필 변경!\" : \"\"}\r\n\t\t\t\t</Alert>\r\n\t\t\t</Snackbar>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UpdateProfileModal;\r\n","import JweetBox from \"components/box/JweetBox\";\r\nimport {\r\n\tcollection,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\n\r\nconst LikeJweets = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [likeJweets, setLikeJweets] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(\r\n\t\t\t\tcollection(db, \"jweets\"),\r\n\t\t\t\twhere(\"like\", \"array-contains\", uid),\r\n\t\t\t\torderBy(\"createdAt\", \"desc\")\r\n\t\t\t),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst _likeJweets = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetLikeJweets(_likeJweets);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [uid]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{likeJweets.length !== 0 ? (\r\n\t\t\t\tlikeJweets.map((jweet, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<JweetBox\r\n\t\t\t\t\t\t\tkey={jweet.id}\r\n\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center items-center mt-16\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou don’t have any likes yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tTap the heart on any Jweet to show it some love. When you do, it’ll\r\n\t\t\t\t\t\tshow up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LikeJweets;\r\n","import JweetBox from \"components/box/JweetBox\";\r\nimport {\r\n\tcollection,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\n\r\nconst MyJweets = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [myJweets, setMyJweets] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tconst q = query(\r\n\t\t\tcollection(db, \"jweets\"),\r\n\t\t\torderBy(\"createdAt\", \"desc\"),\r\n\t\t\twhere(\"creatorId\", \"==\", uid)\r\n\t\t);\r\n\t\tonSnapshot(q, (querySnapshot) => {\r\n\t\t\tconst cp = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tcp.push({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tsetMyJweets(cp);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [uid]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{myJweets.length !== 0 ? (\r\n\t\t\t\tmyJweets.map((jweet, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<JweetBox\r\n\t\t\t\t\t\t\tkey={jweet.id}\r\n\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"flex flex-col justify-center items-center mt-16\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou don’t have any Jweet yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tWrite a Jweet. When you do, it’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MyJweets;\r\n","import JweetBox from \"components/box/JweetBox\";\r\nimport {\r\n\tcollection,\r\n\tonSnapshot,\r\n\torderBy,\r\n\tquery,\r\n\twhere,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\n\r\nconst ReJweets = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\tconst [rejweets, setRejweets] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(\r\n\t\t\t\tcollection(db, \"jweets\"),\r\n\t\t\t\twhere(\"rejweet\", \"array-contains\", uid),\r\n\t\t\t\torderBy(\"createdAt\", \"desc\")\r\n\t\t\t),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst reJweets = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetRejweets(reJweets);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [uid]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{rejweets.length !== 0 ? (\r\n\t\t\t\trejweets.map((jweet, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<JweetBox\r\n\t\t\t\t\t\t\tkey={jweet.id}\r\n\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\tid={jweet.id}\r\n\t\t\t\t\t\t\tisOwner={jweet.creatorId === currentUser.uid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div class=\"flex flex-col justify-center items-center mt-16\">\r\n\t\t\t\t\t<div class=\"w-2/3 font-bold text-2xl\">\r\n\t\t\t\t\t\tYou don’t have any reJweet yet\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"w-2/3 text-gray-500\">\r\n\t\t\t\t\t\tTry a reJweet for any jweet. When you do, it’ll show up here.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ReJweets;\r\n","import UpdateProfileModal from \"components/modal/UpdateProfileModal\";\r\nimport LikeJweets from \"components/container/LikeJweets\";\r\nimport MyJweets from \"components/container/MyJweets\";\r\nimport ReJweets from \"components/container/ReJweets\";\r\nimport { collection, doc, onSnapshot, query, where } from \"firebase/firestore\";\r\nimport bgimg from \"image/bgimg.jpg\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport { IoArrowBackOutline } from \"react-icons/io5\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, Route, Switch, useHistory } from \"react-router-dom\";\r\nimport LoadingBox from \"components/box/LoadingBox\";\r\n\r\nconst Profile = ({ match }) => {\r\n\tconst uid = match.params.id;\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst [info, setInfo] = useState({});\r\n\tconst [myJweets, setMyJweets] = useState([]);\r\n\tconst [updateState, setUpdateState] = useState(false);\r\n\tconst toggleUpdateState = () => setUpdateState(!updateState);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\tconst [updateModal, setUpdateModal] = useState(false);\r\n\tconst updateModalOpen = () => setUpdateModal(true);\r\n\tconst updateModalClose = () => {\r\n\t\tsetUpdateModal(false);\r\n\t};\r\n\r\n\tconst getInfo = useCallback(async () => {\r\n\t\tawait onSnapshot(doc(db, \"users\", uid), (doc) => {\r\n\t\t\tsetInfo(doc.data());\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [uid]);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false); // cleanup function을 이용\r\n\t}, []);\r\n\tconst getJweets = useCallback(async () => {\r\n\t\tconst q = query(collection(db, \"jweets\"), where(\"creatorId\", \"==\", uid));\r\n\t\tonSnapshot(q, (querySnapshot) => {\r\n\t\t\tconst cp = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tcp.push(doc.data());\r\n\t\t\t});\r\n\t\t\tsetMyJweets(cp);\r\n\t\t});\r\n\t}, [uid]);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetInfo();\r\n\t\tgetJweets();\r\n\t}, [getInfo, getJweets, updateState]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div class=\"flex-1 flex flex-col pl-64\">\r\n\t\t\t\t\t\t<div class=\"h-16 w-full px-2 py-2 flex flex-row items-center border-b border-gray-200\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tonClick={() => history.goBack()}\r\n\t\t\t\t\t\t\t\tclass=\"mr-4 cursor-pointer p-2 rounded-full hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<IoArrowBackOutline size={20} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t<div class=\"font-bold text-xl\">{info.displayName}</div>\r\n\t\t\t\t\t\t\t\t<div>{myJweets.length} Jweets</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col relative\">\r\n\t\t\t\t\t\t\t<div class=\"h-48 w-full \">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={info.bgURL ? info.bgURL : bgimg}\r\n\t\t\t\t\t\t\t\t\talt=\"bgimg\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full h-full object-cover\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{uid === currentUser.uid ? (\r\n\t\t\t\t\t\t\t\t<div class=\"h-16 w-full flex flex-row-reverse items-center pr-4\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tonClick={updateModalOpen}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"cursor-pointer font-bold text-base border transition delay-50 duration-300 border-gray-300 text-gray-600 rounded-full flex justify-center items-center px-4 py-2 hover:bg-gray-200\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tUpdate Profile\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div class=\"h-16 w-full flex flex-row-reverse items-center pr-4\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"cursor-pointer font-bold text-base rounded-full flex justify-center items-center px-4 py-2 \"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div class=\"absolute w-32 h-32 left-4 bottom-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"border-4 border-white rounded-full bg-white\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={info.photoURL}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full h-32 object-cover rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-col pl-4 pr-4 mb-4\">\r\n\t\t\t\t\t\t\t<h1 class=\"font-bold text-xl\">{info.displayName}</h1>\r\n\t\t\t\t\t\t\t<p class=\"text-gray-400 mb-2\">@{info.email.split(\"@\")[0]}</p>\r\n\t\t\t\t\t\t\t<p class=\"py-8 px-2 text-sm text-gray-800 border-t border-b border-gray-200\">\r\n\t\t\t\t\t\t\t\t{info.description === \"\"\r\n\t\t\t\t\t\t\t\t\t? \"소개글이 없습니다.\"\r\n\t\t\t\t\t\t\t\t\t: info.description}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full flex flex-row \">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/jweet/\" + uid}\r\n\t\t\t\t\t\t\t\tclass=\"w-1/3 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"py-3 \" +\r\n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes(\"/jweet\")\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-b-4 border-purple-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tJweets\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/like/\" + uid}\r\n\t\t\t\t\t\t\t\tclass=\"w-1/3 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"py-3 \" +\r\n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes(\"/like\")\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-b-4 border-purple-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tLikes\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"/profile/rejweet/\" + uid}\r\n\t\t\t\t\t\t\t\tclass=\"w-1/3 flex justify-center items-center cursor-pointer font-bold hover:bg-gray-200 transition delay-50 duration-300\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\t\t\t\t\"py-3 \" +\r\n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes(\"/rejweet\")\r\n\t\t\t\t\t\t\t\t\t\t\t? \"border-b-4 border-purple-500\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tRejweets\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route path=\"/profile/jweet/:id\" component={MyJweets} />\r\n\t\t\t\t\t\t\t<Route path=\"/profile/like/:id\" component={LikeJweets} />\r\n\t\t\t\t\t\t\t<Route path=\"/profile/rejweet/:id\" component={ReJweets} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingBox />\r\n\t\t\t)}\r\n\t\t\t<UpdateProfileModal\r\n\t\t\t\tupdateModal={updateModal}\r\n\t\t\t\tupdateModalOpen={updateModalOpen}\r\n\t\t\t\tupdateModalClose={updateModalClose}\r\n\t\t\t\ttoggleUpdateState={toggleUpdateState}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RecommendJweet = ({ jweet, users }) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst [filteredUser, setFilteredUser] = useState(\"\");\r\n\tuseEffect(() => {\r\n\t\tconst _filteredUser = users.filter(function (element, index) {\r\n\t\t\treturn element.id === jweet.creatorId;\r\n\t\t});\r\n\t\tsetFilteredUser(_filteredUser);\r\n\t}, []);\r\n\r\n\tconst goPage = () => {\r\n\t\thistory.push(\"/jweet/\" + jweet.id);\r\n\t\twindow.scrollTo(0, 0);\r\n\t};\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goPage}\r\n\t\t\tclass=\"pl-2 pr-4 py-1 select-none cursor-pointer flex flex-col  hover:bg-gray-200\"\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-row h-12 items-center\">\r\n\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t<div class=\"h-full p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={filteredUser[0].photoURL ? filteredUser[0].photoURL : \"\"}\r\n\t\t\t\t\t\t\tclass=\"h-full rounded-full object-cover mr-2\"\r\n\t\t\t\t\t\t\talt=\"photourl\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<b>{filteredUser[0].displayName}</b>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t@{filteredUser[0].email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<p class=\"truncate text-xs px-2 pt-1 pb-2\">{jweet.text}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecommendJweet;\r\n","import LoadingBox from \"components/box/LoadingBox\";\r\nimport RecommendJweetBox from \"components/box/RecommendJweetBox\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FiSettings } from \"react-icons/fi\";\r\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\n\r\nconst PopularJweets = ({\r\n\thandleModalOpen,\r\n\tshow,\r\n\tusers,\r\n\tshowMore,\r\n\ttype,\r\n\tsetType,\r\n}) => {\r\n\tconst [likeList, setLikeList] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\tasync (snapshot) => {\r\n\t\t\t\tconst _myJweet = await snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsorting(_myJweet);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [type]);\r\n\r\n\tfunction sorting(array) {\r\n\t\tarray.sort(function (a, b) {\r\n\t\t\treturn b.like.length - a.like.length;\r\n\t\t});\r\n\t\tsetLikeList(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none py-3 border border-gray-100 bg-gray-100 w-full h-auto mt-2 rounded-xl\">\r\n\t\t\t\t<div class=\"px-4 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t<p class=\"text-lg mb-2\">\r\n\t\t\t\t\t\t<b>Popular Jweets</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={handleModalOpen}\r\n\t\t\t\t\t\tclass=\"relative hover:bg-gray-300 rounded-full cursor-pointer p-2 mb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FiSettings size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div class=\"flex-col\">\r\n\t\t\t\t\t\t\t{likeList.map((element, index) => {\r\n\t\t\t\t\t\t\t\tif (index < show) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<RecommendJweetBox\r\n\t\t\t\t\t\t\t\t\t\t\tkey={element.id}\r\n\t\t\t\t\t\t\t\t\t\t\tid={element.id}\r\n\t\t\t\t\t\t\t\t\t\t\tjweet={element}\r\n\t\t\t\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{likeList.length >= 5 && (\r\n\t\t\t\t\t\t\t<div class=\"w-full my-2\">\r\n\t\t\t\t\t\t\t\t{show === 5 || show === 10 ? (\r\n\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\tonClick={showMore}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-4 text-sm font-bold cursor-pointer text-blue-500\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tshow more...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PopularJweets;\r\n","import LoadingBox from \"components/box/LoadingBox\";\r\nimport RecommendJweetBox from \"components/box/RecommendJweetBox\";\r\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FiSettings } from \"react-icons/fi\";\r\n\r\nconst RandomJweets = ({\r\n\thandleModalOpen,\r\n\tshow,\r\n\tusers,\r\n\tshowMore,\r\n\ttype,\r\n\tsetType,\r\n}) => {\r\n\tconst [randomList, setRandomList] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tuseEffect(() => {\r\n\t\treturn () => setLoading(false);\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst _myJweet = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tshuffle(_myJweet);\r\n\t\t\t\tif (type === \"\") setType(\"like\");\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [type]);\r\n\r\n\tfunction shuffle(array) {\r\n\t\tfor (let index = array.length - 1; index > 0; index--) {\r\n\t\t\t// 무작위 index 값을 만든다. (0 이상의 배열 길이 값)\r\n\t\t\tconst randomPosition = Math.floor(Math.random() * (index + 1));\r\n\t\t\t// 임시로 원본 값을 저장하고, randomPosition을 사용해 배열 요소를 섞는다.\r\n\t\t\tconst temporary = array[index];\r\n\t\t\tarray[index] = array[randomPosition];\r\n\t\t\tarray[randomPosition] = temporary;\r\n\t\t}\r\n\t\tsetRandomList(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none py-3 border border-gray-100 bg-gray-100 w-full h-auto mt-2 rounded-xl\">\r\n\t\t\t\t<div class=\"px-4 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t<p class=\"text-lg mb-2\">\r\n\t\t\t\t\t\t<b>Random Jweets</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={handleModalOpen}\r\n\t\t\t\t\t\tclass=\"relative hover:bg-gray-300 rounded-full cursor-pointer p-2 mb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FiSettings size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div class=\"flex-col\">\r\n\t\t\t\t\t\t\t{randomList.map((element, index) => {\r\n\t\t\t\t\t\t\t\tif (index < show) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<RecommendJweetBox\r\n\t\t\t\t\t\t\t\t\t\t\tkey={element.id}\r\n\t\t\t\t\t\t\t\t\t\t\tjweet={element}\r\n\t\t\t\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{randomList.length >= 5 && (\r\n\t\t\t\t\t\t\t<div class=\"w-full my-2\">\r\n\t\t\t\t\t\t\t\t{show === 5 || show === 10 ? (\r\n\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\tonClick={showMore}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-4 text-sm font-bold cursor-pointer text-blue-500\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tshow more...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RandomJweets;\r\n","import React from \"react\";\r\nimport { CgArrowsExchangeAlt } from \"react-icons/cg\";\r\nimport Modal from \"@mui/material/Modal\";\r\n\r\nconst RecommendMethodModal = ({\r\n\tmodalOpen,\r\n\thandleModalClose,\r\n\tselectType,\r\n\ttype,\r\n}) => {\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\topen={modalOpen}\r\n\t\t\tonClose={handleModalClose}\r\n\t\t\taria-labelledby=\"modal-modal-title\"\r\n\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t>\r\n\t\t\t<div class=\"outline-none absolute border border-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 origin-center w-96 h-auto py-4 bg-white rounded-2xl flex flex-col justify-start items-start\">\r\n\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t<h1 class=\"px-8 text-xl font-bold mb-2\">Sorting Method</h1>\r\n\t\t\t\t\t{type === \"like\" && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={selectType}\r\n\t\t\t\t\t\t\tclass=\"px-8 cursor-pointer w-full flex flex-row items-center hover:bg-gray-100 py-2\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"mr-4\">\r\n\t\t\t\t\t\t\t\t<CgArrowsExchangeAlt size={40} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t<p class=\"font-bold text-lg\">Random Jweets</p>\r\n\t\t\t\t\t\t\t\t<p class=\"text-sm\">Jweets are randomly selected</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{type === \"random\" && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={selectType}\r\n\t\t\t\t\t\t\tclass=\"px-8 cursor-pointer w-full flex flex-row items-center hover:bg-gray-100 py-2\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"mr-4\">\r\n\t\t\t\t\t\t\t\t<CgArrowsExchangeAlt size={40} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t<p class=\"font-bold text-lg\">Like Jweets</p>\r\n\t\t\t\t\t\t\t\t<p class=\"text-sm\">It's sorted based on likes</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default RecommendMethodModal;\r\n","import PopularJweets from \"components/container/PopularJweets\";\r\nimport RandomJweets from \"components/container/RandomJweets\";\r\nimport RecommendMethodModal from \"components/modal/RecommendMethodModal\";\r\nimport { collection, onSnapshot, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst RecommendJweets = () => {\r\n\tconst history = useHistory();\r\n\tconst [show, setShow] = useState(5);\r\n\t// reply 모달\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst handleModalOpen = () => setModalOpen(true);\r\n\tconst handleModalClose = () => {\r\n\t\tsetModalOpen(false);\r\n\t};\r\n\tconst [type, setType] = useState(\"\");\r\n\r\n\tconst toggleType = () => {\r\n\t\tsetShow(5);\r\n\t\tif (type === \"like\") setType(\"random\");\r\n\t\telse setType(\"like\");\r\n\t};\r\n\r\n\tconst showMore = () => {\r\n\t\tif (show === 5) setShow(10);\r\n\t\telse if (show === 10) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\r\n\t\t\tif (type === \"like\") history.push(\"/popular\");\r\n\t\t\telse history.push(\"/explore/jweets\");\r\n\t\t\tsetShow(5);\r\n\t\t}\r\n\t};\r\n\r\n\tconst selectType = () => {\r\n\t\ttoggleType();\r\n\t\thandleModalClose();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"users\")), (snapshot) => {\r\n\t\t\tconst _user = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tsetUsers(_user);\r\n\t\t});\r\n\t}, [type]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{type === \"like\" ? (\r\n\t\t\t\t<PopularJweets\r\n\t\t\t\t\thandleModalOpen={handleModalOpen}\r\n\t\t\t\t\tshow={show}\r\n\t\t\t\t\tusers={users}\r\n\t\t\t\t\tshowMore={showMore}\r\n\t\t\t\t\ttype={type}\r\n\t\t\t\t\tsetType={setType}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<RandomJweets\r\n\t\t\t\t\thandleModalOpen={handleModalOpen}\r\n\t\t\t\t\tshow={show}\r\n\t\t\t\t\tusers={users}\r\n\t\t\t\t\tshowMore={showMore}\r\n\t\t\t\t\ttype={type}\r\n\t\t\t\t\tsetType={setType}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<RecommendMethodModal\r\n\t\t\t\tmodalOpen={modalOpen}\r\n\t\t\t\thandleModalClose={handleModalClose}\r\n\t\t\t\tselectType={selectType}\r\n\t\t\t\ttype={type}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RecommendJweets;\r\n","import Avatar from \"@mui/material/Avatar\";\r\nimport Skeleton from \"@mui/material/Skeleton\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RecommendUserBox = ({ user }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst goPage = () => {\r\n\t\thistory.push(\"/profile/jweet/\" + user.id);\r\n\t\twindow.scrollTo(0, 0);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) setLoading(true);\r\n\t}, []);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={goPage}\r\n\t\t\tclass=\"h-full pl-2 pr-4 py-1 select-none cursor-pointer flex flex-row justify-between items-center hover:bg-gray-200\"\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-row h-12 w-full items-center\">\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<div class=\"h-full p-1 mr-2 pt-1\">\r\n\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\tsrc={user.photoURL ? user.photoURL : \"\"}\r\n\t\t\t\t\t\t\tsx={{ width: 40, height: 40 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Skeleton variant=\"circular\">\r\n\t\t\t\t\t\t<div class=\"h-full p-1 mr-2 pt-1\">\r\n\t\t\t\t\t\t\t<Avatar sx={{ width: 40, height: 40 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Skeleton>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<b>{user.displayName}</b>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">@{user.email.split(\"@\")[0]}</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t\t<b>{user.displayName}</b>\r\n\t\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Skeleton width=\"100%\">\r\n\t\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">@{user.email.split(\"@\")[0]}</p>\r\n\t\t\t\t\t\t\t</Skeleton>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecommendUserBox;\r\n","import LoadingBox from \"components/box/LoadingBox\";\r\nimport RecommendUserBox from \"components/box/RecommendUserBox\";\r\nimport { collection, onSnapshot, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { RiRefreshLine } from \"react-icons/ri\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst RecommendUsers = () => {\r\n\tconst history = useHistory();\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst [users, setUsers] = useState([]);\r\n\r\n\tconst [refresh, setRefresh] = useState(false);\r\n\tconst toggleRefresh = () => setRefresh(!refresh);\r\n\r\n\tconst showMore = () => {\r\n\t\thistory.push(\"/explore/users\");\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"users\")), (snapshot) => {\r\n\t\t\tconst _user = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tshuffle(_user);\r\n\t\t\tsetUsers(_user);\r\n\t\t\tsetLoading(true);\r\n\t\t});\r\n\t}, [refresh]);\r\n\r\n\tfunction shuffle(array) {\r\n\t\tfor (let index = array.length - 1; index > 0; index--) {\r\n\t\t\tconst randomPosition = Math.floor(Math.random() * (index + 1));\r\n\t\t\tconst temporary = array[index];\r\n\t\t\tarray[index] = array[randomPosition];\r\n\t\t\tarray[randomPosition] = temporary;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div class=\"select-none py-3 border border-gray-100 bg-gray-100 w-full h-auto mt-2 rounded-xl\">\r\n\t\t\t\t<div class=\"px-4 flex flex-row justify-between items-center\">\r\n\t\t\t\t\t<p class=\"text-lg mb-2\">\r\n\t\t\t\t\t\t<b>You might like</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={toggleRefresh}\r\n\t\t\t\t\t\tclass=\"relative hover:bg-gray-300 rounded-full cursor-pointer p-2 mb-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RiRefreshLine size={16} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div class=\"flex-col\">\r\n\t\t\t\t\t\t\t{users.map((user, index) => {\r\n\t\t\t\t\t\t\t\tif (index < 5) {\r\n\t\t\t\t\t\t\t\t\treturn <RecommendUserBox key={user.id} user={user} />;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full my-2\">\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={showMore}\r\n\t\t\t\t\t\t\t\tclass=\"px-4 text-sm font-bold cursor-pointer text-blue-500\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tshow more...\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<LoadingBox />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default RecommendUsers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchJweetBlock = ({ jweet, users, setFocus }) => {\r\n\tconst [filteredUser, setFilteredUser] = useState(\"\");\r\n\tuseEffect(() => {\r\n\t\tconst _filteredUser = users.filter(function (element, index) {\r\n\t\t\treturn element.id === jweet.creatorId;\r\n\t\t});\r\n\t\tsetFilteredUser(_filteredUser);\r\n\t}, []);\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tto={\"/jweet/\" + jweet.id}\r\n\t\t\tonClick={() => setFocus(false)}\r\n\t\t\tclass=\"select-none cursor-pointer flex flex-col  hover:bg-gray-100\"\r\n\t\t>\r\n\t\t\t<div class=\"flex flex-row h-12\">\r\n\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t<div class=\"h-full p-2\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={filteredUser[0].photoURL ? filteredUser[0].photoURL : \"\"}\r\n\t\t\t\t\t\t\tclass=\"h-full rounded-full object-cover mr-2\"\r\n\t\t\t\t\t\t\talt=\"photourl\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t\t{filteredUser[0] && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<b>{filteredUser[0].displayName}</b>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t@{filteredUser[0].email.split(\"@\")[0]}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<p class=\"truncate text-sm px-2 pt-1 pb-2\">{jweet.text}</p>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default SearchJweetBlock;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchUserBlock = ({ user, setFocus }) => {\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tto={\"/profile/jweet/\" + user.id}\r\n\t\t\tonClick={() => setFocus(false)}\r\n\t\t\tclass=\"select-none cursor-pointer flex flex-row h-16 hover:bg-gray-100\"\r\n\t\t>\r\n\t\t\t<div class=\"h-full p-2\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={user.photoURL}\r\n\t\t\t\t\tclass=\"w-12 rounded-full object-cover mr-2\"\r\n\t\t\t\t\talt=\"photourl\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"w-full flex flex-col justify-center\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<b>{user.displayName}</b>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"text-sm text-gray-500\">@{user.email.split(\"@\")[0]}</p>\r\n\t\t\t\t<p class=\"text-xs text-gray-500 overflow-ellipsis overflow-hidden leading-5\">\r\n\t\t\t\t\t{user.description !== \"\" ? user.description : \"\"}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default SearchUserBlock;\r\n","import SearchJweetBox from \"components/box/SearchJweetBox\";\r\nimport SearchUserBox from \"components/box/SearchUserBox\";\r\nimport { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\r\nimport { db } from \"mybase\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport { MdCancel } from \"react-icons/md\";\r\n\r\nconst SearchBox = () => {\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst [focus, setFocus] = useState(false);\r\n\tconst [filteredJweets, setFilteredJweets] = useState([]);\r\n\tconst [filteredUsers, setFilteredUsers] = useState([]);\r\n\tconst inputRef = useRef();\r\n\tconst [jweets, setJweets] = useState([]);\r\n\tconst [users, setUsers] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tonSnapshot(query(collection(db, \"users\")), (snapshot) => {\r\n\t\t\tconst _user = snapshot.docs.map((doc) => ({\r\n\t\t\t\tid: doc.id,\r\n\t\t\t\t...doc.data(),\r\n\t\t\t}));\r\n\t\t\tsetUsers(_user);\r\n\t\t});\r\n\t\tonSnapshot(\r\n\t\t\tquery(collection(db, \"jweets\"), orderBy(\"createdAt\", \"desc\")),\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tconst _jweet = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}));\r\n\t\t\t\tsetJweets(_jweet);\r\n\t\t\t}\r\n\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (search !== \"\") {\r\n\t\t\tgetFiltered();\r\n\t\t} else {\r\n\t\t\tsetFilteredJweets([]);\r\n\t\t\tsetFilteredUsers([]);\r\n\t\t}\r\n\t}, [search]);\r\n\r\n\tconst getFiltered = async () => {\r\n\t\tconst _filteredUsers = await users.filter(function (element, index) {\r\n\t\t\treturn (\r\n\t\t\t\telement.displayName.includes(search) ||\r\n\t\t\t\telement.email.includes(search) ||\r\n\t\t\t\tsearch === \"all\"\r\n\t\t\t);\r\n\t\t});\r\n\t\tawait setFilteredUsers(_filteredUsers);\r\n\t\tconst _filteredJweets = await jweets.filter(function (element, index) {\r\n\t\t\treturn element.text.includes(search) || search === \"all\";\r\n\t\t});\r\n\t\tawait setFilteredJweets(_filteredJweets);\r\n\t};\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetSearch(e.target.value);\r\n\t};\r\n\tconst clearText = (e) => {\r\n\t\tsetSearch(\"\");\r\n\t\tsetFocus(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!focus) return;\r\n\t\tfunction handleClick(e) {\r\n\t\t\tif (inputRef.current === null) {\r\n\t\t\t\treturn;\r\n\t\t\t} else if (!inputRef.current.contains(e.target)) {\r\n\t\t\t\tsetFocus(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.addEventListener(\"click\", handleClick);\r\n\r\n\t\treturn () => window.removeEventListener(\"click\", handleClick);\r\n\t}, [focus]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={inputRef}\r\n\t\t\tclass=\"relative w-full h-14 border-b border-gray-200 py-1 flex flex-row items-center\"\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"h-full w-full flex flex-row rounded-full items-center px-2 py-2 \" +\r\n\t\t\t\t\t(focus\r\n\t\t\t\t\t\t? \"bg-white text-blue-500 border border-blue-500\"\r\n\t\t\t\t\t\t: \"bg-gray-100 text-gray-500 border border-gray-200\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<FiSearch\r\n\t\t\t\t\t\tsize={20}\r\n\t\t\t\t\t\tclass={\" \" + (focus ? \" text-blue-500\" : \"text-gray-500\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Search Jwitter\"\r\n\t\t\t\t\tonFocus={() => setFocus(true)}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tvalue={search}\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"select-none w-full outline-none text-sm text-gray-500 py-1 px-2 \" +\r\n\t\t\t\t\t\t(focus ? \"bg-white \" : \"bg-gray-100 \")\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{focus && search !== \"\" && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tonClick={clearText}\r\n\t\t\t\t\t\tclass=\"z-40 p-2 rounded-full flex justify-center items-center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MdCancel size={24} class=\"text-blue-500\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{focus && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass={\r\n\t\t\t\t\t\t\"z-50 select-none absolute px-4 py-4 border border-gray-200 max-h-96 bg-white rounded-lg w-full top-14 shadow-xl h-auto \" +\r\n\t\t\t\t\t\t(filteredUsers.length !== 0 || filteredJweets.length !== 0\r\n\t\t\t\t\t\t\t? \"overflow-y-scroll\"\r\n\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{search !== \"\" &&\r\n\t\t\t\t\t\tfilteredUsers.length === 0 &&\r\n\t\t\t\t\t\tfilteredJweets.length === 0 && (\r\n\t\t\t\t\t\t\t<div class=\"w-full text-xs mb-6\">\r\n\t\t\t\t\t\t\t\t<p>search for \"{search}\"</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t{search === \"\" && (\r\n\t\t\t\t\t\t<div class=\"w-full text-xs mb-6\">\r\n\t\t\t\t\t\t\t<p>Try searching for people, topics, or keywords</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{filteredUsers.length !== 0 && (\r\n\t\t\t\t\t\t<div class=\"border-b border-gray-200 pb-2\">\r\n\t\t\t\t\t\t\t<div class=\"w-full font-bold text-lg mb-1 \">Users</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t\t\t{filteredUsers.map((user, index) => {\r\n\t\t\t\t\t\t\t\t\treturn <SearchUserBox user={user} setFocus={setFocus} />;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{filteredJweets.length !== 0 && (\r\n\t\t\t\t\t\t<div class=\"w-full font-bold text-lg mt-3 mb-1 \">Jweets</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t\t{filteredJweets.map((jweet, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<SearchJweetBox\r\n\t\t\t\t\t\t\t\t\tjweet={jweet}\r\n\t\t\t\t\t\t\t\t\tusers={users}\r\n\t\t\t\t\t\t\t\t\tsetFocus={setFocus}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import RecommendJweets from \"components/container/RecommendJweets\";\r\nimport RecommendUsers from \"components/container/RecommendUsers\";\r\nimport SearchBox from \"components/box/SearchBox\";\r\nimport React from \"react\";\r\nconst Rightbar = () => {\r\n\treturn (\r\n\t\t<div class=\"h-full w-80 hidden xl:flex xl:flex-col xl:items-center border-l border-gray-100 px-4 \">\r\n\t\t\t<SearchBox />\r\n\t\t\t<RecommendUsers />\r\n\t\t\t<div class=\"w-full mb-2\"></div>\r\n\t\t\t<RecommendJweets />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Rightbar;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n\tHashRouter as Router,\r\n\tRedirect,\r\n\tRoute,\r\n\tSwitch,\r\n} from \"react-router-dom\";\r\nimport Bookmark from \"routes/Bookmark\";\r\nimport Explore from \"routes/Explore\";\r\nimport Home from \"routes/Home\";\r\nimport Detail from \"routes/Detail\";\r\nimport Leftbar from \"routes/Leftbar\";\r\nimport Login from \"routes/Login\";\r\nimport Popular from \"routes/Popular\";\r\nimport Profile from \"routes/Profile\";\r\nimport Rightbar from \"routes/Rightbar\";\r\n\r\nconst AppRouter = (props) => {\r\n\tconst loginToken = useSelector((state) => state.user.loginToken);\r\n\tconst currentUser = useSelector((state) => state.user.currentUser);\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<div\r\n\t\t\t\tclass={\r\n\t\t\t\t\t\"w-full h-full bg-white transition delay-75 duration-300 dark:bg-black \" +\r\n\t\t\t\t\t(loginToken === \"login\" && currentUser\r\n\t\t\t\t\t\t? \"flex flex-row px-0 lg:px-36\"\r\n\t\t\t\t\t\t: \"\")\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{loginToken === \"login\" && currentUser && <Leftbar />}\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t{loginToken === \"login\" && currentUser ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/bookmark\" component={Bookmark} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/explore/:type\" component={Explore} />\r\n\r\n\t\t\t\t\t\t\t<Route exact path=\"/popular\" component={Popular} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/home\" component={Home} />\r\n\t\t\t\t\t\t\t<Route exact path=\"/jweet/:id\" component={Detail} />\r\n\t\t\t\t\t\t\t<Route path=\"/profile/:type/:id\" component={Profile} />\r\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/\" />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Route exact path=\"/\" component={Login} />\r\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/\" />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Switch>\r\n\t\t\t\t{loginToken === \"login\" && currentUser && <Rightbar />}\r\n\t\t\t</div>\r\n\t\t</Router>\r\n\t);\r\n};\r\n\r\nexport default AppRouter;\r\n","import AppRouter from \"routes/Router\";\nimport React from \"react\";\n\nfunction App() {\n\treturn <AppRouter />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport configureStore from \"./app/store\";\nimport \"./index.css\";\nimport App from \"./routes/App\";\n\nconst { store, persistor } = configureStore();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<PersistGate loading={null} persistor={persistor}>\n\t\t\t\t<App />\n\t\t\t</PersistGate>\n\t\t</BrowserRouter>\n\t</Provider>,\n\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}